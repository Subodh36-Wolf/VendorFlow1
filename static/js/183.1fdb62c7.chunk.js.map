{"version":3,"file":"static/js/183.1fdb62c7.chunk.js","mappings":"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","sources":["components/Admin/JobAssignmentForm.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useNavigate, useSearchParams, Link } from 'react-router-dom';\nimport { collection, getDocs, addDoc, doc, getDoc } from 'firebase/firestore';\nimport { db } from '../../firebase';\nimport { useNotification } from './NotificationSystem';\nimport { \n  FiArrowLeft, FiCalendar, FiDollarSign, FiUser, FiFileText, \n  FiClock, FiTool, FiShield, FiAward, FiEye, FiPlus, FiMinus,\n  FiCheckCircle, FiAlertTriangle, FiSettings\n} from 'react-icons/fi';\n\nexport default function JobAssignmentForm() {\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n  const { showSuccess, showError } = useNotification();\n  const [loading, setLoading] = useState(false);\n  const [vendors, setVendors] = useState([]);\n  const [selectedVendor, setSelectedVendor] = useState(null);\n  const [formData, setFormData] = useState({\n    vendorId: searchParams.get('vendorId') || '',\n    jobTitle: '',\n    description: '',\n    requirements: '',\n    budget: '',\n    deadline: '',\n    priority: 'medium',\n    status: 'assigned',\n    location: '',\n    contactPerson: '',\n    contactEmail: '',\n    contactPhone: '',\n    deliverables: [],\n    milestones: [],\n    // Enhanced fields\n    jobType: 'machining',\n    estimatedHours: '',\n    skillsRequired: [],\n    materials: [],\n    safetyRequirements: '',\n    qualityStandards: '',\n    paymentTerms: 'net30',\n    currency: 'INR',\n    taxRate: '18',\n    advancePayment: '',\n    penaltyClause: '',\n    bonusClause: '',\n    workingHours: '8',\n    overtimeRate: '',\n    equipmentRequired: [],\n    inspectionRequired: false,\n    certificationRequired: false,\n    insuranceRequired: false\n  });\n\n  const [errors, setErrors] = useState({});\n  const [showPreview, setShowPreview] = useState(false);\n\n  useEffect(() => {\n    fetchVendors();\n    if (formData.vendorId) {\n      fetchVendorDetails(formData.vendorId);\n    }\n  }, [formData.vendorId]);\n\n  const fetchVendors = async () => {\n    try {\n      const vendorsSnapshot = await getDocs(collection(db, 'vendors'));\n      const vendorsData = [];\n      vendorsSnapshot.forEach((doc) => {\n        const vendor = { id: doc.id, ...doc.data() };\n        if (vendor.status === 'active') {\n          vendorsData.push(vendor);\n        }\n      });\n      setVendors(vendorsData);\n    } catch (error) {\n      console.error('Error fetching vendors:', error);\n      showError('Failed to load vendors');\n    }\n  };\n\n  const fetchVendorDetails = async (vendorId) => {\n    try {\n      const vendorDoc = await getDoc(doc(db, 'vendors', vendorId));\n      if (vendorDoc.exists()) {\n        setSelectedVendor({ id: vendorDoc.id, ...vendorDoc.data() });\n      }\n    } catch (error) {\n      console.error('Error fetching vendor details:', error);\n    }\n  };\n\n  const validateForm = () => {\n    const newErrors = {};\n    \n    if (!formData.vendorId) newErrors.vendorId = 'Vendor is required';\n    if (!formData.jobTitle.trim()) newErrors.jobTitle = 'Job title is required';\n    if (!formData.description.trim()) newErrors.description = 'Description is required';\n    if (!formData.deadline) newErrors.deadline = 'Deadline is required';\n    if (formData.budget && isNaN(formData.budget)) newErrors.budget = 'Budget must be a number';\n    if (formData.estimatedHours && isNaN(formData.estimatedHours)) newErrors.estimatedHours = 'Estimated hours must be a number';\n    if (formData.taxRate && (isNaN(formData.taxRate) || formData.taxRate < 0 || formData.taxRate > 100)) {\n      newErrors.taxRate = 'Tax rate must be between 0-100';\n    }\n    \n    // Validate deadline is in future\n    if (formData.deadline && new Date(formData.deadline) <= new Date()) {\n      newErrors.deadline = 'Deadline must be in the future';\n    }\n    \n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const calculateTotalCost = () => {\n    const budget = parseFloat(formData.budget || 0);\n    const taxRate = parseFloat(formData.taxRate || 0);\n    const advance = parseFloat(formData.advancePayment || 0);\n    \n    const taxAmount = (budget * taxRate) / 100;\n    const totalWithTax = budget + taxAmount;\n    const remainingAmount = totalWithTax - advance;\n    \n    return {\n      subtotal: budget,\n      taxAmount,\n      totalWithTax,\n      advancePayment: advance,\n      remainingAmount\n    };\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      showError('Please fix the validation errors');\n      return;\n    }\n    \n    try {\n      setLoading(true);\n      const costs = calculateTotalCost();\n      \n      const jobData = {\n        ...formData,\n        createdAt: new Date(),\n        updatedAt: new Date(),\n        assignedBy: 'admin',\n        deliverables: formData.deliverables.filter(d => d.trim() !== ''),\n        milestones: formData.milestones.filter(m => m.title && m.date),\n        skillsRequired: formData.skillsRequired.filter(s => s.trim() !== ''),\n        materials: formData.materials.filter(m => m.name && m.quantity),\n        equipmentRequired: formData.equipmentRequired.filter(e => e.trim() !== ''),\n        costBreakdown: costs,\n        jobNumber: `JOB-${Date.now()}`,\n        estimatedCompletionDate: formData.deadline\n      };\n\n      await addDoc(collection(db, 'jobAssignments'), jobData);\n      showSuccess('Job assigned successfully');\n      navigate('/admin/job-assignments');\n    } catch (error) {\n      console.error('Error assigning job:', error);\n      showError('Failed to assign job');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({ ...prev, [name]: value }));\n    \n    if (name === 'vendorId') {\n      fetchVendorDetails(value);\n    }\n  };\n\n  const addDeliverable = () => {\n    setFormData(prev => ({\n      ...prev,\n      deliverables: [...prev.deliverables, '']\n    }));\n  };\n\n  const updateDeliverable = (index, value) => {\n    setFormData(prev => ({\n      ...prev,\n      deliverables: prev.deliverables.map((item, i) => i === index ? value : item)\n    }));\n  };\n\n  const removeDeliverable = (index) => {\n    setFormData(prev => ({\n      ...prev,\n      deliverables: prev.deliverables.filter((_, i) => i !== index)\n    }));\n  };\n\n  const addMilestone = () => {\n    setFormData(prev => ({\n      ...prev,\n      milestones: [...prev.milestones, { title: '', date: '', description: '' }]\n    }));\n  };\n\n  const updateMilestone = (index, field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      milestones: prev.milestones.map((milestone, i) => \n        i === index ? { ...milestone, [field]: value } : milestone\n      )\n    }));\n  };\n\n  const removeMilestone = (index) => {\n    setFormData(prev => ({\n      ...prev,\n      milestones: prev.milestones.filter((_, i) => i !== index)\n    }));\n  };\n\n  // Skills management\n  const addSkill = () => {\n    setFormData(prev => ({\n      ...prev,\n      skillsRequired: [...prev.skillsRequired, '']\n    }));\n  };\n\n  const updateSkill = (index, value) => {\n    setFormData(prev => ({\n      ...prev,\n      skillsRequired: prev.skillsRequired.map((skill, i) => i === index ? value : skill)\n    }));\n  };\n\n  const removeSkill = (index) => {\n    setFormData(prev => ({\n      ...prev,\n      skillsRequired: prev.skillsRequired.filter((_, i) => i !== index)\n    }));\n  };\n\n  // Materials management\n  const addMaterial = () => {\n    setFormData(prev => ({\n      ...prev,\n      materials: [...prev.materials, { name: '', quantity: '', unit: '', cost: '' }]\n    }));\n  };\n\n  const updateMaterial = (index, field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      materials: prev.materials.map((material, i) => \n        i === index ? { ...material, [field]: value } : material\n      )\n    }));\n  };\n\n  const removeMaterial = (index) => {\n    setFormData(prev => ({\n      ...prev,\n      materials: prev.materials.filter((_, i) => i !== index)\n    }));\n  };\n\n  // Equipment management\n  const addEquipment = () => {\n    setFormData(prev => ({\n      ...prev,\n      equipmentRequired: [...prev.equipmentRequired, '']\n    }));\n  };\n\n  const updateEquipment = (index, value) => {\n    setFormData(prev => ({\n      ...prev,\n      equipmentRequired: prev.equipmentRequired.map((equipment, i) => i === index ? value : equipment)\n    }));\n  };\n\n  const removeEquipment = (index) => {\n    setFormData(prev => ({\n      ...prev,\n      equipmentRequired: prev.equipmentRequired.filter((_, i) => i !== index)\n    }));\n  };\n\n  return (\n    <div className=\"max-w-4xl mx-auto p-6\">\n      <div className=\"mb-6\">\n        <Link\n          to=\"/admin/job-assignments\"\n          className=\"text-indigo-600 hover:text-indigo-800 flex items-center mb-4\"\n        >\n          <FiArrowLeft className=\"mr-2\" />\n          Back to Job Assignments\n        </Link>\n        <h1 className=\"text-2xl font-bold text-gray-900\">Assign New Job</h1>\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\n        {/* Vendor Selection */}\n        <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n          <h2 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n            <FiUser className=\"mr-2\" />\n            Vendor Selection\n          </h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Select Vendor *\n              </label>\n              <select\n                name=\"vendorId\"\n                value={formData.vendorId}\n                onChange={handleChange}\n                required\n                className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n              >\n                <option value=\"\">Choose a vendor...</option>\n                {vendors.map(vendor => (\n                  <option key={vendor.id} value={vendor.id}>\n                    {vendor.companyName} - {vendor.category}\n                  </option>\n                ))}\n              </select>\n            </div>\n            {selectedVendor && (\n              <div className=\"bg-gray-50 p-4 rounded-md\">\n                <h3 className=\"text-sm font-medium text-gray-700 mb-2\">Vendor Details</h3>\n                <p className=\"text-sm text-gray-600\">Contact: {selectedVendor.contactPerson}</p>\n                <p className=\"text-sm text-gray-600\">Email: {selectedVendor.email}</p>\n                <p className=\"text-sm text-gray-600\">Phone: {selectedVendor.phone}</p>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Job Details */}\n        <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n          <h2 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n            <FiFileText className=\"mr-2\" />\n            Job Details\n          </h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Job Title *\n              </label>\n              <input\n                type=\"text\"\n                name=\"jobTitle\"\n                value={formData.jobTitle}\n                onChange={handleChange}\n                required\n                className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n              />\n            </div>\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Description *\n              </label>\n              <textarea\n                name=\"description\"\n                value={formData.description}\n                onChange={handleChange}\n                required\n                rows={4}\n                className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n              />\n            </div>\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Requirements\n              </label>\n              <textarea\n                name=\"requirements\"\n                value={formData.requirements}\n                onChange={handleChange}\n                rows={3}\n                className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Job Type *\n              </label>\n              <select\n                name=\"jobType\"\n                value={formData.jobType}\n                onChange={handleChange}\n                className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n              >\n                <option value=\"machining\">Machining</option>\n                <option value=\"fabrication\">Fabrication</option>\n                <option value=\"assembly\">Assembly</option>\n                <option value=\"welding\">Welding</option>\n                <option value=\"inspection\">Inspection</option>\n                <option value=\"maintenance\">Maintenance</option>\n                <option value=\"consulting\">Consulting</option>\n                <option value=\"other\">Other</option>\n              </select>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Budget (₹)\n              </label>\n              <input\n                type=\"number\"\n                name=\"budget\"\n                value={formData.budget}\n                onChange={handleChange}\n                className={`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 ${\n                  errors.budget ? 'border-red-300' : 'border-gray-300'\n                }`}\n              />\n              {errors.budget && <p className=\"text-red-500 text-sm mt-1\">{errors.budget}</p>}\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Estimated Hours\n              </label>\n              <input\n                type=\"number\"\n                name=\"estimatedHours\"\n                value={formData.estimatedHours}\n                onChange={handleChange}\n                className={`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 ${\n                  errors.estimatedHours ? 'border-red-300' : 'border-gray-300'\n                }`}\n              />\n              {errors.estimatedHours && <p className=\"text-red-500 text-sm mt-1\">{errors.estimatedHours}</p>}\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Deadline *\n              </label>\n              <input\n                type=\"date\"\n                name=\"deadline\"\n                value={formData.deadline}\n                onChange={handleChange}\n                required\n                className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Priority\n              </label>\n              <select\n                name=\"priority\"\n                value={formData.priority}\n                onChange={handleChange}\n                className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n              >\n                <option value=\"low\">Low</option>\n                <option value=\"medium\">Medium</option>\n                <option value=\"high\">High</option>\n                <option value=\"urgent\">Urgent</option>\n              </select>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Location\n              </label>\n              <input\n                type=\"text\"\n                name=\"location\"\n                value={formData.location}\n                onChange={handleChange}\n                className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Contact Information */}\n        <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n          <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Contact Information</h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Contact Person\n              </label>\n              <input\n                type=\"text\"\n                name=\"contactPerson\"\n                value={formData.contactPerson}\n                onChange={handleChange}\n                className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Contact Email\n              </label>\n              <input\n                type=\"email\"\n                name=\"contactEmail\"\n                value={formData.contactEmail}\n                onChange={handleChange}\n                className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Contact Phone\n              </label>\n              <input\n                type=\"tel\"\n                name=\"contactPhone\"\n                value={formData.contactPhone}\n                onChange={handleChange}\n                className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Deliverables */}\n        <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n          <div className=\"flex justify-between items-center mb-4\">\n            <h2 className=\"text-lg font-semibold text-gray-900\">Deliverables</h2>\n            <button\n              type=\"button\"\n              onClick={addDeliverable}\n              className=\"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200 text-sm\"\n            >\n              Add Deliverable\n            </button>\n          </div>\n          {formData.deliverables.map((deliverable, index) => (\n            <div key={index} className=\"flex items-center space-x-2 mb-2\">\n              <input\n                type=\"text\"\n                value={deliverable}\n                onChange={(e) => updateDeliverable(index, e.target.value)}\n                placeholder=\"Enter deliverable...\"\n                className=\"flex-1 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n              />\n              <button\n                type=\"button\"\n                onClick={() => removeDeliverable(index)}\n                className=\"px-2 py-2 text-red-600 hover:text-red-800\"\n              >\n                Remove\n              </button>\n            </div>\n          ))}\n        </div>\n\n        {/* Milestones */}\n        <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n          <div className=\"flex justify-between items-center mb-4\">\n            <h2 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n              <FiCalendar className=\"mr-2\" />\n              Milestones\n            </h2>\n            <button\n              type=\"button\"\n              onClick={addMilestone}\n              className=\"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200 text-sm\"\n            >\n              Add Milestone\n            </button>\n          </div>\n          {formData.milestones.map((milestone, index) => (\n            <div key={index} className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4 p-4 border border-gray-200 rounded-md\">\n              <div>\n                <input\n                  type=\"text\"\n                  value={milestone.title}\n                  onChange={(e) => updateMilestone(index, 'title', e.target.value)}\n                  placeholder=\"Milestone title...\"\n                  className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n                />\n              </div>\n              <div>\n                <input\n                  type=\"date\"\n                  value={milestone.date}\n                  onChange={(e) => updateMilestone(index, 'date', e.target.value)}\n                  className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n                />\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <input\n                  type=\"text\"\n                  value={milestone.description}\n                  onChange={(e) => updateMilestone(index, 'description', e.target.value)}\n                  placeholder=\"Description...\"\n                  className=\"flex-1 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => removeMilestone(index)}\n                  className=\"px-2 py-2 text-red-600 hover:text-red-800\"\n                >\n                  Remove\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        <div className=\"flex justify-end space-x-4\">\n          <Link\n            to=\"/admin/job-assignments\"\n            className=\"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50\"\n          >\n            Cancel\n          </Link>\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 flex items-center\"\n          >\n            {loading && <div className=\"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2\"></div>}\n            Assign Job\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n"],"names":["JobAssignmentForm","navigate","useNavigate","searchParams","useSearchParams","showSuccess","showError","useNotification","loading","setLoading","useState","vendors","setVendors","selectedVendor","setSelectedVendor","formData","setFormData","vendorId","get","jobTitle","description","requirements","budget","deadline","priority","status","location","contactPerson","contactEmail","contactPhone","deliverables","milestones","jobType","estimatedHours","skillsRequired","materials","safetyRequirements","qualityStandards","paymentTerms","currency","taxRate","advancePayment","penaltyClause","bonusClause","workingHours","overtimeRate","equipmentRequired","inspectionRequired","certificationRequired","insuranceRequired","errors","setErrors","showPreview","setShowPreview","useEffect","fetchVendors","fetchVendorDetails","async","vendorsSnapshot","getDocs","collection","db","vendorsData","forEach","doc","vendor","id","data","push","error","console","vendorDoc","getDoc","exists","handleChange","e","name","value","target","prev","updateMilestone","index","field","map","milestone","i","_jsxs","className","children","Link","to","_jsx","FiArrowLeft","onSubmit","preventDefault","validateForm","newErrors","trim","isNaN","Date","Object","keys","length","costs","calculateTotalCost","parseFloat","advance","taxAmount","totalWithTax","subtotal","remainingAmount","jobData","createdAt","updatedAt","assignedBy","filter","d","m","title","date","s","quantity","costBreakdown","jobNumber","now","estimatedCompletionDate","addDoc","FiUser","onChange","required","companyName","category","email","phone","FiFileText","type","rows","onClick","addDeliverable","deliverable","updateDeliverable","item","placeholder","_","removeDeliverable","FiCalendar","addMilestone","removeMilestone","disabled"],"sourceRoot":""}