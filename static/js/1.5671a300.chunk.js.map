{"version":3,"file":"static/js/1.5671a300.chunk.js","mappings":"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","sources":["services/vendorService.js","components/Admin/VendorList.jsx"],"sourcesContent":["import { collection, addDoc, getDocs, getDoc, updateDoc, deleteDoc, doc, serverTimestamp, query, orderBy, where, writeBatch } from 'firebase/firestore';\r\nimport { db } from '../firebase';\r\n\r\nconst VENDORS_COLLECTION = 'vendors';\r\nconst VENDOR_ACTIVITY_COLLECTION = 'vendorActivity';\r\n\r\n// Normalize vendor data coming from UI before saving\r\nexport function normalizeVendorForSave(raw) {\r\n\tconst numeric = (v) => (v === '' || v === null || v === undefined ? null : Number(v));\r\n\treturn {\r\n\t\tname: String(raw.name || '').trim(),\r\n\t\temail: String(raw.email || '').trim().toLowerCase(),\r\n\t\tphone: String(raw.phone || '').trim(),\r\n\t\taddress: String(raw.address || '').trim(),\r\n\t\tcity: String(raw.city || '').trim(),\r\n\t\tstate: String(raw.state || '').trim(),\r\n\t\tzipCode: String(raw.zipCode || '').trim(),\r\n\t\tcountry: String(raw.country || 'India').trim(),\r\n\t\twebsite: String(raw.website || '').trim(),\r\n\t\tcontactPerson: String(raw.contactPerson || '').trim(),\r\n\t\tcontactPhone: String(raw.contactPhone || '').trim(),\r\n\t\tcontactEmail: String(raw.contactEmail || '').trim().toLowerCase(),\r\n\t\tcategory: String(raw.category || '').trim(),\r\n\t\trating: numeric(raw.rating) ?? 0,\r\n\t\tgstNumber: String(raw.gstNumber || '').trim(),\r\n\t\tpanNumber: String(raw.panNumber || '').trim(),\r\n\t\tbankDetails: {\r\n\t\t\taccountNumber: String(raw.bankDetails?.accountNumber || '').trim(),\r\n\t\t\tifscCode: String(raw.bankDetails?.ifscCode || '').trim(),\r\n\t\t\tbankName: String(raw.bankDetails?.bankName || '').trim(),\r\n\t\t\taccountHolderName: String(raw.bankDetails?.accountHolderName || '').trim(),\r\n\t\t},\r\n\t\tservices: Array.isArray(raw.services) ? raw.services.filter(Boolean) : [],\r\n\t\tstatus: raw.status || 'active',\r\n\t\tnotes: String(raw.notes || '').trim(),\r\n\t\testablishedYear: numeric(raw.establishedYear),\r\n\t\temployeeCount: numeric(raw.employeeCount),\r\n\t\tannualRevenue: numeric(raw.annualRevenue),\r\n\t\tcreditLimit: numeric(raw.creditLimit),\r\n\t\tpreferredPaymentTerms: numeric(raw.preferredPaymentTerms) ?? 30,\r\n\t\ttaxId: String(raw.taxId || '').trim(),\r\n\t};\r\n}\r\n\r\n// Safely map Firestore doc to UI shape with defaults\r\nexport function mapVendorFromDoc(docSnap) {\r\n\tconst data = docSnap.data() || {};\r\n\treturn {\r\n\t\tid: docSnap.id,\r\n\t\tname: data.name || '',\r\n\t\temail: data.email || '',\r\n\t\tphone: data.phone || '',\r\n\t\taddress: data.address || '',\r\n\t\tcity: data.city || '',\r\n\t\tstate: data.state || '',\r\n\t\tzipCode: data.zipCode || '',\r\n\t\tcountry: data.country || 'India',\r\n\t\twebsite: data.website || '',\r\n\t\tcontactPerson: data.contactPerson || '',\r\n\t\tcontactPhone: data.contactPhone || '',\r\n\t\tcontactEmail: data.contactEmail || '',\r\n\t\tcategory: data.category || '',\r\n\t\trating: typeof data.rating === 'number' ? data.rating : Number(data.rating || 0),\r\n\t\tgstNumber: data.gstNumber || '',\r\n\t\tpanNumber: data.panNumber || '',\r\n\t\tbankDetails: {\r\n\t\t\taccountNumber: data.bankDetails?.accountNumber || '',\r\n\t\t\tifscCode: data.bankDetails?.ifscCode || '',\r\n\t\t\tbankName: data.bankDetails?.bankName || '',\r\n\t\t\taccountHolderName: data.bankDetails?.accountHolderName || '',\r\n\t\t},\r\n\t\tservices: Array.isArray(data.services) ? data.services : [],\r\n\t\tstatus: data.status || 'active',\r\n\t\tnotes: data.notes || '',\r\n\t\testablishedYear: data.establishedYear ?? '',\r\n\t\temployeeCount: data.employeeCount ?? '',\r\n\t\tannualRevenue: data.annualRevenue ?? '',\r\n\t\tcreditLimit: data.creditLimit ?? '',\r\n\t\tpreferredPaymentTerms: data.preferredPaymentTerms ?? 30,\r\n\t\ttaxId: data.taxId || '',\r\n\t\tcreatedAt: data.createdAt,\r\n\t\tupdatedAt: data.updatedAt,\r\n\t};\r\n}\r\n\r\nexport async function getVendorsOrdered() {\r\n\tconst q = query(collection(db, VENDORS_COLLECTION), orderBy('createdAt', 'desc'));\r\n\tconst snapshot = await getDocs(q);\r\n\treturn snapshot.docs.map(mapVendorFromDoc);\r\n}\r\n\r\nexport async function getAllVendors() {\r\n\tconst snapshot = await getDocs(collection(db, VENDORS_COLLECTION));\r\n\treturn snapshot.docs.map(mapVendorFromDoc);\r\n}\r\n\r\nexport async function getVendorById(id) {\r\n\tconst snap = await getDoc(doc(db, VENDORS_COLLECTION, id));\r\n\tif (!snap.exists()) return null;\r\n\treturn mapVendorFromDoc(snap);\r\n}\r\n\r\nasync function findDuplicateVendor(email, phone, excludeId) {\r\n\tconst dupCandidates = [];\r\n\tif (email) {\r\n\t\tconst emailQ = query(collection(db, VENDORS_COLLECTION), where('email', '==', email));\r\n\t\tconst emailSnap = await getDocs(emailQ);\r\n\t\temailSnap.forEach((d) => dupCandidates.push(d));\r\n\t}\r\n\tif (phone) {\r\n\t\tconst phoneQ = query(collection(db, VENDORS_COLLECTION), where('phone', '==', phone));\r\n\t\tconst phoneSnap = await getDocs(phoneQ);\r\n\t\tphoneSnap.forEach((d) => dupCandidates.push(d));\r\n\t}\r\n\r\n\tfor (const d of dupCandidates) {\r\n\t\tif (!excludeId || d.id !== excludeId) {\r\n\t\t\tconst data = d.data();\r\n\t\t\tif (email && data.email === email && (!excludeId || d.id !== excludeId)) {\r\n\t\t\t\treturn { type: 'email', id: d.id };\r\n\t\t\t}\r\n\t\t\tif (phone && data.phone === phone && (!excludeId || d.id !== excludeId)) {\r\n\t\t\t\treturn { type: 'phone', id: d.id };\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n}\r\n\r\nasync function logVendorActivity(vendorId, action, details) {\r\n\ttry {\r\n\t\tawait addDoc(collection(db, VENDOR_ACTIVITY_COLLECTION), {\r\n\t\t\tvendorId,\r\n\t\t\taction,\r\n\t\t\tdetails: details || {},\r\n\t\t\ttimestamp: serverTimestamp(),\r\n\t\t});\r\n\t} catch (_) {\r\n\t\t// Best effort logging; ignore failures\r\n\t}\r\n}\r\n\r\nexport async function createVendor(raw) {\r\n\tconst data = normalizeVendorForSave(raw);\r\n\tconst duplicate = await findDuplicateVendor(data.email, data.phone);\r\n\tif (duplicate) {\r\n\t\tconst err = new Error(duplicate.type === 'email' ? 'DUPLICATE_VENDOR_EMAIL' : 'DUPLICATE_VENDOR_PHONE');\r\n\t\tthrow err;\r\n\t}\r\n\tconst now = serverTimestamp();\r\n\tconst ref = await addDoc(collection(db, VENDORS_COLLECTION), { ...data, createdAt: now, updatedAt: now });\r\n\tawait logVendorActivity(ref.id, 'create', { name: data.name, email: data.email });\r\n}\r\n\r\n// Get vendors with WhatsApp auto-send enabled (simplified query)\r\nexport async function getVendorsWithWhatsAppAutoSend() {\r\n\ttry {\r\n\t\t// Use a simpler query to avoid composite index issues\r\n\t\tconst q = query(\r\n\t\t\tcollection(db, VENDORS_COLLECTION),\r\n\t\t\twhere('status', '==', 'active')\r\n\t\t);\r\n\t\tconst snapshot = await getDocs(q);\r\n\t\t\r\n\t\t// Filter in memory to avoid complex Firestore queries\r\n\t\treturn snapshot.docs\r\n\t\t\t.map(mapVendorFromDoc)\r\n\t\t\t.filter(vendor => \r\n\t\t\t\tvendor.whatsappAutoSend === true && \r\n\t\t\t\tvendor.phone && \r\n\t\t\t\tvendor.phone.trim() !== ''\r\n\t\t\t);\r\n\t} catch (error) {\r\n\t\tconsole.error('Error fetching vendors with WhatsApp auto-send:', error);\r\n\t\t// Return empty array instead of throwing to prevent app crashes\r\n\t\treturn [];\r\n\t}\r\n}\r\n\r\n// Update vendor WhatsApp settings\r\nexport async function updateVendorWhatsAppSettings(vendorId, settings) {\r\n\ttry {\r\n\t\tconst vendorRef = doc(db, VENDORS_COLLECTION, vendorId);\r\n\t\tawait updateDoc(vendorRef, {\r\n\t\t\twhatsappAutoSend: settings.autoSend || false,\r\n\t\t\twhatsappTemplate: settings.template || 'default',\r\n\t\t\twhatsappEnabled: settings.enabled || false,\r\n\t\t\tupdatedAt: serverTimestamp()\r\n\t\t});\r\n\r\n\t\t// Log activity\r\n\t\tawait logVendorActivity(vendorId, 'updated', {\r\n\t\t\tchanges: `WhatsApp settings updated: ${JSON.stringify(settings)}`\r\n\t\t});\r\n\r\n\t\treturn { success: true };\r\n\t} catch (error) {\r\n\t\tconsole.error('Error updating vendor WhatsApp settings:', error);\r\n\t\tthrow error;\r\n\t}\r\n}\r\n\r\nexport async function updateVendor(id, raw) {\r\n\tconst data = normalizeVendorForSave(raw);\r\n\tconst duplicate = await findDuplicateVendor(data.email, data.phone, id);\r\n\tif (duplicate) {\r\n\t\tconst err = new Error(duplicate.type === 'email' ? 'DUPLICATE_VENDOR_EMAIL' : 'DUPLICATE_VENDOR_PHONE');\r\n\t\tthrow err;\r\n\t}\r\n\tawait updateDoc(doc(db, VENDORS_COLLECTION, id), { ...data, updatedAt: serverTimestamp() });\r\n\tawait logVendorActivity(id, 'update', { name: data.name, email: data.email });\r\n}\r\n\r\nexport async function deleteVendor(id) {\r\n\tawait deleteDoc(doc(db, VENDORS_COLLECTION, id));\r\n\tawait logVendorActivity(id, 'delete');\r\n}\r\n\r\nexport async function bulkUpdateVendors(ids, fields) {\r\n\tconst batch = writeBatch(db);\r\n\tids.forEach((id) => {\r\n\t\tbatch.update(doc(db, VENDORS_COLLECTION, id), { ...fields, updatedAt: serverTimestamp() });\r\n\t});\r\n\tawait batch.commit();\r\n\tfor (const id of ids) {\r\n\t\tlogVendorActivity(id, 'bulk_update', { fields });\r\n\t}\r\n}\r\n\r\nexport async function bulkDeleteVendors(ids) {\r\n\tconst batch = writeBatch(db);\r\n\tids.forEach((id) => batch.delete(doc(db, VENDORS_COLLECTION, id)));\r\n\tawait batch.commit();\r\n\tfor (const id of ids) {\r\n\t\tlogVendorActivity(id, 'bulk_delete');\r\n\t}\r\n}\r\n\r\nexport async function queryPOsByVendorId(vendorId) {\r\n\tconst q = query(collection(db, 'purchaseOrders'), where('vendorId', '==', vendorId));\r\n\tconst snapshot = await getDocs(q);\r\n\treturn snapshot.docs.map((d) => d.data());\r\n}\r\n\r\nexport async function queryJobsByVendorId(vendorId) {\r\n\tconst q = query(collection(db, 'jobAssignments'), where('vendorId', '==', vendorId));\r\n\tconst snapshot = await getDocs(q);\r\n\treturn snapshot.docs.map((d) => d.data());\r\n}\r\n\r\nexport async function computeVendorStats(vendors) {\r\n\tconst stats = {};\r\n\tfor (const vendor of vendors) {\r\n\t\ttry {\r\n\t\t\tconst [pos, jobs] = await Promise.all([\r\n\t\t\t\tqueryPOsByVendorId(vendor.id),\r\n\t\t\t\tqueryJobsByVendorId(vendor.id),\r\n\t\t\t]);\r\n\t\t\tstats[vendor.id] = {\r\n\t\t\t\ttotalPOs: pos.length,\r\n\t\t\t\ttotalJobs: jobs.length,\r\n\t\t\t\ttotalSpend: pos.reduce((sum, po) => sum + (parseFloat(po.totalAmount) || 0), 0),\r\n\t\t\t\tcompletedJobs: jobs.filter((job) => job.status === 'completed').length,\r\n\t\t\t\tpendingPOs: pos.filter((po) => po.status === 'pending').length,\r\n\t\t\t\tavgRating: vendor.rating || 0,\r\n\t\t\t\tlastActivity: Math.max(\r\n\t\t\t\t\t...pos.map((po) => po.createdAt?.toDate?.()?.getTime() || 0),\r\n\t\t\t\t\t...jobs.map((job) => job.createdAt?.toDate?.()?.getTime() || 0)\r\n\t\t\t\t),\r\n\t\t\t};\r\n\t\t} catch (e) {\r\n\t\t\tstats[vendor.id] = {\r\n\t\t\t\ttotalPOs: 0,\r\n\t\t\t\ttotalJobs: 0,\r\n\t\t\t\ttotalSpend: 0,\r\n\t\t\t\tcompletedJobs: 0,\r\n\t\t\t\tpendingPOs: 0,\r\n\t\t\t\tavgRating: 0,\r\n\t\t\t\tlastActivity: 0,\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\treturn stats;\r\n}\r\n","import { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getVendorsOrdered, computeVendorStats, deleteVendor, bulkDeleteVendors } from '../../services/vendorService';\nimport { useNotification } from './NotificationSystem';\nimport { \n  FiUsers, FiPlus, FiSearch, FiFilter, FiDownload, FiEye, FiEdit2, \n  FiTrash2, FiBarChart2, FiCheckCircle, FiClock, FiAlertTriangle, FiStar,\n  FiGrid, FiList, FiRefreshCw, FiActivity, FiTrendingUp\n} from 'react-icons/fi';\n\nexport default function VendorList() {\n  const [vendors, setVendors] = useState([]);\n  const [filteredVendors, setFilteredVendors] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [statusFilter, setStatusFilter] = useState('all');\n  const [categoryFilter, setCategoryFilter] = useState('all');\n  const [ratingFilter, setRatingFilter] = useState('all');\n  const [sortBy, setSortBy] = useState('createdAt');\n  const [sortOrder, setSortOrder] = useState('desc');\n  const [viewMode, setViewMode] = useState('table'); // 'table' or 'grid'\n  const [selectedVendors, setSelectedVendors] = useState([]);\n  const [showAdvancedFilters, setShowAdvancedFilters] = useState(false);\n  const [vendorStats, setVendorStats] = useState({});\n  const { showSuccess, showError } = useNotification();\n\n  useEffect(() => {\n    fetchVendors();\n  }, []);\n\n  useEffect(() => {\n    filterVendors();\n  }, [vendors, searchTerm, statusFilter, categoryFilter, ratingFilter, sortBy, sortOrder]);\n\n  const fetchVendors = async () => {\n    try {\n      setLoading(true);\n      const vendorsData = await getVendorsOrdered();\n      const stats = await computeVendorStats(vendorsData);\n      setVendorStats(stats);\n      setVendors(vendorsData);\n    } catch (error) {\n      console.error('Error fetching vendors:', error);\n      showError('Failed to load vendors');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filterVendors = () => {\n    let filtered = vendors;\n\n    // Search filter\n    if (searchTerm) {\n      filtered = filtered.filter(vendor =>\n        vendor.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        vendor.email.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        vendor.contactPerson?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        vendor.city?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        vendor.services?.some(service => service.toLowerCase().includes(searchTerm.toLowerCase()))\n      );\n    }\n\n    // Status filter\n    if (statusFilter !== 'all') {\n      filtered = filtered.filter(vendor => vendor.status === statusFilter);\n    }\n\n    // Category filter\n    if (categoryFilter !== 'all') {\n      filtered = filtered.filter(vendor => vendor.category === categoryFilter);\n    }\n\n    // Rating filter\n    if (ratingFilter !== 'all') {\n      const minRating = parseInt(ratingFilter);\n      filtered = filtered.filter(vendor => (vendor.rating || 0) >= minRating);\n    }\n\n    // Sort vendors\n    filtered.sort((a, b) => {\n      let aValue, bValue;\n      \n      switch (sortBy) {\n        case 'name':\n          aValue = a.name.toLowerCase();\n          bValue = b.name.toLowerCase();\n          break;\n        case 'rating':\n          aValue = a.rating || 0;\n          bValue = b.rating || 0;\n          break;\n        case 'totalSpend':\n          aValue = vendorStats[a.id]?.totalSpend || 0;\n          bValue = vendorStats[b.id]?.totalSpend || 0;\n          break;\n        case 'lastActivity':\n          aValue = vendorStats[a.id]?.lastActivity || 0;\n          bValue = vendorStats[b.id]?.lastActivity || 0;\n          break;\n        case 'createdAt':\n        default:\n          aValue = a.createdAt?.toDate?.()?.getTime() || 0;\n          bValue = b.createdAt?.toDate?.()?.getTime() || 0;\n          break;\n      }\n      \n      if (sortOrder === 'asc') {\n        return aValue > bValue ? 1 : -1;\n      } else {\n        return aValue < bValue ? 1 : -1;\n      }\n    });\n\n    setFilteredVendors(filtered);\n  };\n\n  const handleDelete = async (vendorId, vendorName) => {\n    if (window.confirm(`Are you sure you want to delete ${vendorName}? This action cannot be undone.`)) {\n      try {\n        await deleteVendor(vendorId);\n        showSuccess('Vendor deleted successfully');\n        fetchVendors();\n      } catch (error) {\n        console.error('Error deleting vendor:', error);\n        showError('Failed to delete vendor');\n      }\n    }\n  };\n\n  const getStatusBadge = (status) => {\n    const statusStyles = {\n      active: 'bg-green-100 text-green-800',\n      inactive: 'bg-red-100 text-red-800',\n      pending: 'bg-yellow-100 text-yellow-800'\n    };\n\n    return (\n      <span className={`px-2 py-1 rounded-full text-xs font-medium ${statusStyles[status] || 'bg-gray-100 text-gray-800'}`}>\n        {status ? status.charAt(0).toUpperCase() + status.slice(1) : 'Unknown'}\n      </span>\n    );\n  };\n\n\n  const getUniqueCategories = () => {\n    const categories = vendors\n      .map(vendor => vendor.category)\n      .filter(category => category && category.trim() !== '')\n      .filter((category, index, arr) => arr.indexOf(category) === index)\n      .sort();\n    return categories;\n  };\n\n  const handleBulkDelete = async () => {\n    if (selectedVendors.length === 0) return;\n    \n    if (window.confirm(`Are you sure you want to delete ${selectedVendors.length} vendors? This action cannot be undone.`)) {\n      try {\n        await bulkDeleteVendors(selectedVendors);\n        showSuccess(`${selectedVendors.length} vendors deleted successfully`);\n        setSelectedVendors([]);\n        fetchVendors();\n      } catch (error) {\n        console.error('Error deleting vendors:', error);\n        showError('Failed to delete vendors');\n      }\n    }\n  };\n\n  const handleSelectAll = () => {\n    if (selectedVendors.length === filteredVendors.length) {\n      setSelectedVendors([]);\n    } else {\n      setSelectedVendors(filteredVendors.map(vendor => vendor.id));\n    }\n  };\n\n  const handleExportVendors = () => {\n    const csvContent = [\n      ['Name', 'Email', 'Phone', 'Status', 'Category', 'Total Spend', 'Total POs', 'Rating'].join(','),\n      ...filteredVendors.map(vendor => [\n        vendor.name,\n        vendor.email,\n        vendor.phone,\n        vendor.status,\n        vendor.category || '',\n        vendorStats[vendor.id]?.totalSpend || 0,\n        vendorStats[vendor.id]?.totalPOs || 0,\n        vendor.rating || 0\n      ].join(','))\n    ].join('\\n');\n\n    const blob = new Blob([csvContent], { type: 'text/csv' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `vendors-${new Date().toISOString().split('T')[0]}.csv`;\n    a.click();\n    window.URL.revokeObjectURL(url);\n    showSuccess('Vendors exported successfully');\n  };\n\n  const renderRating = (rating) => {\n    const stars = [];\n    for (let i = 1; i <= 5; i++) {\n      stars.push(\n        <FiStar\n          key={i}\n          size={14}\n          className={i <= (rating || 0) ? 'text-yellow-400 fill-current' : 'text-gray-300'}\n        />\n      );\n    }\n    return <div className=\"flex\">{stars}</div>;\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-4 lg:p-6 bg-gray-50 min-h-screen\">\n      {/* Enhanced Header Section */}\n      <div className=\"mb-6\">\n        <div className=\"flex items-center space-x-3 mb-6\">\n          <div className=\"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center\">\n            <FiUsers className=\"text-white\" size={20} />\n          </div>\n          <div>\n            <h1 className=\"text-2xl lg:text-3xl font-bold text-gray-900\">Vendor Management</h1>\n            <p className=\"text-gray-600 text-sm lg:text-base\">Manage and monitor your vendor relationships</p>\n          </div>\n        </div>\n        \n        {/* Action Bar */}\n        <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-3 sm:space-y-0 mb-6\">\n          <div className=\"flex items-center space-x-3\">\n            <button\n              onClick={fetchVendors}\n              className=\"flex items-center space-x-2 px-4 py-2 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors\"\n            >\n              <FiRefreshCw size={16} className=\"text-gray-600\" />\n              <span className=\"text-gray-700\">Refresh</span>\n            </button>\n            <div className=\"text-sm text-gray-600 bg-white px-3 py-2 rounded-lg border border-gray-200\">\n              Showing {filteredVendors.length} of {vendors.length} vendors\n            </div>\n          </div>\n          <Link\n            to=\"/admin/add-vendor\"\n            className=\"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-4 py-2 rounded-lg hover:from-blue-700 hover:to-indigo-700 flex items-center space-x-2 shadow-sm transition-all\"\n          >\n            <FiPlus size={16} />\n            <span>Add Vendor</span>\n          </Link>\n        </div>\n\n        {/* Enhanced Filters */}\n        <div className=\"bg-white p-4 lg:p-6 rounded-xl shadow-sm border border-gray-200 mb-6\">\n          {/* Enhanced Header */}\n          <div className=\"flex items-center space-x-3 mb-4\">\n            <div className=\"w-8 h-8 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-lg flex items-center justify-center\">\n              <FiFilter className=\"text-white\" size={16} />\n            </div>\n            <h3 className=\"text-lg font-semibold text-gray-900\">Search & Filter</h3>\n          </div>\n          \n          {/* Primary Filters Row */}\n          <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4 mb-4\">\n            {/* Search */}\n            <div className=\"relative md:col-span-2\">\n              <FiSearch className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={16} />\n              <input\n                type=\"text\"\n                placeholder=\"Search vendors by name, email, contact, city, or services...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all\"\n              />\n            </div>\n\n            {/* Status Filter */}\n            <div className=\"relative\">\n              <FiFilter className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={16} />\n              <select\n                value={statusFilter}\n                onChange={(e) => setStatusFilter(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 appearance-none transition-all\"\n              >\n                <option value=\"all\">All Status</option>\n                <option value=\"active\">Active</option>\n                <option value=\"inactive\">Inactive</option>\n                <option value=\"pending\">Pending</option>\n              </select>\n            </div>\n\n            {/* Category Filter */}\n            <div className=\"relative\">\n              <FiFilter className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={16} />\n              <select\n                value={categoryFilter}\n                onChange={(e) => setCategoryFilter(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 appearance-none transition-all\"\n              >\n                <option value=\"all\">All Categories</option>\n                {getUniqueCategories().map(category => (\n                  <option key={category} value={category}>{category}</option>\n                ))}\n              </select>\n            </div>\n\n            {/* Rating Filter */}\n            <div className=\"relative\">\n              <FiStar className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={16} />\n              <select\n                value={ratingFilter}\n                onChange={(e) => setRatingFilter(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 appearance-none transition-all\"\n              >\n                <option value=\"all\">All Ratings</option>\n                <option value=\"4\">4+ Stars</option>\n                <option value=\"3\">3+ Stars</option>\n                <option value=\"2\">2+ Stars</option>\n                <option value=\"1\">1+ Stars</option>\n              </select>\n            </div>\n          </div>\n\n          {/* Advanced Filters Toggle */}\n          <div className=\"flex justify-between items-center\">\n            <button\n              onClick={() => setShowAdvancedFilters(!showAdvancedFilters)}\n              className=\"text-indigo-600 hover:text-indigo-800 text-sm font-medium flex items-center space-x-1 transition-colors\"\n            >\n              <FiFilter size={14} />\n              <span>{showAdvancedFilters ? 'Hide' : 'Show'} Advanced Filters</span>\n            </button>\n            \n            <div className=\"flex items-center space-x-4\">\n              {/* Sort Options */}\n              <div className=\"flex items-center space-x-2\">\n                <label className=\"text-sm text-gray-600\">Sort by:</label>\n                <select\n                  value={sortBy}\n                  onChange={(e) => setSortBy(e.target.value)}\n                  className=\"text-sm border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all\"\n                >\n                  <option value=\"createdAt\">Date Added</option>\n                  <option value=\"name\">Name</option>\n                  <option value=\"rating\">Rating</option>\n                  <option value=\"totalSpend\">Total Spend</option>\n                  <option value=\"lastActivity\">Last Activity</option>\n                </select>\n                <button\n                  onClick={() => setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc')}\n                  className=\"text-gray-600 hover:text-gray-800\"\n                >\n                  {sortOrder === 'asc' ? '↑' : '↓'}\n                </button>\n              </div>\n\n              {/* Action Buttons */}\n              <div className=\"flex items-center space-x-2\">\n                <button\n                  onClick={handleExportVendors}\n                  className=\"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-3 py-2 rounded-lg hover:from-green-700 hover:to-emerald-700 flex items-center space-x-1 text-sm shadow-sm transition-all\"\n                >\n                  <FiDownload size={14} />\n                  <span>Export</span>\n                </button>\n                \n                {selectedVendors.length > 0 && (\n                  <button\n                    onClick={handleBulkDelete}\n                    className=\"bg-gradient-to-r from-red-600 to-pink-600 text-white px-3 py-2 rounded-lg hover:from-red-700 hover:to-pink-700 flex items-center space-x-1 text-sm shadow-sm transition-all\"\n                  >\n                    <FiTrash2 size={14} />\n                    <span>Delete ({selectedVendors.length})</span>\n                  </button>\n                )}\n              </div>\n\n              {/* Results Count */}\n              <div className=\"text-sm text-gray-600\">\n                Showing {filteredVendors.length} of {vendors.length} vendors\n              </div>\n            </div>\n          </div>\n\n          {/* Advanced Filters Panel */}\n          {showAdvancedFilters && (\n            <div className=\"mt-4 pt-4 border-t border-gray-200\">\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Min Total Spend</label>\n                  <input\n                    type=\"number\"\n                    placeholder=\"0\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Min PO Count</label>\n                  <input\n                    type=\"number\"\n                    placeholder=\"0\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">City</label>\n                  <input\n                    type=\"text\"\n                    placeholder=\"Enter city\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">State</label>\n                  <input\n                    type=\"text\"\n                    placeholder=\"Enter state\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  />\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Enhanced Vendors Table */}\n        <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    <input\n                      type=\"checkbox\"\n                      checked={selectedVendors.length === filteredVendors.length && filteredVendors.length > 0}\n                      onChange={handleSelectAll}\n                      className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                    />\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Vendor Details\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Category & Rating\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Contact Info\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Performance\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Status & Services\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Actions\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {filteredVendors.length === 0 ? (\n                  <tr>\n                    <td colSpan=\"7\" className=\"px-6 py-12 text-center\">\n                      <div className=\"flex flex-col items-center\">\n                        <FiUsers className=\"text-gray-400 text-4xl mb-4\" />\n                        <p className=\"text-gray-500 text-lg\">\n                          {vendors.length === 0 ? 'No vendors found' : 'No vendors match your filters'}\n                        </p>\n                        {vendors.length === 0 && (\n                          <Link\n                            to=\"/admin/add-vendor\"\n                            className=\"mt-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-4 py-2 rounded-lg hover:from-blue-700 hover:to-indigo-700 flex items-center space-x-2 shadow-sm transition-all\"\n                          >\n                            <FiPlus size={16} />\n                            <span>Add Your First Vendor</span>\n                          </Link>\n                        )}\n                      </div>\n                    </td>\n                  </tr>\n                ) : (\n                  filteredVendors.map((vendor) => (\n                    <tr key={vendor.id} className=\"hover:bg-gray-50 transition-colors\">\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <input\n                          type=\"checkbox\"\n                          checked={selectedVendors.includes(vendor.id)}\n                          onChange={(e) => {\n                            if (e.target.checked) {\n                              setSelectedVendors([...selectedVendors, vendor.id]);\n                            } else {\n                              setSelectedVendors(selectedVendors.filter(id => id !== vendor.id));\n                            }\n                          }}\n                          className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                        />\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"flex items-center\">\n                          <div className=\"flex-shrink-0 h-10 w-10\">\n                            <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center shadow-sm\">\n                              <span className=\"text-white font-bold text-sm\">\n                                {vendor.name ? vendor.name.charAt(0).toUpperCase() : '?'}\n                              </span>\n                            </div>\n                          </div>\n                          <div className=\"ml-4\">\n                            <div className=\"text-sm font-medium text-gray-900\">{vendor.name}</div>\n                            <div className=\"text-sm text-gray-500\">{vendor.email}</div>\n                            <div className=\"text-xs text-gray-400\">{vendor.city || 'No city'}</div>\n                          </div>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"space-y-1\">\n                          {vendor.category ? (\n                            <span className=\"inline-flex px-2 py-1 bg-gradient-to-r from-blue-100 to-indigo-100 text-blue-800 text-xs rounded-full font-medium border border-blue-200\">\n                              {vendor.category}\n                            </span>\n                          ) : (\n                            <span className=\"text-gray-400 italic text-xs\">No category</span>\n                          )}\n                          <div className=\"flex items-center mt-1\">\n                            {renderRating(vendor.rating)}\n                            <span className=\"ml-1 text-xs text-gray-500\">\n                              ({vendor.rating || 0}/5)\n                            </span>\n                          </div>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div>\n                          <div className=\"text-sm text-gray-900 font-medium\">{vendor.contactPerson}</div>\n                          <div className=\"text-sm text-gray-500\">{vendor.phone}</div>\n                          {vendor.contactEmail && (\n                            <div className=\"text-xs text-gray-400\">{vendor.contactEmail}</div>\n                          )}\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"space-y-1\">\n                          <div className=\"flex items-center text-sm\">\n                            <span className=\"text-gray-600\">Spend:</span>\n                            <span className=\"ml-1 font-medium text-green-600\">\n                              ₹{(vendorStats[vendor.id]?.totalSpend || 0).toLocaleString()}\n                            </span>\n                          </div>\n                          <div className=\"flex items-center text-xs text-gray-500\">\n                            <span>POs: {vendorStats[vendor.id]?.totalPOs || 0}</span>\n                            <span className=\"mx-1\">•</span>\n                            <span>Jobs: {vendorStats[vendor.id]?.totalJobs || 0}</span>\n                          </div>\n                          {vendorStats[vendor.id]?.pendingPOs > 0 && (\n                            <div className=\"flex items-center text-xs text-orange-600\">\n                              <FiClock size={12} className=\"mr-1\" />\n                              {vendorStats[vendor.id].pendingPOs} pending POs\n                            </div>\n                          )}\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <div className=\"space-y-2\">\n                          <div>{getStatusBadge(vendor.status)}</div>\n                          <div className=\"text-sm text-gray-900\">\n                            {vendor.services && vendor.services.length > 0 ? (\n                              <div className=\"flex flex-wrap gap-1\">\n                                {vendor.services.slice(0, 2).map((service, index) => (\n                                  <span\n                                    key={index}\n                                    className=\"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full\"\n                                  >\n                                    {service}\n                                  </span>\n                                ))}\n                                {vendor.services.length > 2 && (\n                                  <span className=\"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full\">\n                                    +{vendor.services.length - 2}\n                                  </span>\n                                )}\n                              </div>\n                            ) : (\n                              <span className=\"text-gray-400 italic text-xs\">No services</span>\n                            )}\n                          </div>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                        <div className=\"flex space-x-1\">\n                          <Link\n                            to={`/admin/vendor-preview/${vendor.id}`}\n                            className=\"text-blue-600 hover:text-blue-900 p-2 rounded-lg hover:bg-blue-50 transition-all\"\n                            title=\"View Details\"\n                          >\n                            <FiEye size={16} />\n                          </Link>\n                          <Link\n                            to={`/admin/vendor-performance/${vendor.id}`}\n                            className=\"text-purple-600 hover:text-purple-900 p-2 rounded-lg hover:bg-purple-50 transition-all\"\n                            title=\"Performance\"\n                          >\n                            <FiBarChart2 size={16} />\n                          </Link>\n                          <Link\n                            to={`/admin/edit-vendor/${vendor.id}`}\n                            className=\"text-green-600 hover:text-green-900 p-2 rounded-lg hover:bg-green-50 transition-all\"\n                            title=\"Edit\"\n                          >\n                            <FiEdit2 size={16} />\n                          </Link>\n                          <button\n                            onClick={() => handleDelete(vendor.id, vendor.name)}\n                            className=\"text-red-600 hover:text-red-900 p-2 rounded-lg hover:bg-red-50 transition-all\"\n                            title=\"Delete\"\n                          >\n                            <FiTrash2 size={16} />\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  ))\n                )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["VENDORS_COLLECTION","VENDOR_ACTIVITY_COLLECTION","normalizeVendorForSave","raw","_numeric","_raw$bankDetails","_raw$bankDetails2","_raw$bankDetails3","_raw$bankDetails4","_numeric2","numeric","v","undefined","Number","name","String","trim","email","toLowerCase","phone","address","city","state","zipCode","country","website","contactPerson","contactPhone","contactEmail","category","rating","gstNumber","panNumber","bankDetails","accountNumber","ifscCode","bankName","accountHolderName","services","Array","isArray","filter","Boolean","status","notes","establishedYear","employeeCount","annualRevenue","creditLimit","preferredPaymentTerms","taxId","mapVendorFromDoc","docSnap","_data$bankDetails","_data$bankDetails2","_data$bankDetails3","_data$bankDetails4","_data$establishedYear","_data$employeeCount","_data$annualRevenue","_data$creditLimit","_data$preferredPaymen","data","id","createdAt","updatedAt","async","getVendorsOrdered","q","query","collection","db","orderBy","getDocs","docs","map","getAllVendors","getVendorById","snap","getDoc","doc","exists","findDuplicateVendor","excludeId","dupCandidates","emailQ","where","forEach","d","push","phoneQ","type","logVendorActivity","vendorId","action","details","addDoc","timestamp","serverTimestamp","_","createVendor","duplicate","Error","now","ref","updateVendor","updateDoc","deleteVendor","deleteDoc","bulkUpdateVendors","ids","fields","batch","writeBatch","update","commit","bulkDeleteVendors","delete","queryPOsByVendorId","queryJobsByVendorId","computeVendorStats","vendors","stats","vendor","pos","jobs","Promise","all","totalPOs","length","totalJobs","totalSpend","reduce","sum","po","parseFloat","totalAmount","completedJobs","job","pendingPOs","avgRating","lastActivity","Math","max","_po$createdAt","_po$createdAt$toDate","_po$createdAt$toDate$","toDate","call","getTime","_job$createdAt","_job$createdAt$toDate","_job$createdAt$toDate2","e","VendorList","setVendors","useState","filteredVendors","setFilteredVendors","loading","setLoading","searchTerm","setSearchTerm","statusFilter","setStatusFilter","categoryFilter","setCategoryFilter","ratingFilter","setRatingFilter","sortBy","setSortBy","sortOrder","setSortOrder","viewMode","setViewMode","selectedVendors","setSelectedVendors","showAdvancedFilters","setShowAdvancedFilters","vendorStats","setVendorStats","showSuccess","showError","useNotification","useEffect","fetchVendors","filterVendors","vendorsData","error","console","filtered","_vendor$contactPerson","_vendor$city","_vendor$services","includes","some","service","minRating","parseInt","sort","a","b","_vendorStats$a$id","_vendorStats$b$id","_vendorStats$a$id2","_vendorStats$b$id2","_a$createdAt","_a$createdAt$toDate","_a$createdAt$toDate$c","_b$createdAt","_b$createdAt$toDate","_b$createdAt$toDate$c","aValue","bValue","renderRating","stars","i","_jsx","FiStar","size","className","children","_jsxs","FiUsers","onClick","FiRefreshCw","Link","to","FiPlus","FiFilter","FiSearch","placeholder","value","onChange","target","index","arr","indexOf","handleExportVendors","csvContent","join","_vendorStats$vendor$i","_vendorStats$vendor$i2","blob","Blob","url","window","URL","createObjectURL","document","createElement","href","download","Date","toISOString","split","click","revokeObjectURL","FiDownload","confirm","FiTrash2","checked","handleSelectAll","colSpan","_vendorStats$vendor$i3","_vendorStats$vendor$i4","_vendorStats$vendor$i5","_vendorStats$vendor$i6","charAt","toUpperCase","toLocaleString","FiClock","active","inactive","pending","slice","title","FiEye","FiBarChart2","FiEdit2","vendorName","handleDelete"],"sourceRoot":""}