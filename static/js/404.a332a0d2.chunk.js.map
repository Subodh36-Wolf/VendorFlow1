{"version":3,"file":"static/js/404.a332a0d2.chunk.js","mappings":"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","sources":["components/Admin/ItemForm.jsx","services/itemService.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { useNavigate, useParams, Link } from 'react-router-dom';\r\nimport { FiArrowLeft, FiSave, FiUpload } from 'react-icons/fi';\r\nimport { createItem, updateItem, getItemById, uploadItemImage, validateItem } from '../../services/itemService';\r\nimport { useNotification } from './NotificationSystem';\r\n\r\nexport default function ItemForm() {\r\n  const { id } = useParams();\r\n  const isEdit = Boolean(id) && id !== 'new';\r\n  const navigate = useNavigate();\r\n  const { showError, showSuccess } = useNotification();\r\n  const [loading, setLoading] = useState(false);\r\n  const [errors, setErrors] = useState({});\r\n  const [form, setForm] = useState({\r\n    name: '', type: 'product', hsn: '', code: '', unit: '', category: '', imageUrl: '',\r\n    pricing: { salePrice: '', purchasePrice: '', discountType: 'percentage', discountValue: '', taxRate: '', taxMode: 'without_tax' },\r\n    stock: { track: false, openingQty: '', minQty: '', location: '' },\r\n    status: 'active', notes: ''\r\n  });\r\n\r\n  useEffect(() => { if (isEdit) load(); }, [id]);\r\n\r\n  const load = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const data = await getItemById(id);\r\n      if (data) setForm({ ...data });\r\n    } catch (e) { showError('Failed to load item'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    setForm((prev) => ({ ...prev, [name]: type === 'checkbox' ? checked : value }));\r\n  };\r\n\r\n  const handlePricingChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setForm((prev) => ({ ...prev, pricing: { ...prev.pricing, [name]: value } }));\r\n  };\r\n\r\n  const handleStockChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    setForm((prev) => ({ ...prev, stock: { ...prev.stock, [name]: type === 'checkbox' ? checked : value } }));\r\n  };\r\n\r\n  const handleImage = async (e) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n    try {\r\n      setLoading(true);\r\n      const url = await uploadItemImage(file, id || form.code || form.name);\r\n      setForm((prev) => ({ ...prev, imageUrl: url }));\r\n      showSuccess('Image uploaded');\r\n    } catch (err) {\r\n      showError('Image upload failed');\r\n    } finally { setLoading(false); }\r\n  };\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const v = validateItem(form);\r\n    setErrors(v);\r\n    if (Object.keys(v).length) { showError('Please fix the highlighted fields'); return; }\r\n    try {\r\n      setLoading(true);\r\n      if (isEdit) {\r\n        await updateItem(id, form);\r\n        showSuccess('Item updated');\r\n      } else {\r\n        await createItem(form);\r\n        showSuccess('Item created');\r\n      }\r\n      navigate('/admin/items');\r\n    } catch (err) {\r\n      showError('Save failed');\r\n    } finally { setLoading(false); }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50\">\r\n      {/* Sticky Header */}\r\n      <div className=\"sticky top-0 z-20 bg-white/90 backdrop-blur border-b border-gray-200\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex items-center justify-between\">\r\n          <Link to=\"/admin/items\" className=\"inline-flex items-center px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50\">\r\n            <FiArrowLeft className=\"mr-2\" /> Back\r\n          </Link>\r\n          <button\r\n            onClick={onSubmit}\r\n            disabled={loading}\r\n            className=\"inline-flex items-center px-4 py-2 rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 disabled:opacity-60\"\r\n            aria-label=\"Save item\"\r\n          >\r\n            <FiSave className=\"mr-2\" /> {loading ? 'Saving...' : 'Save'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\r\n        <form onSubmit={onSubmit} className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n          {/* Basic Information */}\r\n          <div className=\"bg-white rounded-2xl shadow border border-gray-100 lg:col-span-2 overflow-hidden\">\r\n            <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 px-4 sm:px-6 py-3 border-b border-gray-100\">\r\n              <h2 className=\"text-base sm:text-lg font-semibold text-gray-900\">Basic Information</h2>\r\n            </div>\r\n            <div className=\"p-4 sm:p-6 space-y-4\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700\">Item Name *</label>\r\n                  <input\r\n                    name=\"name\"\r\n                    value={form.name}\r\n                    onChange={handleChange}\r\n                    className={`mt-1 w-full border rounded-xl px-3 py-2 focus:ring-2 focus:ring-indigo-500 ${errors.name ? 'border-red-500' : 'border-gray-300'}`}\r\n                    placeholder=\"Enter item name\"\r\n                  />\r\n                  {errors.name && <p className=\"mt-1 text-xs text-red-600\">{errors.name}</p>}\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700\">Type</label>\r\n                  <select\r\n                    name=\"type\"\r\n                    value={form.type}\r\n                    onChange={handleChange}\r\n                    className=\"mt-1 w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-indigo-500\"\r\n                  >\r\n                    <option value=\"product\">Product</option>\r\n                    <option value=\"service\">Service</option>\r\n                  </select>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700\">HSN</label>\r\n                  <input\r\n                    name=\"hsn\"\r\n                    value={form.hsn}\r\n                    onChange={handleChange}\r\n                    className=\"mt-1 w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-indigo-500\"\r\n                    placeholder=\"Enter HSN code\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700\">Item Code</label>\r\n                  <input\r\n                    name=\"code\"\r\n                    value={form.code}\r\n                    onChange={handleChange}\r\n                    className=\"mt-1 w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-indigo-500\"\r\n                    placeholder=\"Unique item code\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700\">Unit *</label>\r\n                  <input\r\n                    name=\"unit\"\r\n                    value={form.unit}\r\n                    onChange={handleChange}\r\n                    className={`mt-1 w-full border rounded-xl px-3 py-2 focus:ring-2 focus:ring-indigo-500 ${errors.unit ? 'border-red-500' : 'border-gray-300'}`}\r\n                    placeholder=\"e.g., Nos, Kg, Meter\"\r\n                  />\r\n                  {errors.unit && <p className=\"mt-1 text-xs text-red-600\">{errors.unit}</p>}\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700\">Category</label>\r\n                  <input\r\n                    name=\"category\"\r\n                    value={form.category}\r\n                    onChange={handleChange}\r\n                    className=\"mt-1 w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-indigo-500\"\r\n                    placeholder=\"Category name\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700\">Notes</label>\r\n                <textarea\r\n                  name=\"notes\"\r\n                  value={form.notes}\r\n                  onChange={handleChange}\r\n                  rows={3}\r\n                  className=\"mt-1 w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-indigo-500\"\r\n                  placeholder=\"Additional details about this item\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Media & Status */}\r\n          <div className=\"bg-white rounded-2xl shadow border border-gray-100 overflow-hidden\">\r\n            <div className=\"bg-gradient-to-r from-purple-50 to-pink-50 px-4 sm:px-6 py-3 border-b border-gray-100\">\r\n              <h2 className=\"text-base sm:text-lg font-semibold text-gray-900\">Media & Status</h2>\r\n            </div>\r\n            <div className=\"p-4 sm:p-6 space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700\">Item Image</label>\r\n                <div className=\"mt-2 flex items-center space-x-3\">\r\n                  {form.imageUrl && (\r\n                    <img src={form.imageUrl} alt=\"preview\" className=\"h-16 w-16 object-cover rounded\" />\r\n                  )}\r\n                  <label className=\"inline-flex items-center px-3 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50\">\r\n                    <FiUpload className=\"mr-2\"/> Upload\r\n                    <input type=\"file\" className=\"hidden\" accept=\"image/*\" onChange={handleImage} />\r\n                  </label>\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700\">Status</label>\r\n                <select\r\n                  name=\"status\"\r\n                  value={form.status}\r\n                  onChange={handleChange}\r\n                  className=\"mt-1 w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-indigo-500\"\r\n                >\r\n                  <option value=\"active\">Active</option>\r\n                  <option value=\"inactive\">Inactive</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Pricing */}\r\n          <div className=\"bg-white rounded-2xl shadow border border-gray-100 lg:col-span-3 overflow-hidden\">\r\n            <div className=\"bg-gradient-to-r from-emerald-50 to-green-50 px-4 sm:px-6 py-3 border-b border-gray-100\">\r\n              <h2 className=\"text-base sm:text-lg font-semibold text-gray-900\">Pricing</h2>\r\n            </div>\r\n            <div className=\"p-4 sm:p-6\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700\">Sale Price</label>\r\n                  <input\r\n                    name=\"salePrice\"\r\n                    type=\"number\"\r\n                    step=\"0.01\"\r\n                    value={form.pricing.salePrice}\r\n                    onChange={handlePricingChange}\r\n                    className={`mt-1 w-full border rounded-xl px-3 py-2 focus:ring-2 focus:ring-indigo-500 ${errors.salePrice ? 'border-red-500' : 'border-gray-300'}`}\r\n                    placeholder=\"0.00\"\r\n                  />\r\n                  {errors.salePrice && <p className=\"mt-1 text-xs text-red-600\">{errors.salePrice}</p>}\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700\">Purchase Price</label>\r\n                  <input\r\n                    name=\"purchasePrice\"\r\n                    type=\"number\"\r\n                    step=\"0.01\"\r\n                    value={form.pricing.purchasePrice}\r\n                    onChange={handlePricingChange}\r\n                    className={`mt-1 w-full border rounded-xl px-3 py-2 focus:ring-2 focus:ring-indigo-500 ${errors.purchasePrice ? 'border-red-500' : 'border-gray-300'}`}\r\n                    placeholder=\"0.00\"\r\n                  />\r\n                  {errors.purchasePrice && <p className=\"mt-1 text-xs text-red-600\">{errors.purchasePrice}</p>}\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700\">Tax Rate (%)</label>\r\n                  <input\r\n                    name=\"taxRate\"\r\n                    type=\"number\"\r\n                    step=\"0.01\"\r\n                    value={form.pricing.taxRate}\r\n                    onChange={handlePricingChange}\r\n                    className={`mt-1 w-full border rounded-xl px-3 py-2 focus:ring-2 focus:ring-indigo-500 ${errors.taxRate ? 'border-red-500' : 'border-gray-300'}`}\r\n                    placeholder=\"0\"\r\n                  />\r\n                  {errors.taxRate && <p className=\"mt-1 text-xs text-red-600\">{errors.taxRate}</p>}\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700\">Tax Mode</label>\r\n                  <select\r\n                    name=\"taxMode\"\r\n                    value={form.pricing.taxMode}\r\n                    onChange={handlePricingChange}\r\n                    className=\"mt-1 w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-indigo-500\"\r\n                  >\r\n                    <option value=\"without_tax\">Without Tax</option>\r\n                    <option value=\"with_tax\">With Tax</option>\r\n                  </select>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700\">Discount Type</label>\r\n                  <select\r\n                    name=\"discountType\"\r\n                    value={form.pricing.discountType}\r\n                    onChange={handlePricingChange}\r\n                    className=\"mt-1 w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-indigo-500\"\r\n                  >\r\n                    <option value=\"percentage\">Percentage</option>\r\n                    <option value=\"flat\">Flat</option>\r\n                  </select>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700\">Discount Value</label>\r\n                  <input\r\n                    name=\"discountValue\"\r\n                    type=\"number\"\r\n                    step=\"0.01\"\r\n                    value={form.pricing.discountValue}\r\n                    onChange={handlePricingChange}\r\n                    className=\"mt-1 w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-indigo-500\"\r\n                    placeholder=\"0.00\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Stock */}\r\n          <div className=\"bg-white rounded-2xl shadow border border-gray-100 lg:col-span-3 overflow-hidden\">\r\n            <div className=\"bg-gradient-to-r from-amber-50 to-yellow-50 px-4 sm:px-6 py-3 border-b border-gray-100\">\r\n              <h2 className=\"text-base sm:text-lg font-semibold text-gray-900\">Stock</h2>\r\n            </div>\r\n            <div className=\"p-4 sm:p-6\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 items-end\">\r\n                <label className=\"md:col-span-1 inline-flex items-center space-x-2\">\r\n                  <input type=\"checkbox\" name=\"track\" checked={form.stock.track} onChange={handleStockChange} className=\"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500\" />\r\n                  <span className=\"text-sm font-medium text-gray-700\">Track Stock</span>\r\n                </label>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700\">Opening Qty</label>\r\n                  <input name=\"openingQty\" type=\"number\" step=\"0.01\" value={form.stock.openingQty} onChange={handleStockChange} className=\"mt-1 w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-indigo-500\" placeholder=\"0\"/>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700\">Minimum Qty</label>\r\n                  <input name=\"minQty\" type=\"number\" step=\"0.01\" value={form.stock.minQty} onChange={handleStockChange} className=\"mt-1 w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-indigo-500\" placeholder=\"0\"/>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700\">Location</label>\r\n                  <input name=\"location\" value={form.stock.location} onChange={handleStockChange} className=\"mt-1 w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-indigo-500\" placeholder=\"Rack / Bin\"/>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n      {/* Mobile Bottom Action Bar */}\r\n      <div className=\"fixed bottom-0 inset-x-0 md:hidden z-20 p-3\">\r\n        <div className=\"bg-white border border-gray-200 shadow-lg rounded-xl p-2 flex items-center justify-between\">\r\n          <Link to=\"/admin/items\" className=\"px-4 py-2 border border-gray-300 rounded-lg\">Back</Link>\r\n          <button onClick={onSubmit} disabled={loading} className=\"px-5 py-2 bg-indigo-600 text-white rounded-lg disabled:opacity-60\">\r\n            {loading ? 'Saving...' : 'Save'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n","import { collection, addDoc, getDoc, getDocs, updateDoc, deleteDoc, doc, serverTimestamp, query, orderBy, where, writeBatch } from 'firebase/firestore';\r\nimport { getDownloadURL, ref, uploadBytes } from 'firebase/storage';\r\nimport { db } from '../firebase';\r\nimport { storage } from '../firebase';\r\n\r\nconst ITEMS_COLLECTION = 'items';\r\n\r\nexport function normalizeItemForSave(raw) {\r\n  const numeric = (v) => (v === '' || v === null || v === undefined ? null : Number(v));\r\n  return {\r\n    name: String(raw.name || '').trim(),\r\n    type: raw.type === 'service' ? 'service' : 'product',\r\n    hsn: String(raw.hsn || '').trim(),\r\n    code: String(raw.code || '').trim(),\r\n    unit: String(raw.unit || '').trim(),\r\n    category: String(raw.category || '').trim(),\r\n    imageUrl: String(raw.imageUrl || '').trim(),\r\n    pricing: {\r\n      salePrice: numeric(raw.pricing?.salePrice) ?? 0,\r\n      purchasePrice: numeric(raw.pricing?.purchasePrice) ?? 0,\r\n      discountType: ['percentage', 'flat'].includes(raw.pricing?.discountType) ? raw.pricing.discountType : 'percentage',\r\n      discountValue: numeric(raw.pricing?.discountValue) ?? 0,\r\n      taxRate: numeric(raw.pricing?.taxRate) ?? 0,\r\n      taxMode: ['with_tax', 'without_tax'].includes(raw.pricing?.taxMode) ? raw.pricing.taxMode : 'without_tax',\r\n    },\r\n    stock: {\r\n      track: Boolean(raw.stock?.track),\r\n      openingQty: numeric(raw.stock?.openingQty) ?? 0,\r\n      minQty: numeric(raw.stock?.minQty) ?? 0,\r\n      location: String(raw.stock?.location || '').trim(),\r\n    },\r\n    status: raw.status === 'inactive' ? 'inactive' : 'active',\r\n    notes: String(raw.notes || '').trim(),\r\n  };\r\n}\r\n\r\nexport function mapItemFromDoc(docSnap) {\r\n  const d = docSnap.data() || {};\r\n  return {\r\n    id: docSnap.id,\r\n    name: d.name || '',\r\n    type: d.type || 'product',\r\n    hsn: d.hsn || '',\r\n    code: d.code || '',\r\n    unit: d.unit || '',\r\n    category: d.category || '',\r\n    imageUrl: d.imageUrl || '',\r\n    pricing: {\r\n      salePrice: typeof d.pricing?.salePrice === 'number' ? d.pricing.salePrice : Number(d.pricing?.salePrice || 0),\r\n      purchasePrice: typeof d.pricing?.purchasePrice === 'number' ? d.pricing.purchasePrice : Number(d.pricing?.purchasePrice || 0),\r\n      discountType: d.pricing?.discountType || 'percentage',\r\n      discountValue: typeof d.pricing?.discountValue === 'number' ? d.pricing.discountValue : Number(d.pricing?.discountValue || 0),\r\n      taxRate: typeof d.pricing?.taxRate === 'number' ? d.pricing.taxRate : Number(d.pricing?.taxRate || 0),\r\n      taxMode: d.pricing?.taxMode || 'without_tax',\r\n    },\r\n    stock: {\r\n      track: Boolean(d.stock?.track),\r\n      openingQty: typeof d.stock?.openingQty === 'number' ? d.stock.openingQty : Number(d.stock?.openingQty || 0),\r\n      minQty: typeof d.stock?.minQty === 'number' ? d.stock.minQty : Number(d.stock?.minQty || 0),\r\n      location: d.stock?.location || '',\r\n    },\r\n    status: d.status || 'active',\r\n    notes: d.notes || '',\r\n    createdAt: d.createdAt,\r\n    updatedAt: d.updatedAt,\r\n  };\r\n}\r\n\r\nexport function validateItem(raw) {\r\n  const errors = {};\r\n  if (!raw.name || String(raw.name).trim().length < 2) errors.name = 'Item name is required';\r\n  if (!raw.unit) errors.unit = 'Unit is required';\r\n  if (raw.pricing && raw.pricing.salePrice < 0) errors.salePrice = 'Sale price must be >= 0';\r\n  if (raw.pricing && raw.pricing.purchasePrice < 0) errors.purchasePrice = 'Purchase price must be >= 0';\r\n  if (raw.pricing && raw.pricing.taxRate < 0) errors.taxRate = 'Tax rate must be >= 0';\r\n  return errors;\r\n}\r\n\r\nexport async function uploadItemImage(file, itemIdHint) {\r\n  const path = `items/${itemIdHint || 'tmp'}_${Date.now()}_${file.name}`;\r\n  const storageRef = ref(storage, path);\r\n  const snap = await uploadBytes(storageRef, file);\r\n  return getDownloadURL(snap.ref);\r\n}\r\n\r\nexport async function createItem(raw) {\r\n  const errors = validateItem(raw);\r\n  if (Object.keys(errors).length) {\r\n    const err = new Error('ITEM_VALIDATION_FAILED');\r\n    err.details = errors;\r\n    throw err;\r\n  }\r\n  const data = normalizeItemForSave(raw);\r\n  const now = serverTimestamp();\r\n  const ref = await addDoc(collection(db, ITEMS_COLLECTION), { ...data, createdAt: now, updatedAt: now });\r\n  return { id: ref.id, ...data };\r\n}\r\n\r\nexport async function updateItem(id, raw) {\r\n  const errors = validateItem(raw);\r\n  if (Object.keys(errors).length) {\r\n    const err = new Error('ITEM_VALIDATION_FAILED');\r\n    err.details = errors;\r\n    throw err;\r\n  }\r\n  const data = normalizeItemForSave(raw);\r\n  await updateDoc(doc(db, ITEMS_COLLECTION, id), { ...data, updatedAt: serverTimestamp() });\r\n}\r\n\r\nexport async function deleteItem(id) {\r\n  await deleteDoc(doc(db, ITEMS_COLLECTION, id));\r\n}\r\n\r\nexport async function getItemById(id) {\r\n  const snap = await getDoc(doc(db, ITEMS_COLLECTION, id));\r\n  if (!snap.exists()) return null;\r\n  return mapItemFromDoc(snap);\r\n}\r\n\r\nexport async function getItemsOrdered() {\r\n  const q = query(collection(db, ITEMS_COLLECTION), orderBy('createdAt', 'desc'));\r\n  const snapshot = await getDocs(q);\r\n  return snapshot.docs.map(mapItemFromDoc);\r\n}\r\n\r\nexport async function searchItems({ text, type, category, status }) {\r\n  // Basic fetch and in-memory filter to avoid complex composite indexes\r\n  const snapshot = await getDocs(collection(db, ITEMS_COLLECTION));\r\n  let items = snapshot.docs.map(mapItemFromDoc);\r\n  if (text) {\r\n    const t = text.toLowerCase();\r\n    items = items.filter((i) => (i.name || '').toLowerCase().includes(t) || (i.code || '').toLowerCase().includes(t) || (i.hsn || '').toLowerCase().includes(t));\r\n  }\r\n  if (type) items = items.filter((i) => i.type === type);\r\n  if (category) items = items.filter((i) => i.category === category);\r\n  if (status) items = items.filter((i) => i.status === status);\r\n  return items;\r\n}\r\n\r\nexport async function bulkDeleteItems(ids) {\r\n  const batch = writeBatch(db);\r\n  ids.forEach((id) => batch.delete(doc(db, ITEMS_COLLECTION, id)));\r\n  await batch.commit();\r\n}\r\n\r\n\r\n"],"names":["ItemForm","id","useParams","isEdit","Boolean","navigate","useNavigate","showError","showSuccess","useNotification","loading","setLoading","useState","errors","setErrors","form","setForm","name","type","hsn","code","unit","category","imageUrl","pricing","salePrice","purchasePrice","discountType","discountValue","taxRate","taxMode","stock","track","openingQty","minQty","location","status","notes","useEffect","load","async","data","getItemById","e","handleChange","value","checked","target","prev","handlePricingChange","handleStockChange","onSubmit","preventDefault","v","validateItem","Object","keys","length","updateItem","createItem","err","_jsxs","className","children","_jsx","Link","to","FiArrowLeft","onClick","disabled","FiSave","onChange","placeholder","rows","src","alt","FiUpload","accept","_e$target$files","file","files","url","uploadItemImage","step","ITEMS_COLLECTION","normalizeItemForSave","raw","_numeric","_raw$pricing","_numeric2","_raw$pricing2","_raw$pricing3","_numeric3","_raw$pricing4","_numeric4","_raw$pricing5","_raw$pricing6","_raw$stock","_numeric5","_raw$stock2","_numeric6","_raw$stock3","_raw$stock4","numeric","undefined","Number","String","trim","includes","mapItemFromDoc","docSnap","_d$pricing","_d$pricing2","_d$pricing3","_d$pricing4","_d$pricing5","_d$pricing6","_d$pricing7","_d$pricing8","_d$pricing9","_d$pricing0","_d$stock","_d$stock2","_d$stock3","_d$stock4","_d$stock5","_d$stock6","d","createdAt","updatedAt","itemIdHint","path","Date","now","storageRef","ref","storage","snap","uploadBytes","getDownloadURL","Error","details","serverTimestamp","addDoc","collection","db","updateDoc","doc","getDoc","exists","getItemsOrdered","q","query","orderBy","getDocs","docs","map","searchItems","_ref","text","items","t","toLowerCase","filter","i","bulkDeleteItems","ids","batch","writeBatch","forEach","delete","commit"],"sourceRoot":""}