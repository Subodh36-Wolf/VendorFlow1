{"version":3,"file":"static/js/990.82bebacc.chunk.js","mappings":"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","sources":["components/Admin/ReportGenerator.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { collection, getDocs, query, where, orderBy } from 'firebase/firestore';\nimport { db } from '../../firebase';\nimport { useNotification } from './NotificationSystem';\nimport {\n  FiCalendar, FiDownload, FiBarChart2, FiUsers, FiDollarSign,\n  FiClipboard, FiCheckCircle, FiClock, FiTrendingUp, FiBarChart, FiPrinter\n} from 'react-icons/fi';\n\nexport default function ReportGenerator() {\n  const { showSuccess, showError } = useNotification();\n  const [loading, setLoading] = useState(false);\n  const [reportData, setReportData] = useState(null);\n  const [dateRange, setDateRange] = useState({\n    startDate: new Date(new Date().getFullYear(), new Date().getMonth(), 1).toISOString().split('T')[0],\n    endDate: new Date().toISOString().split('T')[0]\n  });\n  const [reportType, setReportType] = useState('summary');\n  const [showPOFormat, setShowPOFormat] = useState(false);\n  const [poData, setPOData] = useState({\n    refNumber: 'M - 804 / 2025-26',\n    date: new Date().toLocaleDateString('en-GB'),\n    vendorName: 'Thorat Flow Controls Pvt Ltd.',\n    vendorAddress: 'Kirtakarwadi',\n    subject: 'Purchase Order for Valves.',\n    attention: 'Mr. Thorat Saheb.',\n    items: [\n      {\n        no: 1,\n        description: 'Project - Jaysruit Sugar\\nCI Rubberlined Butterfly Valve as per D Table',\n        valveSize: '150 mm',\n        quantity: 2,\n        rateEach: 'As Finalized'\n      },\n      {\n        no: 2,\n        description: 'Project - Harsha Sugar\\nSS Knife Edge Gate Valve as per D Table',\n        valveSize: '150 mm',\n        quantity: 1,\n        rateEach: 'As Finalized'\n      }\n    ]\n  });\n  // Filters\n  const [vendors, setVendors] = useState([]);\n  const [selectedVendor, setSelectedVendor] = useState('all');\n  const [poStatus, setPoStatus] = useState('all');\n  const [operationType, setOperationType] = useState('all');\n\n  useEffect(() => {\n    // Preload vendors for filter dropdown\n    (async () => {\n      try {\n        const snap = await getDocs(collection(db, 'vendors'));\n        const list = snap.docs.map(d => ({ id: d.id, ...d.data() }));\n        setVendors(list);\n      } catch (e) {\n        // non-blocking\n      }\n    })();\n  }, []);\n\n  const generateReport = async () => {\n    try {\n      setLoading(true);\n\n      const startDate = new Date(dateRange.startDate);\n      startDate.setHours(0, 0, 0, 0);\n\n      const endDate = new Date(dateRange.endDate);\n      endDate.setHours(23, 59, 59, 999);\n\n      // Fetch all data\n      const [vendorsSnapshot, posSnapshot, jobsSnapshot, todosSnapshot] = await Promise.all([\n        getDocs(collection(db, 'vendors')),\n        getDocs(query(\n          collection(db, 'purchaseOrders'),\n          where('createdAt', '>=', startDate),\n          where('createdAt', '<=', endDate)\n        )),\n        getDocs(query(\n          collection(db, 'jobAssignments'),\n          where('createdAt', '>=', startDate),\n          where('createdAt', '<=', endDate)\n        )),\n        getDocs(query(\n          collection(db, 'dailyTodos'),\n          where('dueDate', '>=', startDate),\n          where('dueDate', '<=', endDate)\n        ))\n      ]);\n\n      // Process data\n      const vendors = [];\n      vendorsSnapshot.forEach(doc => vendors.push({ id: doc.id, ...doc.data() }));\n\n      let pos = [];\n      posSnapshot.forEach(doc => pos.push({ id: doc.id, ...doc.data() }));\n\n      let jobs = [];\n      jobsSnapshot.forEach(doc => jobs.push({ id: doc.id, ...doc.data() }));\n\n      const todos = [];\n      todosSnapshot.forEach(doc => todos.push({ id: doc.id, ...doc.data() }));\n\n      // Apply client-side filters\n      if (selectedVendor !== 'all') {\n        pos = pos.filter(po => po.vendorId === selectedVendor);\n        jobs = jobs.filter(job => job.vendorId === selectedVendor);\n      }\n      if (poStatus !== 'all') {\n        pos = pos.filter(po => (po.status || '').toLowerCase() === poStatus.toLowerCase());\n      }\n      if (operationType !== 'all') {\n        pos = pos.filter(po => (po.operation || '') === operationType);\n      }\n\n      // Generate report data\n      const report = generateReportData(vendors, pos, jobs, todos);\n      setReportData(report);\n\n      showSuccess('Report generated successfully');\n    } catch (error) {\n      console.error('Error generating report:', error);\n      showError('Failed to generate report');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const generateReportData = (vendors, pos, jobs, todos) => {\n    // Vendor Statistics\n    const vendorStats = {\n      total: vendors.length,\n      active: vendors.filter(v => v.status === 'active').length,\n      inactive: vendors.filter(v => v.status === 'inactive').length,\n      byCategory: {}\n    };\n\n    vendors.forEach(vendor => {\n      const category = vendor.category || 'Unknown';\n      vendorStats.byCategory[category] = (vendorStats.byCategory[category] || 0) + 1;\n    });\n\n    // PO Statistics\n    const poStats = {\n      total: pos.length,\n      totalValue: pos.reduce((sum, po) => sum + (parseFloat(po.totalAmount) || 0), 0),\n      byStatus: {},\n      byOperation: {},\n      byMonth: {}\n    };\n\n    pos.forEach(po => {\n      // By Status\n      poStats.byStatus[po.status] = (poStats.byStatus[po.status] || 0) + 1;\n\n      // By Operation\n      poStats.byOperation[po.operation] = (poStats.byOperation[po.operation] || 0) + 1;\n\n      // By Month\n      if (po.createdAt?.toDate) {\n        const month = po.createdAt.toDate().toLocaleDateString('en-US', { year: 'numeric', month: 'short' });\n        poStats.byMonth[month] = (poStats.byMonth[month] || 0) + (parseFloat(po.totalAmount) || 0);\n      }\n    });\n\n    // Job Statistics\n    const jobStats = {\n      total: jobs.length,\n      totalBudget: jobs.reduce((sum, job) => sum + (parseFloat(job.budget) || 0), 0),\n      byStatus: {},\n      byPriority: {},\n      completed: jobs.filter(j => j.status === 'completed').length\n    };\n\n    jobs.forEach(job => {\n      jobStats.byStatus[job.status] = (jobStats.byStatus[job.status] || 0) + 1;\n      jobStats.byPriority[job.priority] = (jobStats.byPriority[job.priority] || 0) + 1;\n    });\n\n    // Todo Statistics\n    const todoStats = {\n      total: todos.length,\n      completed: todos.filter(t => t.completed).length,\n      pending: todos.filter(t => !t.completed).length,\n      byCategory: {},\n      byPriority: {}\n    };\n\n    todos.forEach(todo => {\n      todoStats.byCategory[todo.category] = (todoStats.byCategory[todo.category] || 0) + 1;\n      todoStats.byPriority[todo.priority] = (todoStats.byPriority[todo.priority] || 0) + 1;\n    });\n\n    // Performance Metrics\n    const performance = {\n      poApprovalRate: pos.length > 0 ? ((pos.filter(p => p.status === 'approved').length / pos.length) * 100).toFixed(1) : 0,\n      jobCompletionRate: jobs.length > 0 ? ((jobs.filter(j => j.status === 'completed').length / jobs.length) * 100).toFixed(1) : 0,\n      todoCompletionRate: todos.length > 0 ? ((todos.filter(t => t.completed).length / todos.length) * 100).toFixed(1) : 0,\n      avgPOValue: pos.length > 0 ? (poStats.totalValue / pos.length).toFixed(2) : 0\n    };\n\n    // Per-vendor breakdown\n    const vendorBreakdown = vendors.map(v => {\n      const vpos = pos.filter(po => po.vendorId === v.id);\n      const totalValue = vpos.reduce((s, po) => s + (parseFloat(po.totalAmount) || 0), 0);\n      const completed = vpos.filter(po => (po.status || '').toLowerCase() === 'completed').length;\n      return {\n        id: v.id,\n        name: v.name || v.id,\n        category: v.category || 'Unknown',\n        totalPOs: vpos.length,\n        completedPOs: completed,\n        completionRate: vpos.length ? Math.round((completed / vpos.length) * 100) : 0,\n        totalValue\n      };\n    }).sort((a, b) => b.totalValue - a.totalValue);\n\n    return {\n      dateRange,\n      vendorStats,\n      poStats,\n      jobStats,\n      todoStats,\n      performance,\n      generatedAt: new Date(),\n      raw: { vendors, pos, jobs },\n      vendorBreakdown\n    };\n  };\n\n  const exportCSV = (rows, filename) => {\n    if (!rows || rows.length === 0) return;\n    const headers = Object.keys(rows[0]);\n    const csv = [headers.join(',')]\n      .concat(rows.map(row => headers.map(h => JSON.stringify(row[h] ?? '')).join(',')))\n      .join('\\n');\n    const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.setAttribute('download', filename);\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    URL.revokeObjectURL(url);\n    showSuccess('CSV exported');\n  };\n\n  const downloadReport = () => {\n    if (!reportData) return;\n\n    const reportContent = generateReportContent(reportData);\n    const blob = new Blob([reportContent], { type: 'text/plain' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `VMT_Report_${reportData.dateRange.startDate}_to_${reportData.dateRange.endDate}.txt`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n\n    showSuccess('Report downloaded successfully');\n  };\n\n  const printPO = () => {\n    window.print();\n    showSuccess('PO sent to printer');\n  };\n\n  const downloadPO = () => {\n    const poContent = generatePOContent(poData);\n    const blob = new Blob([poContent], { type: 'text/plain' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `PO_${poData.refNumber.replace(/\\s+/g, '_')}.txt`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n    showSuccess('PO downloaded successfully');\n  };\n\n  const generatePOContent = (data) => {\n    return `\nTHORAT VALVES PVT. LTD.\n607, Shaniwar Peth, Satara - 415002\nPhone: 02162-234567, Mobile: 9876543210\nEmail: thoratvalves@yahoo.com\nGST No.: 27AABCT7773A1ZF\n\nPO Thermal.jpg\n\nRef.: ${data.refNumber}                                    Date: ${data.date}\n\nTo:\n${data.vendorName}\n${data.vendorAddress}\n\nSub.: ${data.subject}\nAttn.: ${data.attention}\n\nSir,\nWe have pleasure to forward you our firm order for Valves.\n\n${data.items.map((item, index) => `\n${item.no}. ${item.description}    ${item.valveSize}    ${item.quantity}    ${item.rateEach}\n`).join('')}\n\nInvoice, Delivery challan & Material test certificate required along with supplies.\n\nTerms & Conditions:\n1) Prices        : Ex Works K. vadi\n2) Taxes         : Extra as applicable\n3) Payment       : After receipt & approval of material.\n4) Delivery      : Urgent\n5) P & F         : Nil\n6) Invoice to    : THORAT VALVES PVT. LTD., 607, Shaniwar Peth, Satara - 415002.\n7) Dispatch to   : THORAT VALVES PVT. LTD., Plot No.2-2/14, Additional MIDC, Satara - 415004.\n\nThanking you,\n\nYours Faithfully,\nFor THORAT VALVES PVT. LTD.\n\nPrepared By\n(D.R. Naik)\n    `.trim();\n  };\n\n  const generateReportContent = (data) => {\n    return `\nVENDOR MANAGEMENT SYSTEM REPORT\nGenerated on: ${data.generatedAt.toLocaleString()}\nReport Period: ${data.dateRange.startDate} to ${data.dateRange.endDate}\n\n=====================================\nEXECUTIVE SUMMARY\n=====================================\nTotal Vendors: ${data.vendorStats.total}\nTotal Purchase Orders: ${data.poStats.total}\nTotal Job Assignments: ${data.jobStats.total}\nTotal Todos: ${data.todoStats.total}\n\nTotal PO Value: ₹${data.poStats.totalValue.toLocaleString()}\nAverage PO Value: ₹${data.performance.avgPOValue}\n\n=====================================\nVENDOR STATISTICS\n=====================================\nActive Vendors: ${data.vendorStats.active}\nInactive Vendors: ${data.vendorStats.inactive}\n\nVendors by Category:\n${Object.entries(data.vendorStats.byCategory)\n        .map(([category, count]) => `  ${category}: ${count}`)\n        .join('\\n')}\n\n=====================================\nPURCHASE ORDER STATISTICS\n=====================================\nTotal POs: ${data.poStats.total}\nTotal Value: ₹${data.poStats.totalValue.toLocaleString()}\n\nPOs by Status:\n${Object.entries(data.poStats.byStatus)\n        .map(([status, count]) => `  ${status}: ${count}`)\n        .join('\\n')}\n\nPOs by Operation:\n${Object.entries(data.poStats.byOperation)\n        .map(([operation, count]) => `  ${operation}: ${count}`)\n        .join('\\n')}\n\nMonthly PO Values:\n${Object.entries(data.poStats.byMonth)\n        .map(([month, value]) => `  ${month}: ₹${value.toLocaleString()}`)\n        .join('\\n')}\n\n=====================================\nJOB ASSIGNMENT STATISTICS\n=====================================\nTotal Jobs: ${data.jobStats.total}\nCompleted Jobs: ${data.jobStats.completed}\nTotal Budget: ₹${data.jobStats.totalBudget.toLocaleString()}\n\nJobs by Status:\n${Object.entries(data.jobStats.byStatus)\n        .map(([status, count]) => `  ${status}: ${count}`)\n        .join('\\n')}\n\nJobs by Priority:\n${Object.entries(data.jobStats.byPriority)\n        .map(([priority, count]) => `  ${priority}: ${count}`)\n        .join('\\n')}\n\n=====================================\nTODO STATISTICS\n=====================================\nTotal Todos: ${data.todoStats.total}\nCompleted: ${data.todoStats.completed}\nPending: ${data.todoStats.pending}\n\nTodos by Category:\n${Object.entries(data.todoStats.byCategory)\n        .map(([category, count]) => `  ${category}: ${count}`)\n        .join('\\n')}\n\nTodos by Priority:\n${Object.entries(data.todoStats.byPriority)\n        .map(([priority, count]) => `  ${priority}: ${count}`)\n        .join('\\n')}\n\n=====================================\nPERFORMANCE METRICS\n=====================================\nPO Approval Rate: ${data.performance.poApprovalRate}%\nJob Completion Rate: ${data.performance.jobCompletionRate}%\nTodo Completion Rate: ${data.performance.todoCompletionRate}%\nAverage PO Value: ₹${data.performance.avgPOValue}\n\n=====================================\nEND OF REPORT\n=====================================\n    `.trim();\n  };\n\n  if (showPOFormat) {\n    return (\n      <div className=\"space-y-6\">\n        {/* PO Header */}\n        <div className=\"flex justify-between items-center no-print\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900\">Purchase Order</h1>\n            <p className=\"text-gray-600\">Thorat Valves Format</p>\n          </div>\n          <div className=\"flex space-x-3\">\n            <button\n              onClick={() => setShowPOFormat(false)}\n              className=\"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors\"\n            >\n              Back to Reports\n            </button>\n            <button\n              onClick={printPO}\n              className=\"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n            >\n              <FiPrinter className=\"mr-2\" size={16} />\n              Print PO\n            </button>\n            <button\n              onClick={downloadPO}\n              className=\"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n            >\n              <FiDownload className=\"mr-2\" size={16} />\n              Download PO\n            </button>\n          </div>\n        </div>\n\n        {/* PO Document */}\n        <div className=\"print-container bg-white p-8 rounded-lg shadow-sm border border-gray-200 print:shadow-none print:border-none print:p-4 max-w-4xl mx-auto\">\n          <style jsx>{`\n            @media print {\n              /* Hide all non-PO elements */\n              .no-print { display: none !important; }\n              \n              /* Hide sidebar and header elements */\n              .sidebar, \n              .admin-sidebar,\n              .admin-header,\n              .main-header,\n              nav,\n              .navigation,\n              .menu,\n              .topbar,\n              .navbar,\n              header,\n              aside,\n              .sidebar-container,\n              .header-container,\n              .layout-sidebar,\n              .layout-header,\n              [class*=\"sidebar\"],\n              [class*=\"header\"],\n              [class*=\"nav\"] { \n                display: none !important; \n              }\n              \n              /* Reset page margins and padding */\n              @page { \n                margin: 0.5in; \n                size: A4;\n              }\n              \n              /* Reset body styles for print */\n              body { \n                font-size: 12px; \n                margin: 0 !important;\n                padding: 0 !important;\n                background: white !important;\n              }\n              \n              /* Ensure only PO content is visible */\n              * { \n                visibility: hidden; \n              }\n              \n              /* Make PO container and its children visible */\n              .print-container,\n              .print-container * { \n                visibility: visible; \n              }\n              \n              /* Position PO container at top-left */\n              .print-container { \n                position: absolute; \n                left: 0; \n                top: 0; \n                width: 100% !important;\n                max-width: none !important;\n                margin: 0 !important;\n                padding: 1rem !important;\n                box-shadow: none !important;\n                border: none !important;\n                background: white !important;\n              }\n              \n              table { font-size: 11px; }\n            }\n          `}</style>\n          \n          {/* Header Layout - Left: THORAT, Right: Company Details */}\n          <div className=\"flex justify-between items-start mb-4\">\n            <div className=\"w-1/3\">\n              <div className=\"text-5xl font-bold text-black tracking-widest\" style={{fontFamily: 'Arial, sans-serif'}}>THORAT</div>\n            </div>\n            <div className=\"w-2/3 text-right\">\n              <div className=\"text-base font-bold text-black mb-1\">THORAT VALVES PVT. LTD.</div>\n              <div className=\"text-xs text-black leading-tight\">\n                <div>607, Shaniwar Peth, Satara - 415002</div>\n                <div>Phone: 02162-234567, Mobile: 9876543210</div>\n                <div>Email: thoratvalves@yahoo.com</div>\n                <div>GST No.: 27AABCT7773A1ZF</div>\n              </div>\n            </div>\n          </div>\n\n          {/* PO Thermal Image Placeholder */}\n          <div className=\"text-center mb-3\">\n            <div className=\"text-xs text-gray-600\">PO Thermal.jpg</div>\n          </div>\n\n          {/* Dotted line separator */}\n          <div className=\"border-t border-dotted border-gray-400 mb-3\"></div>\n\n          {/* Reference and Date */}\n          <div className=\"flex justify-between items-center mb-3\">\n            <div className=\"text-xs\">\n              <span>Ref.: </span>\n              <input\n                type=\"text\"\n                value={poData.refNumber}\n                onChange={(e) => setPOData(prev => ({ ...prev, refNumber: e.target.value }))}\n                className=\"border-none outline-none bg-transparent\"\n              />\n            </div>\n            <div className=\"text-xs\">\n              <span>Date: </span>\n              <input\n                type=\"text\"\n                value={poData.date}\n                onChange={(e) => setPOData(prev => ({ ...prev, date: e.target.value }))}\n                className=\"border-none outline-none bg-transparent\"\n              />\n            </div>\n          </div>\n\n          {/* To Section */}\n          <div className=\"mb-3\">\n            <div className=\"text-xs mb-1\">To:</div>\n            <div className=\"ml-3 text-xs\">\n              <input\n                type=\"text\"\n                value={poData.vendorName}\n                onChange={(e) => setPOData(prev => ({ ...prev, vendorName: e.target.value }))}\n                className=\"w-full border-none outline-none bg-transparent\"\n                placeholder=\"Vendor Name\"\n              />\n              <input\n                type=\"text\"\n                value={poData.vendorAddress}\n                onChange={(e) => setPOData(prev => ({ ...prev, vendorAddress: e.target.value }))}\n                className=\"w-full border-none outline-none bg-transparent\"\n                placeholder=\"Vendor Address\"\n              />\n            </div>\n          </div>\n\n          {/* Subject and Attention */}\n          <div className=\"mb-3 space-y-0 text-xs\">\n            <div>\n              <span>Sub.: </span>\n              <input\n                type=\"text\"\n                value={poData.subject}\n                onChange={(e) => setPOData(prev => ({ ...prev, subject: e.target.value }))}\n                className=\"border-none outline-none bg-transparent\"\n              />\n            </div>\n            <div>\n              <span>Attn.: </span>\n              <input\n                type=\"text\"\n                value={poData.attention}\n                onChange={(e) => setPOData(prev => ({ ...prev, attention: e.target.value }))}\n                className=\"border-none outline-none bg-transparent\"\n              />\n            </div>\n          </div>\n\n          {/* Opening Line */}\n          <div className=\"mb-3 text-xs\">\n            <p>Sir,</p>\n            <p>We have pleasure to forward you our firm order for Valves.</p>\n          </div>\n\n          {/* Items Table */}\n          <div className=\"mb-8\">\n            <div className=\"flex justify-between items-center mb-4 no-print\">\n              <h3 className=\"font-medium\">Items</h3>\n              <button\n                onClick={() => {\n                  const newItem = {\n                    no: poData.items.length + 1,\n                    description: '',\n                    valveSize: '',\n                    quantity: 1,\n                    rateEach: 'As Finalized'\n                  };\n                  setPOData(prev => ({ ...prev, items: [...prev.items, newItem] }));\n                }}\n                className=\"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700\"\n              >\n                Add Item\n              </button>\n            </div>\n            <table className=\"w-full border-collapse border border-black text-xs\">\n              <thead>\n                <tr>\n                  <th className=\"border border-black px-1 py-1 text-center font-normal bg-white\" style={{width: '8%'}}>Sr.No</th>\n                  <th className=\"border border-black px-1 py-1 text-center font-normal bg-white\" style={{width: '45%'}}>Description</th>\n                  <th className=\"border border-black px-1 py-1 text-center font-normal bg-white\" style={{width: '15%'}}>Valve Size</th>\n                  <th className=\"border border-black px-1 py-1 text-center font-normal bg-white\" style={{width: '12%'}}>Quantity<br/>(Nos.)</th>\n                  <th className=\"border border-black px-1 py-1 text-center font-normal bg-white\" style={{width: '15%'}}>Price</th>\n                  <th className=\"border border-black px-1 py-1 text-center font-normal bg-white no-print\" style={{width: '5%'}}>Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {poData.items.map((item, index) => (\n                  <tr key={index}>\n                    <td className=\"border border-black px-1 py-1 text-center align-top\">{item.no}</td>\n                    <td className=\"border border-black px-1 py-1 align-top\">\n                      <textarea\n                        value={item.description}\n                        onChange={(e) => {\n                          const newItems = [...poData.items];\n                          newItems[index].description = e.target.value;\n                          setPOData(prev => ({ ...prev, items: newItems }));\n                        }}\n                        className=\"w-full bg-transparent outline-none resize-none text-xs leading-tight\"\n                        rows=\"2\"\n                        style={{minHeight: '32px'}}\n                      />\n                    </td>\n                    <td className=\"border border-black px-1 py-1 text-center align-top\">\n                      <input\n                        type=\"text\"\n                        value={item.valveSize}\n                        onChange={(e) => {\n                          const newItems = [...poData.items];\n                          newItems[index].valveSize = e.target.value;\n                          setPOData(prev => ({ ...prev, items: newItems }));\n                        }}\n                        className=\"w-full bg-transparent outline-none text-center text-xs\"\n                        placeholder=\"mm\"\n                      />\n                    </td>\n                    <td className=\"border border-black px-1 py-1 text-center align-top\">\n                      <input\n                        type=\"number\"\n                        value={item.quantity}\n                        onChange={(e) => {\n                          const newItems = [...poData.items];\n                          newItems[index].quantity = parseInt(e.target.value) || 0;\n                          setPOData(prev => ({ ...prev, items: newItems }));\n                        }}\n                        className=\"w-full bg-transparent outline-none text-center text-xs\"\n                      />\n                    </td>\n                    <td className=\"border border-black px-1 py-1 text-center align-top\">\n                      <input\n                        type=\"text\"\n                        value={item.rateEach}\n                        onChange={(e) => {\n                          const newItems = [...poData.items];\n                          newItems[index].rateEach = e.target.value;\n                          setPOData(prev => ({ ...prev, items: newItems }));\n                        }}\n                        className=\"w-full bg-transparent outline-none text-center text-xs\"\n                        placeholder=\"Price\"\n                      />\n                    </td>\n                    <td className=\"border border-black px-1 py-1 no-print text-center\">\n                      {poData.items.length > 1 && (\n                        <button\n                          onClick={() => {\n                            const newItems = poData.items.filter((_, i) => i !== index);\n                            // Renumber items\n                            const renumberedItems = newItems.map((item, i) => ({ ...item, no: i + 1 }));\n                            setPOData(prev => ({ ...prev, items: renumberedItems }));\n                          }}\n                          className=\"px-1 py-0 bg-red-600 text-white text-xs rounded hover:bg-red-700\"\n                        >\n                          ×\n                        </button>\n                      )}\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n\n          {/* Additional Requirements */}\n          <div className=\"mb-2 text-xs\">\n            <p>Invoice, Delivery challan & Material test certificate required along with supplies.</p>\n          </div>\n\n          {/* Terms & Conditions */}\n          <div className=\"mb-4\">\n            <div className=\"mb-1 text-xs font-medium\">Terms & Conditions:</div>\n            <div className=\"space-y-0 text-xs leading-tight\">\n              <div>1) Prices&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: Ex Works K. vadi</div>\n              <div>2) Taxes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: Extra as applicable</div>\n              <div>3) Payment&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: After receipt & approval of material.</div>\n              <div>4) Delivery&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: Urgent</div>\n              <div>5) P & F&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: Nil</div>\n              <div>6) Invoice to&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: THORAT VALVES PVT. LTD., 607, Shaniwar Peth, Satara - 415002.</div>\n              <div>7) Dispatch to&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: THORAT VALVES PVT. LTD., Plot No.2-2/14, Additional MIDC, Satara - 415004.</div>\n            </div>\n          </div>\n\n          {/* Closing */}\n          <div className=\"mb-3 text-xs\">\n            <p>Thanking you,</p>\n          </div>\n\n          {/* Signature Section */}\n          <div className=\"flex justify-between items-end\">\n            <div className=\"text-xs\">\n              <p>Yours Faithfully,</p>\n              <p>For THORAT VALVES PVT. LTD.</p>\n              <div className=\"mt-8\">\n                <div className=\"border-t border-black w-24 mb-1\"></div>\n                <p>Prepared By</p>\n                <p>(D.R. Naik)</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4 lg:space-y-6\">\n      {/* Enhanced Mobile-First Header */}\n      <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-6\">\n        <div className=\"flex flex-col lg:flex-row lg:justify-between lg:items-start space-y-4 lg:space-y-0\">\n          <div className=\"flex items-center space-x-3 lg:space-x-4\">\n            <div className=\"w-10 h-10 lg:w-12 lg:h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center\">\n              <FiBarChart2 className=\"text-white\" size={24} />\n            </div>\n            <div>\n              <h1 className=\"text-2xl lg:text-3xl font-bold text-gray-900\">Report Generator</h1>\n              <p className=\"text-sm lg:text-base text-gray-600 mt-1\">Generate comprehensive reports and purchase orders for vendor management</p>\n            </div>\n          </div>\n          \n          <div className=\"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-3\">\n            <button\n              onClick={() => setShowPOFormat(true)}\n              className=\"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl text-sm lg:text-base\"\n            >\n              <FiClipboard className=\"mr-2\" size={16} />\n              Generate PO\n            </button>\n            {reportData && (\n              <button\n                onClick={downloadReport}\n                className=\"inline-flex items-center px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all duration-200 shadow-lg hover:shadow-xl text-sm lg:text-base\"\n              >\n                <FiDownload className=\"mr-2\" size={16} />\n                Download Report\n              </button>\n            )}\n            {reportData && (\n              <button\n                onClick={() => exportCSV(\n                  (reportData.raw.pos || []).map(p => ({\n                    id: p.id,\n                    poNumber: p.poNumber || '',\n                    vendorId: p.vendorId || '',\n                    status: p.status || '',\n                    operation: p.operation || '',\n                    totalAmount: p.totalAmount || 0,\n                    createdAt: p.createdAt?.toDate?.()?.toISOString() || ''\n                  })),\n                  `POs_${dateRange.startDate}_to_${dateRange.endDate}.csv`\n                )}\n                className=\"inline-flex items-center px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl text-sm lg:text-base\"\n              >\n                <FiDownload className=\"mr-2\" size={16} />\n                Export POs CSV\n              </button>\n            )}\n            {reportData && (\n              <button\n                onClick={() => exportCSV(\n                  (reportData.raw.jobs || []).map(j => ({\n                    id: j.id,\n                    title: j.title || '',\n                    vendorId: j.vendorId || '',\n                    status: j.status || '',\n                    priority: j.priority || '',\n                    budget: j.budget || 0,\n                    createdAt: j.createdAt?.toDate?.()?.toISOString() || ''\n                  })),\n                  `Jobs_${dateRange.startDate}_to_${dateRange.endDate}.csv`\n                )}\n                className=\"inline-flex items-center px-4 py-2 bg-gradient-to-r from-pink-600 to-rose-600 text-white rounded-lg hover:from-pink-700 hover:to-rose-700 transition-all duration-200 shadow-lg hover:shadow-xl text-sm lg:text-base\"\n              >\n                <FiDownload className=\"mr-2\" size={16} />\n                Export Jobs CSV\n              </button>\n            )}\n            {reportData && (\n              <button\n                onClick={() => exportCSV(\n                  (reportData.vendorBreakdown || []).map(v => ({\n                    id: v.id,\n                    name: v.name,\n                    category: v.category,\n                    totalPOs: v.totalPOs,\n                    completedPOs: v.completedPOs,\n                    completionRate: v.completionRate,\n                    totalValue: v.totalValue\n                  })),\n                  `Vendors_${dateRange.startDate}_to_${dateRange.endDate}.csv`\n                )}\n                className=\"inline-flex items-center px-4 py-2 bg-gradient-to-r from-teal-600 to-cyan-600 text-white rounded-lg hover:from-teal-700 hover:to-cyan-700 transition-all duration-200 shadow-lg hover:shadow-xl text-sm lg:text-base\"\n              >\n                <FiDownload className=\"mr-2\" size={16} />\n                Export Vendors CSV\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Enhanced Report Configuration */}\n      <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-6\">\n        <div className=\"flex items-center space-x-3 mb-6\">\n          <div className=\"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center\">\n            <FiBarChart className=\"text-white\" size={16} />\n          </div>\n          <h2 className=\"text-lg lg:text-xl font-bold text-gray-900\">Report Configuration</h2>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 lg:gap-6\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              <FiBarChart2 className=\"inline mr-2\" size={14} />\n              Report Type\n            </label>\n            <select\n              value={reportType}\n              onChange={(e) => setReportType(e.target.value)}\n              className=\"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white shadow-sm transition-all duration-200\"\n            >\n              <option value=\"summary\">📊 Summary Report</option>\n              <option value=\"detailed\">📋 Detailed Report</option>\n              <option value=\"financial\">💰 Financial Report</option>\n            </select>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              <FiCalendar className=\"inline mr-2\" size={14} />\n              Start Date\n            </label>\n            <input\n              type=\"date\"\n              value={dateRange.startDate}\n              onChange={(e) => setDateRange(prev => ({ ...prev, startDate: e.target.value }))}\n              className=\"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white shadow-sm transition-all duration-200\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              <FiCalendar className=\"inline mr-2\" size={14} />\n              End Date\n            </label>\n            <input\n              type=\"date\"\n              value={dateRange.endDate}\n              onChange={(e) => setDateRange(prev => ({ ...prev, endDate: e.target.value }))}\n              className=\"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white shadow-sm transition-all duration-200\"\n            />\n          </div>\n        </div>\n\n        {/* Additional Filters */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 lg:gap-6 mt-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Vendor</label>\n            <select\n              value={selectedVendor}\n              onChange={(e) => setSelectedVendor(e.target.value)}\n              className=\"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white shadow-sm transition-all duration-200\"\n            >\n              <option value=\"all\">All Vendors</option>\n              {vendors.map(v => (\n                <option key={v.id} value={v.id}>{v.name || v.id}</option>\n              ))}\n            </select>\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">PO Status</label>\n            <select\n              value={poStatus}\n              onChange={(e) => setPoStatus(e.target.value)}\n              className=\"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white shadow-sm transition-all duration-200\"\n            >\n              <option value=\"all\">All</option>\n              <option value=\"pending\">Pending</option>\n              <option value=\"in_progress\">In Progress</option>\n              <option value=\"completed\">Completed</option>\n              <option value=\"cancelled\">Cancelled</option>\n            </select>\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Operation</label>\n            <input\n              type=\"text\"\n              value={operationType === 'all' ? '' : operationType}\n              onChange={(e) => setOperationType(e.target.value.trim() ? e.target.value : 'all')}\n              placeholder=\"e.g., machining, assembly\"\n              className=\"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white shadow-sm transition-all duration-200\"\n            />\n          </div>\n        </div>\n\n        <div className=\"mt-6\">\n          <button\n            onClick={generateReport}\n            disabled={loading}\n            className=\"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 px-6 rounded-lg hover:from-indigo-700 hover:to-purple-700 disabled:opacity-50 flex items-center justify-center transition-all duration-200 shadow-lg hover:shadow-xl font-medium\"\n          >\n            {loading ? (\n              <>\n                <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"></div>\n                Generating Report...\n              </>\n            ) : (\n              <>\n                <FiTrendingUp className=\"mr-2\" size={18} />\n                Generate Report\n              </>\n            )}\n          </button>\n        </div>\n\n        {/* Enhanced Report Results */}\n        {reportData && (\n          <div className=\"mt-8 space-y-6\">\n            {/* Enhanced Summary Cards with Gradients */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6\">\n              <div className=\"bg-gradient-to-br from-blue-50 to-indigo-50 p-4 lg:p-6 rounded-xl border border-blue-100 shadow-sm\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-blue-600 text-xs lg:text-sm font-medium\">Total Vendors</p>\n                    <p className=\"text-2xl lg:text-3xl font-bold text-blue-900\">{reportData.vendorStats.total}</p>\n                    <p className=\"text-xs text-blue-600 mt-1\">\n                      {reportData.vendorStats.active} active\n                    </p>\n                  </div>\n                  <FiUsers className=\"text-blue-500\" size={28} />\n                </div>\n              </div>\n\n              <div className=\"bg-gradient-to-br from-green-50 to-emerald-50 p-4 lg:p-6 rounded-xl border border-green-100 shadow-sm\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-green-600 text-xs lg:text-sm font-medium\">Purchase Orders</p>\n                    <p className=\"text-2xl lg:text-3xl font-bold text-green-900\">{reportData.poStats.total}</p>\n                    <p className=\"text-xs text-green-600 mt-1\">\n                      {Object.values(reportData.poStats.byStatus).reduce((a, b) => a + b, 0)} total\n                    </p>\n                  </div>\n                  <FiClipboard className=\"text-green-500\" size={28} />\n                </div>\n              </div>\n\n              <div className=\"bg-gradient-to-br from-purple-50 to-pink-50 p-4 lg:p-6 rounded-xl border border-purple-100 shadow-sm\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-purple-600 text-xs lg:text-sm font-medium\">Total PO Value</p>\n                    <p className=\"text-xl lg:text-2xl font-bold text-purple-900\">₹{reportData.poStats.totalValue.toLocaleString()}</p>\n                    <p className=\"text-xs text-purple-600 mt-1\">\n                      Avg: ₹{parseFloat(reportData.performance.avgPOValue).toLocaleString()}\n                    </p>\n                  </div>\n                  <FiDollarSign className=\"text-purple-500\" size={28} />\n                </div>\n              </div>\n\n              <div className=\"bg-gradient-to-br from-indigo-50 to-blue-50 p-4 lg:p-6 rounded-xl border border-indigo-100 shadow-sm\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-indigo-600 text-xs lg:text-sm font-medium\">Job Assignments</p>\n                    <p className=\"text-2xl lg:text-3xl font-bold text-indigo-900\">{reportData.jobStats.total}</p>\n                    <p className=\"text-xs text-indigo-600 mt-1\">\n                      {reportData.jobStats.completed} completed\n                    </p>\n                  </div>\n                  <FiTrendingUp className=\"text-indigo-500\" size={28} />\n                </div>\n              </div>\n            </div>\n\n            {/* Enhanced Performance Metrics */}\n            <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-6\">\n              <div className=\"flex items-center space-x-3 mb-6\">\n                <div className=\"w-8 h-8 bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg flex items-center justify-center\">\n                  <FiBarChart2 className=\"text-white\" size={16} />\n                </div>\n                <h3 className=\"text-lg lg:text-xl font-bold text-gray-900\">Performance Metrics</h3>\n              </div>\n\n              <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6\">\n                <div className=\"text-center p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg border border-green-100\">\n                  <div className=\"text-2xl lg:text-3xl font-bold text-green-600\">{reportData.performance.poApprovalRate}%</div>\n                  <div className=\"text-xs lg:text-sm text-green-700 font-medium mt-1\">PO Approval Rate</div>\n                </div>\n\n                <div className=\"text-center p-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-100\">\n                  <div className=\"text-2xl lg:text-3xl font-bold text-blue-600\">{reportData.performance.jobCompletionRate}%</div>\n                  <div className=\"text-xs lg:text-sm text-blue-700 font-medium mt-1\">Job Completion Rate</div>\n                </div>\n\n                <div className=\"text-center p-4 bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg border border-purple-100\">\n                  <div className=\"text-2xl lg:text-3xl font-bold text-purple-600\">{reportData.performance.todoCompletionRate}%</div>\n                  <div className=\"text-xs lg:text-sm text-purple-700 font-medium mt-1\">Todo Completion Rate</div>\n                </div>\n\n                <div className=\"text-center p-4 bg-gradient-to-br from-indigo-50 to-blue-50 rounded-lg border border-indigo-100\">\n                  <div className=\"text-xl lg:text-2xl font-bold text-indigo-600\">₹{parseFloat(reportData.performance.avgPOValue).toLocaleString()}</div>\n                  <div className=\"text-xs lg:text-sm text-indigo-700 font-medium mt-1\">Average PO Value</div>\n                </div>\n              </div>\n            </div>\n\n            {/* Enhanced Detailed Breakdowns */}\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              {/* PO Status Breakdown */}\n              <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-6\">\n                <div className=\"flex items-center space-x-3 mb-4\">\n                  <div className=\"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center\">\n                    <FiCheckCircle className=\"text-white\" size={16} />\n                  </div>\n                  <h3 className=\"text-lg font-semibold text-gray-900\">PO Status Breakdown</h3>\n                </div>\n                <div className=\"space-y-3\">\n                  {Object.entries(reportData.poStats.byStatus).map(([status, count]) => (\n                    <div key={status} className=\"flex justify-between items-center p-3 bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg border border-gray-200\">\n                      <span className=\"text-sm font-medium text-gray-700 capitalize\">{status}</span>\n                      <span className=\"px-3 py-1 bg-white rounded-full text-sm font-bold text-gray-900 shadow-sm\">{count}</span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {/* Enhanced Operation Types */}\n              <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-6\">\n                <div className=\"flex items-center space-x-3 mb-4\">\n                  <div className=\"w-8 h-8 bg-gradient-to-br from-orange-500 to-red-600 rounded-lg flex items-center justify-center\">\n                    <FiBarChart className=\"text-white\" size={16} />\n                  </div>\n                  <h3 className=\"text-lg font-semibold text-gray-900\">Operations Breakdown</h3>\n                </div>\n                <div className=\"space-y-3\">\n                  {Object.entries(reportData.poStats.byOperation).map(([operation, count]) => (\n                    <div key={operation} className=\"flex justify-between items-center p-3 bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg border border-gray-200\">\n                      <span className=\"text-sm font-medium text-gray-700\">{operation}</span>\n                      <span className=\"px-3 py-1 bg-white rounded-full text-sm font-bold text-gray-900 shadow-sm\">{count}</span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n\n            {/* Vendor Breakdown */}\n            <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-6\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <div className=\"flex items-center space-x-3\">\n                  <div className=\"w-8 h-8 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-lg flex items-center justify-center\">\n                    <FiUsers className=\"text-white\" size={16} />\n                  </div>\n                  <h3 className=\"text-lg font-semibold text-gray-900\">Vendor Breakdown</h3>\n                </div>\n                <span className=\"text-sm text-gray-500\">Top {Math.min(10, reportData.vendorBreakdown.length)} by spend</span>\n              </div>\n\n              {reportData.vendorBreakdown.length === 0 ? (\n                <div className=\"text-gray-500\">No vendor data in selected range.</div>\n              ) : (\n                <div className=\"overflow-x-auto\">\n                  <table className=\"min-w-full divide-y divide-gray-200\">\n                    <thead className=\"bg-gray-50\">\n                      <tr>\n                        <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Vendor</th>\n                        <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Category</th>\n                        <th className=\"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">POs</th>\n                        <th className=\"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">Completed</th>\n                        <th className=\"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">Completion</th>\n                        <th className=\"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">Total Spend</th>\n                        <th className=\"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th>\n                      </tr>\n                    </thead>\n                    <tbody className=\"bg-white divide-y divide-gray-200\">\n                      {reportData.vendorBreakdown.slice(0, 10).map(v => (\n                        <tr key={v.id} className=\"hover:bg-gray-50\">\n                          <td className=\"px-4 py-3 text-sm font-medium text-gray-900\">{v.name}</td>\n                          <td className=\"px-4 py-3 text-sm text-gray-600\">{v.category}</td>\n                          <td className=\"px-4 py-3 text-sm text-right text-gray-900\">{v.totalPOs}</td>\n                          <td className=\"px-4 py-3 text-sm text-right text-gray-900\">{v.completedPOs}</td>\n                          <td className=\"px-4 py-3 text-sm text-right\">\n                            <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${v.completionRate >= 80 ? 'bg-green-100 text-green-800' : v.completionRate >= 60 ? 'bg-yellow-100 text-yellow-800' : 'bg-gray-100 text-gray-800'}`}>\n                              {v.completionRate}%\n                            </span>\n                          </td>\n                          <td className=\"px-4 py-3 text-sm text-right font-semibold text-gray-900\">₹{parseFloat(v.totalValue).toLocaleString()}</td>\n                          <td className=\"px-4 py-3 text-sm text-right\">\n                            <Link to={`/admin/vendor-performance/${v.id}`} className=\"text-indigo-600 hover:text-indigo-800\">View</Link>\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              )}\n            </div>\n\n            {/* Enhanced Report Generation Info */}\n            <div className=\"bg-gradient-to-r from-gray-50 to-blue-50 p-4 lg:p-6 rounded-xl border border-gray-200 shadow-sm\">\n              <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-2 lg:space-y-0\">\n                <div className=\"flex items-center space-x-3\">\n                  <div className=\"w-8 h-8 bg-gradient-to-br from-gray-500 to-gray-600 rounded-lg flex items-center justify-center\">\n                    <FiCalendar className=\"text-white\" size={16} />\n                  </div>\n                  <div>\n                    <p className=\"text-sm font-medium text-gray-900\">Report Generated</p>\n                    <p className=\"text-xs text-gray-600\">{reportData.generatedAt.toLocaleString()}</p>\n                  </div>\n                </div>\n                <div className=\"flex items-center space-x-3\">\n                  <div className=\"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center\">\n                    <FiBarChart2 className=\"text-white\" size={16} />\n                  </div>\n                  <div>\n                    <p className=\"text-sm font-medium text-gray-900\">Report Period</p>\n                    <p className=\"text-xs text-gray-600\">{reportData.dateRange.startDate} to {reportData.dateRange.endDate}</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":["ReportGenerator","showSuccess","showError","useNotification","loading","setLoading","useState","reportData","setReportData","dateRange","setDateRange","startDate","Date","getFullYear","getMonth","toISOString","split","endDate","reportType","setReportType","showPOFormat","setShowPOFormat","poData","setPOData","refNumber","date","toLocaleDateString","vendorName","vendorAddress","subject","attention","items","no","description","valveSize","quantity","rateEach","vendors","setVendors","selectedVendor","setSelectedVendor","poStatus","setPoStatus","operationType","setOperationType","useEffect","list","getDocs","collection","db","docs","map","d","id","data","e","generateReportData","pos","jobs","todos","vendorStats","total","length","active","filter","v","status","inactive","byCategory","forEach","vendor","category","poStats","totalValue","reduce","sum","po","parseFloat","totalAmount","byStatus","byOperation","byMonth","_po$createdAt","operation","createdAt","toDate","month","year","jobStats","totalBudget","job","budget","byPriority","completed","j","priority","todoStats","t","pending","todo","performance","poApprovalRate","p","toFixed","jobCompletionRate","todoCompletionRate","avgPOValue","vendorBreakdown","vpos","vendorId","s","toLowerCase","name","totalPOs","completedPOs","completionRate","Math","round","sort","a","b","generatedAt","raw","exportCSV","rows","filename","headers","Object","keys","csv","join","concat","row","h","_row$h","JSON","stringify","blob","Blob","type","url","URL","createObjectURL","link","document","createElement","href","setAttribute","body","appendChild","click","removeChild","revokeObjectURL","printPO","window","print","downloadPO","poContent","generatePOContent","download","replace","item","index","trim","generateReportContent","toLocaleString","entries","_ref","count","_ref2","_ref3","_ref4","value","_ref5","_ref6","_ref7","_ref8","_jsxs","className","children","_jsx","onClick","FiPrinter","size","FiDownload","jsx","style","fontFamily","onChange","prev","target","placeholder","newItem","width","newItems","minHeight","parseInt","renumberedItems","_","i","FiBarChart2","FiClipboard","downloadReport","reportContent","_p$createdAt","_p$createdAt$toDate","_p$createdAt$toDate$c","poNumber","call","_j$createdAt","_j$createdAt$toDate","_j$createdAt$toDate$c","title","FiBarChart","FiCalendar","async","setHours","vendorsSnapshot","posSnapshot","jobsSnapshot","todosSnapshot","Promise","all","query","where","doc","push","report","error","console","disabled","_Fragment","FiTrendingUp","FiUsers","values","FiDollarSign","FiCheckCircle","_ref9","_ref0","min","slice","Link","to"],"sourceRoot":""}