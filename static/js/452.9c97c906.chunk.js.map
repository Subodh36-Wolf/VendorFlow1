{"version":3,"file":"static/js/452.9c97c906.chunk.js","mappings":"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","sources":["components/Admin/PODetails.jsx","services/purchaseOrderService.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { db } from '../../firebase';\nimport { updatePO, getPOById } from '../../services/purchaseOrderService';\nimport { useNotification } from './NotificationSystem';\nimport { \n  FiArrowLeft, FiEdit2, FiDownload, FiUser, FiCalendar, \n  FiDollarSign, FiFileText, FiCheckCircle, FiClock, \n  FiAlertCircle, FiXCircle, FiPrinter, FiMail, FiPhone\n} from 'react-icons/fi';\n\nexport default function PODetails() {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const { showSuccess, showError } = useNotification();\n  \n  const [po, setPO] = useState(null);\n  const [vendor, setVendor] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [updating, setUpdating] = useState(false);\n\n  useEffect(() => {\n    fetchPODetails();\n  }, [id]);\n\n  const fetchPODetails = async () => {\n    try {\n      setLoading(true);\n      \n      // Fetch PO details\n      const poData = await getPOById(id);\n      if (!poData) {\n        showError('Purchase order not found');\n        navigate('/admin/purchase-orders');\n        return;\n      }\n      setPO(poData);\n\n      // Fetch vendor details\n      if (poData.vendorId) {\n        const vendorDoc = await getDoc(doc(db, 'vendors', poData.vendorId));\n        if (vendorDoc.exists()) {\n          setVendor({ id: vendorDoc.id, ...vendorDoc.data() });\n        }\n      }\n\n    } catch (error) {\n      console.error('Error fetching PO details:', error);\n      showError('Failed to load purchase order details');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const updatePOStatus = async (newStatus) => {\n    try {\n      setUpdating(true);\n      await updatePO(id, { ...po, status: newStatus });\n      \n      setPO(prev => ({ ...prev, status: newStatus }));\n      showSuccess(`Purchase order ${newStatus} successfully`);\n    } catch (error) {\n      console.error('Error updating PO status:', error);\n      showError('Failed to update purchase order status');\n    } finally {\n      setUpdating(false);\n    }\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'approved':\n        return 'bg-green-100 text-green-800';\n      case 'pending':\n        return 'bg-yellow-100 text-yellow-800';\n      case 'rejected':\n        return 'bg-red-100 text-red-800';\n      case 'completed':\n        return 'bg-blue-100 text-blue-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const getStatusIcon = (status) => {\n    switch (status) {\n      case 'approved':\n        return <FiCheckCircle className=\"text-green-500\" />;\n      case 'pending':\n        return <FiClock className=\"text-yellow-500\" />;\n      case 'rejected':\n        return <FiXCircle className=\"text-red-500\" />;\n      case 'completed':\n        return <FiCheckCircle className=\"text-blue-500\" />;\n      default:\n        return <FiAlertCircle className=\"text-gray-500\" />;\n    }\n  };\n\n  const handlePrint = () => {\n    window.print();\n  };\n\n  const handleDownloadPDF = () => {\n    // This would integrate with a PDF generation library\n    showSuccess('PDF download started');\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500\"></div>\n      </div>\n    );\n  }\n\n  if (!po) {\n    return (\n      <div className=\"text-center py-8\">\n        <p className=\"text-gray-500\">Purchase order not found</p>\n        <Link\n          to=\"/admin/purchase-orders\"\n          className=\"mt-4 inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700\"\n        >\n          <FiArrowLeft className=\"mr-2\" size={16} />\n          Back to Purchase Orders\n        </Link>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-6xl mx-auto space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center space-x-4\">\n          <button\n            onClick={() => navigate('/admin/purchase-orders')}\n            className=\"flex items-center text-gray-600 hover:text-gray-900\"\n          >\n            <FiArrowLeft className=\"mr-2\" size={20} />\n            Back to POs\n          </button>\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900\">Purchase Order #{po.poNumber}</h1>\n            <p className=\"text-gray-600\">Detailed view and status management</p>\n          </div>\n        </div>\n        \n        <div className=\"flex space-x-3\">\n          <button\n            onClick={handlePrint}\n            className=\"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors\"\n          >\n            <FiPrinter className=\"mr-2\" size={16} />\n            Print\n          </button>\n          <button\n            onClick={handleDownloadPDF}\n            className=\"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n          >\n            <FiDownload className=\"mr-2\" size={16} />\n            Download PDF\n          </button>\n          <Link\n            to={`/admin/edit-po/${po.id}`}\n            className=\"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors\"\n          >\n            <FiEdit2 className=\"mr-2\" size={16} />\n            Edit PO\n          </Link>\n        </div>\n      </div>\n\n      {/* Status Management */}\n      <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"flex items-center\">\n              {getStatusIcon(po.status)}\n              <span className={`ml-2 inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${getStatusColor(po.status)}`}>\n                {po.status?.charAt(0).toUpperCase() + po.status?.slice(1)}\n              </span>\n            </div>\n            <div className=\"text-sm text-gray-500\">\n              Last updated: {po.updatedAt?.toDate?.()?.toLocaleString() || 'N/A'}\n            </div>\n          </div>\n          \n          {po.status === 'pending' && (\n            <div className=\"flex space-x-2\">\n              <button\n                onClick={() => updatePOStatus('approved')}\n                disabled={updating}\n                className=\"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50\"\n              >\n                <FiCheckCircle className=\"mr-2\" size={16} />\n                Approve\n              </button>\n              <button\n                onClick={() => updatePOStatus('rejected')}\n                disabled={updating}\n                className=\"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50\"\n              >\n                <FiXCircle className=\"mr-2\" size={16} />\n                Reject\n              </button>\n            </div>\n          )}\n          \n          {po.status === 'approved' && (\n            <button\n              onClick={() => updatePOStatus('completed')}\n              disabled={updating}\n              className=\"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50\"\n            >\n              <FiCheckCircle className=\"mr-2\" size={16} />\n              Mark Completed\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* PO Information */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Basic Information */}\n        <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n          <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Purchase Order Details</h2>\n          \n          <div className=\"space-y-4\">\n            <div className=\"flex items-center\">\n              <FiFileText className=\"text-gray-400 mr-3\" size={20} />\n              <div>\n                <p className=\"text-sm font-medium text-gray-500\">PO Number</p>\n                <p className=\"text-gray-900 font-mono\">{po.poNumber}</p>\n              </div>\n            </div>\n\n            <div className=\"flex items-center\">\n              <FiCalendar className=\"text-gray-400 mr-3\" size={20} />\n              <div>\n                <p className=\"text-sm font-medium text-gray-500\">Created Date</p>\n                <p className=\"text-gray-900\">{po.createdAt?.toDate?.()?.toLocaleDateString() || 'N/A'}</p>\n              </div>\n            </div>\n\n            <div className=\"flex items-center\">\n              <FiCalendar className=\"text-gray-400 mr-3\" size={20} />\n              <div>\n                <p className=\"text-sm font-medium text-gray-500\">Delivery Date</p>\n                <p className=\"text-gray-900\">\n                  {po.deliveryDate?.toDate?.()?.toLocaleDateString() || 'Not specified'}\n                </p>\n              </div>\n            </div>\n\n            <div className=\"flex items-center\">\n              <FiFileText className=\"text-gray-400 mr-3\" size={20} />\n              <div>\n                <p className=\"text-sm font-medium text-gray-500\">Operation(s)</p>\n                <div className=\"flex flex-wrap gap-2\">\n                  {(Array.isArray(po.operations) ? po.operations : (po.operation ? [po.operation] : [])).map((op, idx) => (\n                    <span key={idx} className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800\">\n                      {op}\n                    </span>\n                  ))}\n                  {(!po.operations && !po.operation) && (\n                    <span className=\"text-xs text-gray-500\">-</span>\n                  )}\n                </div>\n              </div>\n            </div>\n\n            <div className=\"flex items-center\">\n              <FiDollarSign className=\"text-gray-400 mr-3\" size={20} />\n              <div>\n                <p className=\"text-sm font-medium text-gray-500\">Total Amount</p>\n                <p className=\"text-2xl font-bold text-gray-900\">₹{parseFloat(po.totalAmount || 0).toLocaleString()}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Vendor Information */}\n        <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n          <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Vendor Information</h2>\n          \n          {vendor ? (\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center\">\n                <FiUser className=\"text-gray-400 mr-3\" size={20} />\n                <div>\n                  <p className=\"text-sm font-medium text-gray-500\">Vendor Name</p>\n                  <Link\n                    to={`/admin/vendor-preview/${vendor.id}`}\n                    className=\"text-indigo-600 hover:text-indigo-800 font-medium\"\n                  >\n                    {vendor.name}\n                  </Link>\n                </div>\n              </div>\n\n              <div className=\"flex items-center\">\n                <FiMail className=\"text-gray-400 mr-3\" size={20} />\n                <div>\n                  <p className=\"text-sm font-medium text-gray-500\">Email</p>\n                  <a href={`mailto:${vendor.email}`} className=\"text-indigo-600 hover:text-indigo-800\">\n                    {vendor.email}\n                  </a>\n                </div>\n              </div>\n\n              <div className=\"flex items-center\">\n                <FiPhone className=\"text-gray-400 mr-3\" size={20} />\n                <div>\n                  <p className=\"text-sm font-medium text-gray-500\">Phone</p>\n                  <a href={`tel:${vendor.phone}`} className=\"text-indigo-600 hover:text-indigo-800\">\n                    {vendor.phone}\n                  </a>\n                </div>\n              </div>\n\n              <div className=\"flex items-start\">\n                <FiUser className=\"text-gray-400 mr-3 mt-1\" size={20} />\n                <div>\n                  <p className=\"text-sm font-medium text-gray-500\">Address</p>\n                  <p className=\"text-gray-900\">{vendor.address || 'N/A'}</p>\n                </div>\n              </div>\n            </div>\n          ) : (\n            <p className=\"text-gray-500\">Vendor information not available</p>\n          )}\n        </div>\n      </div>\n\n      {/* Items/Services */}\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n        <div className=\"p-6 border-b border-gray-200\">\n          <h2 className=\"text-lg font-semibold text-gray-900\">Items & Services</h2>\n        </div>\n        \n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Description</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Operation</th>\n                <th className=\"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase\">Quantity</th>\n                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">Unit Price</th>\n                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">Amount</th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {po.items?.map((item, index) => (\n                <tr key={index}>\n                  <td className=\"px-6 py-4 text-sm text-gray-900\">{item.description}</td>\n                  <td className=\"px-6 py-4 text-sm text-gray-900\">{item.operation || '-'}</td>\n                  <td className=\"px-6 py-4 text-sm text-gray-900 text-center\">{item.quantity}</td>\n                  <td className=\"px-6 py-4 text-sm text-gray-900 text-right\">₹{parseFloat(item.unitPrice || 0).toLocaleString()}</td>\n                  <td className=\"px-6 py-4 text-sm text-gray-900 text-right font-medium\">₹{parseFloat(item.amount || 0).toLocaleString()}</td>\n                </tr>\n              ))}\n              <tr className=\"bg-gray-50 font-semibold\">\n                <td colSpan=\"3\" className=\"px-6 py-4 text-sm text-gray-900 text-right\">Total Amount:</td>\n                <td className=\"px-6 py-4 text-sm text-gray-900 text-right\">₹{parseFloat(po.totalAmount || 0).toLocaleString()}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Additional Information */}\n      {(po.description || po.specifications || po.terms) && (\n        <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n          <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Additional Information</h2>\n          \n          <div className=\"space-y-6\">\n            {po.description && (\n              <div>\n                <h3 className=\"text-sm font-medium text-gray-500 mb-2\">Description</h3>\n                <p className=\"text-gray-900\">{po.description}</p>\n              </div>\n            )}\n            \n            {po.specifications && (\n              <div>\n                <h3 className=\"text-sm font-medium text-gray-500 mb-2\">Technical Specifications</h3>\n                <p className=\"text-gray-900 whitespace-pre-line\">{po.specifications}</p>\n              </div>\n            )}\n            \n            {po.terms && (\n              <div>\n                <h3 className=\"text-sm font-medium text-gray-500 mb-2\">Terms & Conditions</h3>\n                <p className=\"text-gray-900 whitespace-pre-line\">{po.terms}</p>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Status History */}\n      <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Status History</h2>\n        \n        <div className=\"space-y-4\">\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"flex-shrink-0\">\n              <div className=\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\n                <FiFileText className=\"w-4 h-4 text-blue-600\" />\n              </div>\n            </div>\n            <div className=\"flex-1\">\n              <p className=\"text-sm font-medium text-gray-900\">Purchase Order Created</p>\n              <p className=\"text-sm text-gray-500\">{po.createdAt?.toDate?.()?.toLocaleString() || 'N/A'}</p>\n            </div>\n          </div>\n          \n          {po.status !== 'pending' && (\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"flex-shrink-0\">\n                <div className={`w-8 h-8 rounded-full flex items-center justify-center ${\n                  po.status === 'approved' ? 'bg-green-100' : 'bg-red-100'\n                }`}>\n                  {po.status === 'approved' ? \n                    <FiCheckCircle className=\"w-4 h-4 text-green-600\" /> :\n                    <FiXCircle className=\"w-4 h-4 text-red-600\" />\n                  }\n                </div>\n              </div>\n              <div className=\"flex-1\">\n                <p className=\"text-sm font-medium text-gray-900\">\n                  Purchase Order {po.status === 'approved' ? 'Approved' : 'Rejected'}\n                </p>\n                <p className=\"text-sm text-gray-500\">{po.updatedAt?.toDate?.()?.toLocaleString() || 'N/A'}</p>\n              </div>\n            </div>\n          )}\n          \n          {po.status === 'completed' && (\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"flex-shrink-0\">\n                <div className=\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\n                  <FiCheckCircle className=\"w-4 h-4 text-blue-600\" />\n                </div>\n              </div>\n              <div className=\"flex-1\">\n                <p className=\"text-sm font-medium text-gray-900\">Work Completed</p>\n                <p className=\"text-sm text-gray-500\">{po.updatedAt?.toDate?.()?.toLocaleString() || 'N/A'}</p>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { collection, addDoc, getDocs, getDoc, updateDoc, deleteDoc, doc, serverTimestamp, query, orderBy, where, writeBatch } from 'firebase/firestore';\nimport { db } from '../firebase';\n\nconst PO_COLLECTION = 'purchaseOrders';\nconst ACTIVITY_COLLECTION = 'poActivity';\n\nexport function normalizePOForSave(raw) {\n    const items = Array.isArray(raw.items) ? raw.items : [];\n    // Normalize operations: accept either `operations` array or single `operation` string\n    const normalizedOperations = Array.isArray(raw.operations)\n        ? raw.operations.filter(Boolean)\n        : (raw.operation ? [String(raw.operation)] : []);\n\n    const safeItems = items.map((it) => {\n        const quantity = Number(it.quantity) || 0;\n        const unitPrice = Number(it.unitPrice ?? it.rate) || 0;\n        return {\n            description: String(it.description || '').trim(),\n            quantity,\n            unitPrice,\n            amount: Number(it.amount ?? (quantity * unitPrice)).toFixed ? Number((quantity * unitPrice).toFixed(2)) : (quantity * unitPrice),\n            unit: String(it.unit || 'pcs'),\n            specifications: String(it.specifications || ''),\n            deliveryDate: it.deliveryDate || '',\n            itemId: it.itemId || null,\n            // Per-item operation (optional)\n            operation: it.operation || null,\n        };\n    });\n\n    const subtotal = safeItems.reduce((sum, it) => sum + (Number(it.amount) || 0), 0);\n    const discountAmount = Number(raw.discountAmount || 0);\n    const afterDiscount = subtotal - discountAmount;\n    const taxRate = Number(raw.taxRate || 0);\n    const taxAmount = (afterDiscount * taxRate) / 100;\n    let finalAmount = afterDiscount + taxAmount;\n\n    // Handle optional round-off like Delivery Challan form\n    const roundOffEnabled = Boolean(raw.roundOffEnabled);\n    let roundOffValue = Number(raw.roundOffValue || 0);\n    if (roundOffEnabled) {\n        const rounded = Math.round(finalAmount);\n        roundOffValue = Number((rounded - finalAmount).toFixed(2));\n        finalAmount = rounded;\n    }\n\n    // Initialize per-operation status maps\n    const operationsStatus = normalizedOperations.reduce((acc, op) => {\n        acc[String(op)] = (raw.operationsStatus && raw.operationsStatus[op]) || 'pending';\n        return acc;\n    }, {});\n    const operationsMeta = normalizedOperations.reduce((acc, op) => {\n        const meta = (raw.operationsMeta && raw.operationsMeta[op]) || {};\n        acc[String(op)] = {\n            status: operationsStatus[String(op)] || 'pending',\n            notes: meta.notes || '',\n            updatedAt: meta.updatedAt || null,\n            updatedBy: meta.updatedBy || null,\n            startedAt: meta.startedAt || null,\n            completedAt: meta.completedAt || null,\n        };\n        return acc;\n    }, {});\n\n    return {\n        vendorId: String(raw.vendorId || '').trim(),\n        // Keep legacy single operation for backward compatibility (first operation if any)\n        operation: normalizedOperations[0] ? String(normalizedOperations[0]).trim() : '',\n        // New multi-operations field\n        operations: normalizedOperations,\n        // New per-operation status fields\n        operationsStatus,\n        operationsMeta,\n        description: String(raw.description || ''),\n        deliveryDate: raw.deliveryDate ? (raw.deliveryDate instanceof Date ? raw.deliveryDate : new Date(raw.deliveryDate)) : null,\n        priority: raw.priority || 'medium',\n        status: raw.status || 'pending',\n        paymentTerms: String(raw.paymentTerms ?? '30'),\n        shippingAddress: String(raw.shippingAddress || ''),\n        billingAddress: String(raw.billingAddress || ''),\n        currency: raw.currency || 'INR',\n        invoiceDate: raw.invoiceDate || null,\n        dueDate: raw.dueDate || null,\n        stateOfSupply: String(raw.stateOfSupply || ''),\n        taxRate,\n        discountAmount,\n        items: safeItems,\n        totalAmount: Number(subtotal.toFixed(2)),\n        taxAmount: Number(taxAmount.toFixed(2)),\n        finalAmount: Number(finalAmount.toFixed(2)),\n        roundOffEnabled,\n        roundOffValue,\n        specifications: String(raw.specifications || ''),\n        qualityRequirements: String(raw.qualityRequirements || ''),\n        expectedDeliveryDays: Number(raw.expectedDeliveryDays || 0) || 0,\n        warrantPeriod: String(raw.warrantPeriod || ''),\n        terms: String(raw.terms || ''),\n        poNumber: raw.poNumber || null,\n    };\n}\n\nexport function mapPOFromDoc(docSnap) {\n    const d = docSnap.data() || {};\n    return { id: docSnap.id, ...d };\n}\n\nasync function logActivity(poId, action, details) {\n\ttry {\n\t\tawait addDoc(collection(db, ACTIVITY_COLLECTION), { poId, action, details: details || {}, timestamp: serverTimestamp() });\n\t} catch (_) {}\n}\n\nexport async function getPOsOrdered() {\n\tconst q = query(collection(db, PO_COLLECTION), orderBy('createdAt', 'desc'));\n\tconst snap = await getDocs(q);\n\treturn snap.docs.map(mapPOFromDoc);\n}\n\nexport async function getPOById(id) {\n\tconst snap = await getDoc(doc(db, PO_COLLECTION, id));\n\tif (!snap.exists()) return null;\n\treturn mapPOFromDoc(snap);\n}\n\nexport async function createPO(raw) {\n\tconst data = normalizePOForSave(raw);\n\tconst now = serverTimestamp();\n\tconst ref = await addDoc(collection(db, PO_COLLECTION), { ...data, createdAt: now, updatedAt: now });\n\tawait logActivity(ref.id, 'create', { vendorId: data.vendorId, amount: data.finalAmount });\n\treturn { id: ref.id, ...data };\n}\n\nexport async function updatePO(id, raw) {\n\tconst data = normalizePOForSave(raw);\n\tawait updateDoc(doc(db, PO_COLLECTION, id), { ...data, updatedAt: serverTimestamp() });\n\tawait logActivity(id, 'update', { status: data.status });\n}\n\nexport async function deletePO(id) {\n\tawait deleteDoc(doc(db, PO_COLLECTION, id));\n\tawait logActivity(id, 'delete');\n}\n\nexport async function bulkUpdatePOs(ids, fields) {\n\tconst batch = writeBatch(db);\n\tids.forEach((id) => batch.update(doc(db, PO_COLLECTION, id), { ...fields, updatedAt: serverTimestamp() }));\n\tawait batch.commit();\n\tfor (const id of ids) logActivity(id, 'bulk_update', { fields });\n}\n\nexport async function bulkDeletePOs(ids) {\n\tconst batch = writeBatch(db);\n\tids.forEach((id) => batch.delete(doc(db, PO_COLLECTION, id)));\n\tawait batch.commit();\n\tfor (const id of ids) logActivity(id, 'bulk_delete');\n}\n"],"names":["PODetails","_po$status","_po$status2","_po$updatedAt","_po$updatedAt$toDate","_po$updatedAt$toDate$","_po$createdAt","_po$createdAt$toDate","_po$createdAt$toDate$","_po$deliveryDate","_po$deliveryDate$toDa","_po$deliveryDate$toDa2","_po$items","_po$createdAt2","_po$createdAt2$toDate","_po$createdAt2$toDate2","_po$updatedAt2","_po$updatedAt2$toDate","_po$updatedAt2$toDate2","_po$updatedAt3","_po$updatedAt3$toDate","_po$updatedAt3$toDate2","id","useParams","navigate","useNavigate","showSuccess","showError","useNotification","po","setPO","useState","vendor","setVendor","loading","setLoading","updating","setUpdating","useEffect","fetchPODetails","async","poData","getPOById","vendorId","vendorDoc","getDoc","doc","db","exists","data","error","console","updatePOStatus","updatePO","status","newStatus","prev","_jsx","className","children","_jsxs","onClick","FiArrowLeft","size","poNumber","handlePrint","window","print","FiPrinter","handleDownloadPDF","FiDownload","Link","to","FiEdit2","FiCheckCircle","FiClock","FiXCircle","FiAlertCircle","getStatusIcon","getStatusColor","charAt","toUpperCase","slice","updatedAt","toDate","call","toLocaleString","disabled","FiFileText","FiCalendar","createdAt","toLocaleDateString","deliveryDate","Array","isArray","operations","operation","map","op","idx","FiDollarSign","parseFloat","totalAmount","FiUser","name","FiMail","href","email","FiPhone","phone","address","items","item","index","description","quantity","unitPrice","amount","colSpan","specifications","terms","PO_COLLECTION","ACTIVITY_COLLECTION","normalizePOForSave","raw","_raw$paymentTerms","normalizedOperations","filter","Boolean","String","safeItems","it","_it$unitPrice","_it$amount","Number","rate","trim","toFixed","unit","itemId","subtotal","reduce","sum","discountAmount","afterDiscount","taxRate","taxAmount","finalAmount","roundOffEnabled","roundOffValue","rounded","Math","round","operationsStatus","acc","operationsMeta","meta","notes","updatedBy","startedAt","completedAt","Date","priority","paymentTerms","shippingAddress","billingAddress","currency","invoiceDate","dueDate","stateOfSupply","qualityRequirements","expectedDeliveryDays","warrantPeriod","mapPOFromDoc","docSnap","d","logActivity","poId","action","details","addDoc","collection","timestamp","serverTimestamp","_","snap","createPO","now","ref","updateDoc","deletePO","deleteDoc","bulkUpdatePOs","ids","fields","batch","writeBatch","forEach","update","commit","bulkDeletePOs","delete"],"sourceRoot":""}