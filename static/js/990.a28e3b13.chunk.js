"use strict";(self.webpackChunkvendor_management_system=self.webpackChunkvendor_management_system||[]).push([[990],{9990:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var a=s(5043),n=s(5472),r=s(791),l=s(3505),i=s(5772),o=s(579);function d(){const{showSuccess:e,showError:t}=(0,l.hN)(),[s,d]=(0,a.useState)(!1),[c,x]=(0,a.useState)(null),[m,p]=(0,a.useState)({startDate:new Date((new Date).getFullYear(),(new Date).getMonth(),1).toISOString().split("T")[0],endDate:(new Date).toISOString().split("T")[0]}),[h,g]=(0,a.useState)("summary"),[b,u]=(0,a.useState)(!1),[j,v]=(0,a.useState)({refNumber:"M - 804 / 2025-26",date:(new Date).toLocaleDateString("en-GB"),vendorName:"Thorat Flow Controls Pvt Ltd.",vendorAddress:"Kirtakarwadi",subject:"Purchase Order for Valves.",attention:"Mr. Thorat Saheb.",items:[{no:1,description:"Project - Jaysruit Sugar\nCI Rubberlined Butterfly Valve as per D Table",valveSize:"150 mm",quantity:2,rateEach:"As Finalized"},{no:2,description:"Project - Harsha Sugar\nSS Knife Edge Gate Valve as per D Table",valveSize:"150 mm",quantity:1,rateEach:"As Finalized"}]}),y=(e,t,s,a)=>{const n={total:e.length,active:e.filter(e=>"active"===e.status).length,inactive:e.filter(e=>"inactive"===e.status).length,byCategory:{}};e.forEach(e=>{const t=e.category||"Unknown";n.byCategory[t]=(n.byCategory[t]||0)+1});const r={total:t.length,totalValue:t.reduce((e,t)=>e+(parseFloat(t.totalAmount)||0),0),byStatus:{},byOperation:{},byMonth:{}};t.forEach(e=>{var t;if(r.byStatus[e.status]=(r.byStatus[e.status]||0)+1,r.byOperation[e.operation]=(r.byOperation[e.operation]||0)+1,null!==(t=e.createdAt)&&void 0!==t&&t.toDate){const t=e.createdAt.toDate().toLocaleDateString("en-US",{year:"numeric",month:"short"});r.byMonth[t]=(r.byMonth[t]||0)+(parseFloat(e.totalAmount)||0)}});const l={total:s.length,totalBudget:s.reduce((e,t)=>e+(parseFloat(t.budget)||0),0),byStatus:{},byPriority:{},completed:s.filter(e=>"completed"===e.status).length};s.forEach(e=>{l.byStatus[e.status]=(l.byStatus[e.status]||0)+1,l.byPriority[e.priority]=(l.byPriority[e.priority]||0)+1});const i={total:a.length,completed:a.filter(e=>e.completed).length,pending:a.filter(e=>!e.completed).length,byCategory:{},byPriority:{}};a.forEach(e=>{i.byCategory[e.category]=(i.byCategory[e.category]||0)+1,i.byPriority[e.priority]=(i.byPriority[e.priority]||0)+1});const o={poApprovalRate:t.length>0?(t.filter(e=>"approved"===e.status).length/t.length*100).toFixed(1):0,jobCompletionRate:s.length>0?(s.filter(e=>"completed"===e.status).length/s.length*100).toFixed(1):0,todoCompletionRate:a.length>0?(a.filter(e=>e.completed).length/a.length*100).toFixed(1):0,avgPOValue:t.length>0?(r.totalValue/t.length).toFixed(2):0};return{dateRange:m,vendorStats:n,poStats:r,jobStats:l,todoStats:i,performance:o,generatedAt:new Date}},f=()=>{window.print(),e("PO sent to printer")},N=()=>{const t=w(j),s=new Blob([t],{type:"text/plain"}),a=URL.createObjectURL(s),n=document.createElement("a");n.href=a,n.download=`PO_${j.refNumber.replace(/\s+/g,"_")}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a),e("PO downloaded successfully")},w=e=>`\nTHORAT VALVES PVT. LTD.\n607, Shaniwar Peth, Satara - 415002\nPhone: 02162-234567, Mobile: 9876543210\nEmail: thoratvalves@yahoo.com\nGST No.: 27AABCT7773A1ZF\n\nPO Thermal.jpg\n\nRef.: ${e.refNumber}                                    Date: ${e.date}\n\nTo:\n${e.vendorName}\n${e.vendorAddress}\n\nSub.: ${e.subject}\nAttn.: ${e.attention}\n\nSir,\nWe have pleasure to forward you our firm order for Valves.\n\n${e.items.map((e,t)=>`\n${e.no}. ${e.description}    ${e.valveSize}    ${e.quantity}    ${e.rateEach}\n`).join("")}\n\nInvoice, Delivery challan & Material test certificate required along with supplies.\n\nTerms & Conditions:\n1) Prices        : Ex Works K. vadi\n2) Taxes         : Extra as applicable\n3) Payment       : After receipt & approval of material.\n4) Delivery      : Urgent\n5) P & F         : Nil\n6) Invoice to    : THORAT VALVES PVT. LTD., 607, Shaniwar Peth, Satara - 415002.\n7) Dispatch to   : THORAT VALVES PVT. LTD., Plot No.2-2/14, Additional MIDC, Satara - 415004.\n\nThanking you,\n\nYours Faithfully,\nFor THORAT VALVES PVT. LTD.\n\nPrepared By\n(D.R. Naik)\n    `.trim(),S=e=>`\nVENDOR MANAGEMENT SYSTEM REPORT\nGenerated on: ${e.generatedAt.toLocaleString()}\nReport Period: ${e.dateRange.startDate} to ${e.dateRange.endDate}\n\n=====================================\nEXECUTIVE SUMMARY\n=====================================\nTotal Vendors: ${e.vendorStats.total}\nTotal Purchase Orders: ${e.poStats.total}\nTotal Job Assignments: ${e.jobStats.total}\nTotal Todos: ${e.todoStats.total}\n\nTotal PO Value: \u20b9${e.poStats.totalValue.toLocaleString()}\nAverage PO Value: \u20b9${e.performance.avgPOValue}\n\n=====================================\nVENDOR STATISTICS\n=====================================\nActive Vendors: ${e.vendorStats.active}\nInactive Vendors: ${e.vendorStats.inactive}\n\nVendors by Category:\n${Object.entries(e.vendorStats.byCategory).map(e=>{let[t,s]=e;return`  ${t}: ${s}`}).join("\n")}\n\n=====================================\nPURCHASE ORDER STATISTICS\n=====================================\nTotal POs: ${e.poStats.total}\nTotal Value: \u20b9${e.poStats.totalValue.toLocaleString()}\n\nPOs by Status:\n${Object.entries(e.poStats.byStatus).map(e=>{let[t,s]=e;return`  ${t}: ${s}`}).join("\n")}\n\nPOs by Operation:\n${Object.entries(e.poStats.byOperation).map(e=>{let[t,s]=e;return`  ${t}: ${s}`}).join("\n")}\n\nMonthly PO Values:\n${Object.entries(e.poStats.byMonth).map(e=>{let[t,s]=e;return`  ${t}: \u20b9${s.toLocaleString()}`}).join("\n")}\n\n=====================================\nJOB ASSIGNMENT STATISTICS\n=====================================\nTotal Jobs: ${e.jobStats.total}\nCompleted Jobs: ${e.jobStats.completed}\nTotal Budget: \u20b9${e.jobStats.totalBudget.toLocaleString()}\n\nJobs by Status:\n${Object.entries(e.jobStats.byStatus).map(e=>{let[t,s]=e;return`  ${t}: ${s}`}).join("\n")}\n\nJobs by Priority:\n${Object.entries(e.jobStats.byPriority).map(e=>{let[t,s]=e;return`  ${t}: ${s}`}).join("\n")}\n\n=====================================\nTODO STATISTICS\n=====================================\nTotal Todos: ${e.todoStats.total}\nCompleted: ${e.todoStats.completed}\nPending: ${e.todoStats.pending}\n\nTodos by Category:\n${Object.entries(e.todoStats.byCategory).map(e=>{let[t,s]=e;return`  ${t}: ${s}`}).join("\n")}\n\nTodos by Priority:\n${Object.entries(e.todoStats.byPriority).map(e=>{let[t,s]=e;return`  ${t}: ${s}`}).join("\n")}\n\n=====================================\nPERFORMANCE METRICS\n=====================================\nPO Approval Rate: ${e.performance.poApprovalRate}%\nJob Completion Rate: ${e.performance.jobCompletionRate}%\nTodo Completion Rate: ${e.performance.todoCompletionRate}%\nAverage PO Value: \u20b9${e.performance.avgPOValue}\n\n=====================================\nEND OF REPORT\n=====================================\n    `.trim();return b?(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center no-print",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Purchase Order"}),(0,o.jsx)("p",{className:"text-gray-600",children:"Thorat Valves Format"})]}),(0,o.jsxs)("div",{className:"flex space-x-3",children:[(0,o.jsx)("button",{onClick:()=>u(!1),className:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Back to Reports"}),(0,o.jsxs)("button",{onClick:f,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,o.jsx)(i.Mvz,{className:"mr-2",size:16}),"Print PO"]}),(0,o.jsxs)("button",{onClick:N,className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[(0,o.jsx)(i.a4x,{className:"mr-2",size:16}),"Download PO"]})]})]}),(0,o.jsxs)("div",{className:"print-container bg-white p-8 rounded-lg shadow-sm border border-gray-200 print:shadow-none print:border-none print:p-4 max-w-4xl mx-auto",children:[(0,o.jsx)("style",{jsx:!0,children:'\n            @media print {\n              /* Hide all non-PO elements */\n              .no-print { display: none !important; }\n              \n              /* Hide sidebar and header elements */\n              .sidebar, \n              .admin-sidebar,\n              .admin-header,\n              .main-header,\n              nav,\n              .navigation,\n              .menu,\n              .topbar,\n              .navbar,\n              header,\n              aside,\n              .sidebar-container,\n              .header-container,\n              .layout-sidebar,\n              .layout-header,\n              [class*="sidebar"],\n              [class*="header"],\n              [class*="nav"] { \n                display: none !important; \n              }\n              \n              /* Reset page margins and padding */\n              @page { \n                margin: 0.5in; \n                size: A4;\n              }\n              \n              /* Reset body styles for print */\n              body { \n                font-size: 12px; \n                margin: 0 !important;\n                padding: 0 !important;\n                background: white !important;\n              }\n              \n              /* Ensure only PO content is visible */\n              * { \n                visibility: hidden; \n              }\n              \n              /* Make PO container and its children visible */\n              .print-container,\n              .print-container * { \n                visibility: visible; \n              }\n              \n              /* Position PO container at top-left */\n              .print-container { \n                position: absolute; \n                left: 0; \n                top: 0; \n                width: 100% !important;\n                max-width: none !important;\n                margin: 0 !important;\n                padding: 1rem !important;\n                box-shadow: none !important;\n                border: none !important;\n                background: white !important;\n              }\n              \n              table { font-size: 11px; }\n            }\n          '}),(0,o.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,o.jsx)("div",{className:"w-1/3",children:(0,o.jsx)("div",{className:"text-5xl font-bold text-black tracking-widest",style:{fontFamily:"Arial, sans-serif"},children:"THORAT"})}),(0,o.jsxs)("div",{className:"w-2/3 text-right",children:[(0,o.jsx)("div",{className:"text-base font-bold text-black mb-1",children:"THORAT VALVES PVT. LTD."}),(0,o.jsxs)("div",{className:"text-xs text-black leading-tight",children:[(0,o.jsx)("div",{children:"607, Shaniwar Peth, Satara - 415002"}),(0,o.jsx)("div",{children:"Phone: 02162-234567, Mobile: 9876543210"}),(0,o.jsx)("div",{children:"Email: thoratvalves@yahoo.com"}),(0,o.jsx)("div",{children:"GST No.: 27AABCT7773A1ZF"})]})]})]}),(0,o.jsx)("div",{className:"text-center mb-3",children:(0,o.jsx)("div",{className:"text-xs text-gray-600",children:"PO Thermal.jpg"})}),(0,o.jsx)("div",{className:"border-t border-dotted border-gray-400 mb-3"}),(0,o.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,o.jsxs)("div",{className:"text-xs",children:[(0,o.jsx)("span",{children:"Ref.: "}),(0,o.jsx)("input",{type:"text",value:j.refNumber,onChange:e=>v(t=>({...t,refNumber:e.target.value})),className:"border-none outline-none bg-transparent"})]}),(0,o.jsxs)("div",{className:"text-xs",children:[(0,o.jsx)("span",{children:"Date: "}),(0,o.jsx)("input",{type:"text",value:j.date,onChange:e=>v(t=>({...t,date:e.target.value})),className:"border-none outline-none bg-transparent"})]})]}),(0,o.jsxs)("div",{className:"mb-3",children:[(0,o.jsx)("div",{className:"text-xs mb-1",children:"To:"}),(0,o.jsxs)("div",{className:"ml-3 text-xs",children:[(0,o.jsx)("input",{type:"text",value:j.vendorName,onChange:e=>v(t=>({...t,vendorName:e.target.value})),className:"w-full border-none outline-none bg-transparent",placeholder:"Vendor Name"}),(0,o.jsx)("input",{type:"text",value:j.vendorAddress,onChange:e=>v(t=>({...t,vendorAddress:e.target.value})),className:"w-full border-none outline-none bg-transparent",placeholder:"Vendor Address"})]})]}),(0,o.jsxs)("div",{className:"mb-3 space-y-0 text-xs",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{children:"Sub.: "}),(0,o.jsx)("input",{type:"text",value:j.subject,onChange:e=>v(t=>({...t,subject:e.target.value})),className:"border-none outline-none bg-transparent"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{children:"Attn.: "}),(0,o.jsx)("input",{type:"text",value:j.attention,onChange:e=>v(t=>({...t,attention:e.target.value})),className:"border-none outline-none bg-transparent"})]})]}),(0,o.jsxs)("div",{className:"mb-3 text-xs",children:[(0,o.jsx)("p",{children:"Sir,"}),(0,o.jsx)("p",{children:"We have pleasure to forward you our firm order for Valves."})]}),(0,o.jsxs)("div",{className:"mb-8",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-4 no-print",children:[(0,o.jsx)("h3",{className:"font-medium",children:"Items"}),(0,o.jsx)("button",{onClick:()=>{const e={no:j.items.length+1,description:"",valveSize:"",quantity:1,rateEach:"As Finalized"};v(t=>({...t,items:[...t.items,e]}))},className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Add Item"})]}),(0,o.jsxs)("table",{className:"w-full border-collapse border border-black text-xs",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{className:"border border-black px-1 py-1 text-center font-normal bg-white",style:{width:"8%"},children:"Sr.No"}),(0,o.jsx)("th",{className:"border border-black px-1 py-1 text-center font-normal bg-white",style:{width:"45%"},children:"Description"}),(0,o.jsx)("th",{className:"border border-black px-1 py-1 text-center font-normal bg-white",style:{width:"15%"},children:"Valve Size"}),(0,o.jsxs)("th",{className:"border border-black px-1 py-1 text-center font-normal bg-white",style:{width:"12%"},children:["Quantity",(0,o.jsx)("br",{}),"(Nos.)"]}),(0,o.jsx)("th",{className:"border border-black px-1 py-1 text-center font-normal bg-white",style:{width:"15%"},children:"Price"}),(0,o.jsx)("th",{className:"border border-black px-1 py-1 text-center font-normal bg-white no-print",style:{width:"5%"},children:"Actions"})]})}),(0,o.jsx)("tbody",{children:j.items.map((e,t)=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{className:"border border-black px-1 py-1 text-center align-top",children:e.no}),(0,o.jsx)("td",{className:"border border-black px-1 py-1 align-top",children:(0,o.jsx)("textarea",{value:e.description,onChange:e=>{const s=[...j.items];s[t].description=e.target.value,v(e=>({...e,items:s}))},className:"w-full bg-transparent outline-none resize-none text-xs leading-tight",rows:"2",style:{minHeight:"32px"}})}),(0,o.jsx)("td",{className:"border border-black px-1 py-1 text-center align-top",children:(0,o.jsx)("input",{type:"text",value:e.valveSize,onChange:e=>{const s=[...j.items];s[t].valveSize=e.target.value,v(e=>({...e,items:s}))},className:"w-full bg-transparent outline-none text-center text-xs",placeholder:"mm"})}),(0,o.jsx)("td",{className:"border border-black px-1 py-1 text-center align-top",children:(0,o.jsx)("input",{type:"number",value:e.quantity,onChange:e=>{const s=[...j.items];s[t].quantity=parseInt(e.target.value)||0,v(e=>({...e,items:s}))},className:"w-full bg-transparent outline-none text-center text-xs"})}),(0,o.jsx)("td",{className:"border border-black px-1 py-1 text-center align-top",children:(0,o.jsx)("input",{type:"text",value:e.rateEach,onChange:e=>{const s=[...j.items];s[t].rateEach=e.target.value,v(e=>({...e,items:s}))},className:"w-full bg-transparent outline-none text-center text-xs",placeholder:"Price"})}),(0,o.jsx)("td",{className:"border border-black px-1 py-1 no-print text-center",children:j.items.length>1&&(0,o.jsx)("button",{onClick:()=>{const e=j.items.filter((e,s)=>s!==t).map((e,t)=>({...e,no:t+1}));v(t=>({...t,items:e}))},className:"px-1 py-0 bg-red-600 text-white text-xs rounded hover:bg-red-700",children:"\xd7"})})]},t))})]})]}),(0,o.jsx)("div",{className:"mb-2 text-xs",children:(0,o.jsx)("p",{children:"Invoice, Delivery challan & Material test certificate required along with supplies."})}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("div",{className:"mb-1 text-xs font-medium",children:"Terms & Conditions:"}),(0,o.jsxs)("div",{className:"space-y-0 text-xs leading-tight",children:[(0,o.jsx)("div",{children:"1) Prices\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0: Ex Works K. vadi"}),(0,o.jsx)("div",{children:"2) Taxes\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0: Extra as applicable"}),(0,o.jsx)("div",{children:"3) Payment\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0: After receipt & approval of material."}),(0,o.jsx)("div",{children:"4) Delivery\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0: Urgent"}),(0,o.jsx)("div",{children:"5) P & F\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0: Nil"}),(0,o.jsx)("div",{children:"6) Invoice to\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0: THORAT VALVES PVT. LTD., 607, Shaniwar Peth, Satara - 415002."}),(0,o.jsx)("div",{children:"7) Dispatch to\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0: THORAT VALVES PVT. LTD., Plot No.2-2/14, Additional MIDC, Satara - 415004."})]})]}),(0,o.jsx)("div",{className:"mb-3 text-xs",children:(0,o.jsx)("p",{children:"Thanking you,"})}),(0,o.jsx)("div",{className:"flex justify-between items-end",children:(0,o.jsxs)("div",{className:"text-xs",children:[(0,o.jsx)("p",{children:"Yours Faithfully,"}),(0,o.jsx)("p",{children:"For THORAT VALVES PVT. LTD."}),(0,o.jsxs)("div",{className:"mt-8",children:[(0,o.jsx)("div",{className:"border-t border-black w-24 mb-1"}),(0,o.jsx)("p",{children:"Prepared By"}),(0,o.jsx)("p",{children:"(D.R. Naik)"})]})]})})]})]}):(0,o.jsxs)("div",{className:"space-y-4 lg:space-y-6",children:[(0,o.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-6",children:(0,o.jsxs)("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-start space-y-4 lg:space-y-0",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-3 lg:space-x-4",children:[(0,o.jsx)("div",{className:"w-10 h-10 lg:w-12 lg:h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center",children:(0,o.jsx)(i.vQY,{className:"text-white",size:24})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Report Generator"}),(0,o.jsx)("p",{className:"text-sm lg:text-base text-gray-600 mt-1",children:"Generate comprehensive reports and purchase orders for vendor management"})]})]}),(0,o.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[(0,o.jsxs)("button",{onClick:()=>u(!0),className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl text-sm lg:text-base",children:[(0,o.jsx)(i.ydS,{className:"mr-2",size:16}),"Generate PO"]}),c&&(0,o.jsxs)("button",{onClick:()=>{if(!c)return;const t=S(c),s=new Blob([t],{type:"text/plain"}),a=URL.createObjectURL(s),n=document.createElement("a");n.href=a,n.download=`VMT_Report_${c.dateRange.startDate}_to_${c.dateRange.endDate}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a),e("Report downloaded successfully")},className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all duration-200 shadow-lg hover:shadow-xl text-sm lg:text-base",children:[(0,o.jsx)(i.a4x,{className:"mr-2",size:16}),"Download Report"]})]})]})}),(0,o.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-6",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,o.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center",children:(0,o.jsx)(i.hht,{className:"text-white",size:16})}),(0,o.jsx)("h2",{className:"text-lg lg:text-xl font-bold text-gray-900",children:"Report Configuration"})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 lg:gap-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,o.jsx)(i.vQY,{className:"inline mr-2",size:14}),"Report Type"]}),(0,o.jsxs)("select",{value:h,onChange:e=>g(e.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white shadow-sm transition-all duration-200",children:[(0,o.jsx)("option",{value:"summary",children:"\ud83d\udcca Summary Report"}),(0,o.jsx)("option",{value:"detailed",children:"\ud83d\udccb Detailed Report"}),(0,o.jsx)("option",{value:"financial",children:"\ud83d\udcb0 Financial Report"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,o.jsx)(i.wIk,{className:"inline mr-2",size:14}),"Start Date"]}),(0,o.jsx)("input",{type:"date",value:m.startDate,onChange:e=>p(t=>({...t,startDate:e.target.value})),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white shadow-sm transition-all duration-200"})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,o.jsx)(i.wIk,{className:"inline mr-2",size:14}),"End Date"]}),(0,o.jsx)("input",{type:"date",value:m.endDate,onChange:e=>p(t=>({...t,endDate:e.target.value})),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white shadow-sm transition-all duration-200"})]})]}),(0,o.jsx)("div",{className:"mt-6",children:(0,o.jsx)("button",{onClick:async()=>{try{d(!0);const t=new Date(m.startDate);t.setHours(0,0,0,0);const s=new Date(m.endDate);s.setHours(23,59,59,999);const[a,l,i,o]=await Promise.all([(0,n.GG)((0,n.rJ)(r.db,"vendors")),(0,n.GG)((0,n.P)((0,n.rJ)(r.db,"purchaseOrders"),(0,n._M)("createdAt",">=",t),(0,n._M)("createdAt","<=",s))),(0,n.GG)((0,n.P)((0,n.rJ)(r.db,"jobAssignments"),(0,n._M)("createdAt",">=",t),(0,n._M)("createdAt","<=",s))),(0,n.GG)((0,n.P)((0,n.rJ)(r.db,"dailyTodos"),(0,n._M)("dueDate",">=",t),(0,n._M)("dueDate","<=",s)))]),c=[];a.forEach(e=>c.push({id:e.id,...e.data()}));const p=[];l.forEach(e=>p.push({id:e.id,...e.data()}));const h=[];i.forEach(e=>h.push({id:e.id,...e.data()}));const g=[];o.forEach(e=>g.push({id:e.id,...e.data()}));const b=y(c,p,h,g);x(b),e("Report generated successfully")}catch(s){console.error("Error generating report:",s),t("Failed to generate report")}finally{d(!1)}},disabled:s,className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 px-6 rounded-lg hover:from-indigo-700 hover:to-purple-700 disabled:opacity-50 flex items-center justify-center transition-all duration-200 shadow-lg hover:shadow-xl font-medium",children:s?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Generating Report..."]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.ARf,{className:"mr-2",size:18}),"Generate Report"]})})}),c&&(0,o.jsxs)("div",{className:"mt-8 space-y-6",children:[(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:[(0,o.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-4 lg:p-6 rounded-xl border border-blue-100 shadow-sm",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-blue-600 text-xs lg:text-sm font-medium",children:"Total Vendors"}),(0,o.jsx)("p",{className:"text-2xl lg:text-3xl font-bold text-blue-900",children:c.vendorStats.total}),(0,o.jsxs)("p",{className:"text-xs text-blue-600 mt-1",children:[c.vendorStats.active," active"]})]}),(0,o.jsx)(i.cfS,{className:"text-blue-500",size:28})]})}),(0,o.jsx)("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-4 lg:p-6 rounded-xl border border-green-100 shadow-sm",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-green-600 text-xs lg:text-sm font-medium",children:"Purchase Orders"}),(0,o.jsx)("p",{className:"text-2xl lg:text-3xl font-bold text-green-900",children:c.poStats.total}),(0,o.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:[Object.values(c.poStats.byStatus).reduce((e,t)=>e+t,0)," total"]})]}),(0,o.jsx)(i.ydS,{className:"text-green-500",size:28})]})}),(0,o.jsx)("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 p-4 lg:p-6 rounded-xl border border-purple-100 shadow-sm",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-purple-600 text-xs lg:text-sm font-medium",children:"Total PO Value"}),(0,o.jsxs)("p",{className:"text-xl lg:text-2xl font-bold text-purple-900",children:["\u20b9",c.poStats.totalValue.toLocaleString()]}),(0,o.jsxs)("p",{className:"text-xs text-purple-600 mt-1",children:["Avg: \u20b9",parseFloat(c.performance.avgPOValue).toLocaleString()]})]}),(0,o.jsx)(i.z8N,{className:"text-purple-500",size:28})]})}),(0,o.jsx)("div",{className:"bg-gradient-to-br from-indigo-50 to-blue-50 p-4 lg:p-6 rounded-xl border border-indigo-100 shadow-sm",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-indigo-600 text-xs lg:text-sm font-medium",children:"Job Assignments"}),(0,o.jsx)("p",{className:"text-2xl lg:text-3xl font-bold text-indigo-900",children:c.jobStats.total}),(0,o.jsxs)("p",{className:"text-xs text-indigo-600 mt-1",children:[c.jobStats.completed," completed"]})]}),(0,o.jsx)(i.ARf,{className:"text-indigo-500",size:28})]})})]}),(0,o.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-6",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,o.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg flex items-center justify-center",children:(0,o.jsx)(i.vQY,{className:"text-white",size:16})}),(0,o.jsx)("h3",{className:"text-lg lg:text-xl font-bold text-gray-900",children:"Performance Metrics"})]}),(0,o.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:[(0,o.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg border border-green-100",children:[(0,o.jsxs)("div",{className:"text-2xl lg:text-3xl font-bold text-green-600",children:[c.performance.poApprovalRate,"%"]}),(0,o.jsx)("div",{className:"text-xs lg:text-sm text-green-700 font-medium mt-1",children:"PO Approval Rate"})]}),(0,o.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-100",children:[(0,o.jsxs)("div",{className:"text-2xl lg:text-3xl font-bold text-blue-600",children:[c.performance.jobCompletionRate,"%"]}),(0,o.jsx)("div",{className:"text-xs lg:text-sm text-blue-700 font-medium mt-1",children:"Job Completion Rate"})]}),(0,o.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg border border-purple-100",children:[(0,o.jsxs)("div",{className:"text-2xl lg:text-3xl font-bold text-purple-600",children:[c.performance.todoCompletionRate,"%"]}),(0,o.jsx)("div",{className:"text-xs lg:text-sm text-purple-700 font-medium mt-1",children:"Todo Completion Rate"})]}),(0,o.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-indigo-50 to-blue-50 rounded-lg border border-indigo-100",children:[(0,o.jsxs)("div",{className:"text-xl lg:text-2xl font-bold text-indigo-600",children:["\u20b9",parseFloat(c.performance.avgPOValue).toLocaleString()]}),(0,o.jsx)("div",{className:"text-xs lg:text-sm text-indigo-700 font-medium mt-1",children:"Average PO Value"})]})]})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,o.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-6",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,o.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:(0,o.jsx)(i.A3x,{className:"text-white",size:16})}),(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"PO Status Breakdown"})]}),(0,o.jsx)("div",{className:"space-y-3",children:Object.entries(c.poStats.byStatus).map(e=>{let[t,s]=e;return(0,o.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg border border-gray-200",children:[(0,o.jsx)("span",{className:"text-sm font-medium text-gray-700 capitalize",children:t}),(0,o.jsx)("span",{className:"px-3 py-1 bg-white rounded-full text-sm font-bold text-gray-900 shadow-sm",children:s})]},t)})})]}),(0,o.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-6",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,o.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-500 to-red-600 rounded-lg flex items-center justify-center",children:(0,o.jsx)(i.hht,{className:"text-white",size:16})}),(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Operations Breakdown"})]}),(0,o.jsx)("div",{className:"space-y-3",children:Object.entries(c.poStats.byOperation).map(e=>{let[t,s]=e;return(0,o.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg border border-gray-200",children:[(0,o.jsx)("span",{className:"text-sm font-medium text-gray-700",children:t}),(0,o.jsx)("span",{className:"px-3 py-1 bg-white rounded-full text-sm font-bold text-gray-900 shadow-sm",children:s})]},t)})})]})]}),(0,o.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 p-4 lg:p-6 rounded-xl border border-gray-200 shadow-sm",children:(0,o.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-2 lg:space-y-0",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-gray-500 to-gray-600 rounded-lg flex items-center justify-center",children:(0,o.jsx)(i.wIk,{className:"text-white",size:16})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Report Generated"}),(0,o.jsx)("p",{className:"text-xs text-gray-600",children:c.generatedAt.toLocaleString()})]})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:(0,o.jsx)(i.vQY,{className:"text-white",size:16})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Report Period"}),(0,o.jsxs)("p",{className:"text-xs text-gray-600",children:[c.dateRange.startDate," to ",c.dateRange.endDate]})]})]})]})})]})]})]})}}}]);
//# sourceMappingURL=990.a28e3b13.chunk.js.map