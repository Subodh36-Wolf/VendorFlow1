"use strict";(self.webpackChunkvendor_management_system=self.webpackChunkvendor_management_system||[]).push([[660],{9660:(e,t,s)=>{s.r(t),s.d(t,{default:()=>m});var r=s(5043),a=s(5475),i=s(5472),l=s(791),n=s(9369),d=s(3505),o=s(5772),c=s(1847),x=s(579);function m(){const{showSuccess:e,showError:t}=(0,d.hN)(),[s,m]=(0,r.useState)([]),[u,h]=(0,r.useState)([]),[g,p]=(0,r.useState)(!0),[v,j]=(0,r.useState)(""),[y,b]=(0,r.useState)("all"),[f,N]=(0,r.useState)("all"),[w,A]=(0,r.useState)("all"),[D,k]=(0,r.useState)({start:"",end:""}),[C,S]=(0,r.useState)("createdAt"),[P,O]=(0,r.useState)("desc"),[L,z]=(0,r.useState)([]),[V,R]=(0,r.useState)(!1),[I,E]=(0,r.useState)(!1),[F,G]=(0,r.useState)(!1),[$,_]=(0,r.useState)(!1),[H,T]=(0,r.useState)(null);(0,r.useEffect)(()=>{M()},[]);const M=async()=>{try{const[e,t]=await Promise.all([(0,i.GG)((0,i.rJ)(l.db,"purchaseOrders")),(0,i.GG)((0,i.rJ)(l.db,"vendors"))]),s=[];e.forEach(e=>{s.push({id:e.id,...e.data()})});const r=[];t.forEach(e=>{r.push({id:e.id,...e.data()})}),m(s),h(r)}catch(e){console.error("Error fetching data:",e),t("Failed to load purchase orders")}finally{p(!1)}},U=e=>{T(e),_(!0)},B=async r=>{if(window.confirm("Are you sure you want to delete this purchase order?"))try{await(0,n.Zz)(r),m(s.filter(e=>e.id!==r)),e("Purchase order deleted successfully")}catch(a){console.error("Error deleting PO:",a),t("Failed to delete purchase order")}},K=async(r,a)=>{try{await(0,n.Oh)([r],{status:a}),m(s.map(e=>e.id===r?{...e,status:a}:e)),e(`Purchase order ${a} successfully`)}catch(i){console.error("Error updating PO status:",i),t("Failed to update purchase order status")}},q=e=>{const t=u.find(t=>t.id===e);return t?t.name:"Unknown Vendor"},X=(e,t)=>{z(t?[...L,e]:L.filter(t=>t!==e))},J=async r=>{if(0!==L.length)try{E(!0),await(0,n.Oh)(L,{status:r}),m(s.map(e=>L.includes(e.id)?{...e,status:r}:e)),z([]),e(`${L.length} POs updated to ${r}`)}catch(a){console.error("Error updating POs:",a),t("Failed to update POs")}finally{E(!1)}else t("Please select POs to update")},Z=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"completed":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},Q=e=>{switch(e){case"low":default:return"bg-gray-100 text-gray-800";case"medium":return"bg-blue-100 text-blue-800";case"high":return"bg-orange-100 text-orange-800";case"urgent":return"bg-red-100 text-red-800"}},W=s.filter(e=>{var t,s;const r=Array.isArray(e.operations)?e.operations:e.operation?[e.operation]:[],a=(null===(t=e.poNumber)||void 0===t?void 0:t.toLowerCase().includes(v.toLowerCase()))||q(e.vendorId).toLowerCase().includes(v.toLowerCase())||r.join(" ").toLowerCase().includes(v.toLowerCase())||(null===(s=e.description)||void 0===s?void 0:s.toLowerCase().includes(v.toLowerCase())),i="all"===y||e.status===y,l="all"===f||r.includes(f),n="all"===w||e.priority===w;let d=!0;if(D.start||D.end){var o,c;const t=null===(o=e.createdAt)||void 0===o||null===(c=o.toDate)||void 0===c?void 0:c.call(o);t&&(D.start&&new Date(D.start)>t&&(d=!1),D.end&&new Date(D.end)<t&&(d=!1))}return a&&i&&l&&n&&d}).sort((e,t)=>{var s,r,a,i;let l,n;switch(C){case"poNumber":l=e.poNumber||"",n=t.poNumber||"";break;case"vendor":l=q(e.vendorId),n=q(t.vendorId);break;case"amount":l=parseFloat(e.finalAmount||e.totalAmount||0),n=parseFloat(t.finalAmount||t.totalAmount||0);break;default:l=(null===(s=e.createdAt)||void 0===s||null===(r=s.toDate)||void 0===r?void 0:r.call(s))||new Date(0),n=(null===(a=t.createdAt)||void 0===a||null===(i=a.toDate)||void 0===i?void 0:i.call(a))||new Date(0)}return"asc"===P?l>n?1:-1:l<n?1:-1});s.length,s.filter(e=>"pending"===e.status).length,s.filter(e=>"approved"===e.status).length,s.filter(e=>"completed"===e.status).length,s.reduce((e,t)=>e+parseFloat(t.finalAmount||t.totalAmount||0),0);return g?(0,x.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,x.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):(0,x.jsxs)("div",{className:"space-y-6",children:[(0,x.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:(0,x.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,x.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,x.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center",children:(0,x.jsx)(o.jH2,{className:"text-white",size:20})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Purchase Orders"}),(0,x.jsx)("p",{className:"text-gray-600",children:"Manage purchase orders for vendor operations"})]})]}),(0,x.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,x.jsx)("button",{onClick:()=>M(),className:"inline-flex items-center px-4 py-3 bg-gradient-to-r from-gray-500 to-slate-600 text-white font-medium rounded-xl hover:from-gray-600 hover:to-slate-700 transition-all duration-200 shadow-sm hover:shadow-md",title:"Refresh",children:(0,x.jsx)(o.jTZ,{size:16})}),(0,x.jsxs)("button",{onClick:()=>{const e=W.map(e=>{var t,s,r,a,i,l;const n=Array.isArray(e.operations)?e.operations:e.operation?[e.operation]:[];return{"PO Number":e.poNumber,Vendor:q(e.vendorId),Operations:n.join(" | "),Amount:e.finalAmount||e.totalAmount,Status:e.status,Priority:e.priority,"Created Date":(null===(t=e.createdAt)||void 0===t||null===(s=t.toDate)||void 0===s||null===(r=s.call(t))||void 0===r?void 0:r.toLocaleDateString())||"N/A","Delivery Date":(null===(a=e.deliveryDate)||void 0===a||null===(i=a.toDate)||void 0===i||null===(l=i.call(a))||void 0===l?void 0:l.toLocaleDateString())||"N/A"}}),t=[Object.keys(e[0]).join(","),...e.map(e=>Object.values(e).join(","))].join("\n"),s=new Blob([t],{type:"text/csv"}),r=window.URL.createObjectURL(s),a=document.createElement("a");a.href=r,a.download=`purchase-orders-${(new Date).toISOString().split("T")[0]}.csv`,a.click(),window.URL.revokeObjectURL(r)},className:"inline-flex items-center px-4 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-medium rounded-xl hover:from-green-600 hover:to-emerald-700 transition-all duration-200 shadow-sm hover:shadow-md",children:[(0,x.jsx)(o.a4x,{className:"mr-2",size:16}),"Export CSV"]}),(0,x.jsxs)(a.N_,{to:"/admin/create-po",className:"inline-flex items-center px-4 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-medium rounded-xl hover:from-indigo-600 hover:to-purple-700 transition-all duration-200 shadow-sm hover:shadow-md",children:[(0,x.jsx)(o.GGD,{className:"mr-2",size:16}),"Create PO"]})]})]})}),(0,x.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,x.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,x.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center",children:(0,x.jsx)(o.K7R,{className:"text-white",size:16})}),(0,x.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Search & Filter"})]}),(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsx)(o.CKj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,x.jsx)("input",{type:"text",placeholder:"Search POs, vendors, operations...",value:v,onChange:e=>j(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 hover:border-gray-400"})]}),(0,x.jsxs)("select",{value:y,onChange:e=>b(e.target.value),className:"px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 hover:border-gray-400",children:[(0,x.jsx)("option",{value:"all",children:"All Status"}),(0,x.jsx)("option",{value:"pending",children:"Pending"}),(0,x.jsx)("option",{value:"approved",children:"Approved"}),(0,x.jsx)("option",{value:"completed",children:"Completed"}),(0,x.jsx)("option",{value:"rejected",children:"Rejected"})]}),(0,x.jsxs)("select",{value:w,onChange:e=>A(e.target.value),className:"px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 hover:border-gray-400",children:[(0,x.jsx)("option",{value:"all",children:"All Priorities"}),(0,x.jsx)("option",{value:"low",children:"Low"}),(0,x.jsx)("option",{value:"medium",children:"Medium"}),(0,x.jsx)("option",{value:"high",children:"High"}),(0,x.jsx)("option",{value:"urgent",children:"Urgent"})]}),(0,x.jsxs)("select",{value:C,onChange:e=>S(e.target.value),className:"px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 hover:border-gray-400",children:[(0,x.jsx)("option",{value:"createdAt",children:"Sort by Date"}),(0,x.jsx)("option",{value:"poNumber",children:"Sort by PO Number"}),(0,x.jsx)("option",{value:"vendor",children:"Sort by Vendor"}),(0,x.jsx)("option",{value:"amount",children:"Sort by Amount"})]}),(0,x.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,x.jsx)("button",{onClick:()=>O("asc"===P?"desc":"asc"),className:"p-3 border border-gray-300 rounded-xl hover:bg-gray-50 transition-all duration-200",title:"Sort "+("asc"===P?"Descending":"Ascending"),children:(0,x.jsx)(o.ARf,{className:"transform transition-transform duration-200 "+("desc"===P?"rotate-180":""),size:16})}),(0,x.jsxs)("button",{onClick:()=>G(!F),className:"inline-flex items-center px-4 py-3 border border-gray-300 rounded-xl hover:bg-gray-50 transition-all duration-200",children:[(0,x.jsx)(o.K7R,{className:"mr-2",size:16}),"Advanced"]})]})]}),F&&(0,x.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,x.jsxs)("select",{value:f,onChange:e=>N(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,x.jsx)("option",{value:"all",children:"All Operations"}),(0,x.jsx)("option",{value:"HBL",children:"HBL (Horizontal Boring & Lathe)"}),(0,x.jsx)("option",{value:"VTL",children:"VTL (Vertical Turning Lathe)"}),(0,x.jsx)("option",{value:"Drilling",children:"Drilling"}),(0,x.jsx)("option",{value:"VMC",children:"VMC (Vertical Machining Center)"})]}),(0,x.jsx)("div",{children:(0,x.jsx)("input",{type:"date",placeholder:"Start Date",value:D.start,onChange:e=>k(t=>({...t,start:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})}),(0,x.jsx)("div",{children:(0,x.jsx)("input",{type:"date",placeholder:"End Date",value:D.end,onChange:e=>k(t=>({...t,end:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})})]})}),(0,x.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200",children:[(0,x.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,x.jsx)(o.K7R,{className:"mr-2",size:16}),W.length," of ",s.length," POs",L.length>0&&(0,x.jsxs)("span",{className:"ml-4 text-indigo-600 font-medium",children:[L.length," selected"]})]}),L.length>0&&(0,x.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,x.jsxs)("button",{onClick:()=>J("approved"),disabled:I,className:"inline-flex items-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:[(0,x.jsx)(o.A3x,{className:"mr-2",size:16}),"Approve Selected"]}),(0,x.jsxs)("button",{onClick:()=>J("rejected"),disabled:I,className:"inline-flex items-center px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:[(0,x.jsx)(o.q_G,{className:"mr-2",size:16}),"Reject Selected"]}),(0,x.jsxs)("button",{onClick:async()=>{if(0!==L.length){if(window.confirm(`Are you sure you want to delete ${L.length} purchase orders?`))try{E(!0),await(0,n.uM)(L),m(s.filter(e=>!L.includes(e.id))),z([]),e(`${L.length} POs deleted successfully`)}catch(r){console.error("Error deleting POs:",r),t("Failed to delete POs")}finally{E(!1)}}else t("Please select POs to delete")},disabled:I,className:"inline-flex items-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors disabled:opacity-50",children:[(0,x.jsx)(o.IXo,{className:"mr-2",size:16}),"Delete Selected"]})]})]})]}),(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,x.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)("div",{className:"flex-shrink-0",children:(0,x.jsx)(o.jH2,{className:"h-8 w-8 text-indigo-600"})}),(0,x.jsxs)("div",{className:"ml-4",children:[(0,x.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"Total POs"}),(0,x.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:s.length})]})]})}),(0,x.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)("div",{className:"flex-shrink-0",children:(0,x.jsx)(o.Ohp,{className:"h-8 w-8 text-yellow-600"})}),(0,x.jsxs)("div",{className:"ml-4",children:[(0,x.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"Pending"}),(0,x.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:s.filter(e=>"pending"===e.status).length})]})]})}),(0,x.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)("div",{className:"flex-shrink-0",children:(0,x.jsx)(o.A3x,{className:"h-8 w-8 text-green-600"})}),(0,x.jsxs)("div",{className:"ml-4",children:[(0,x.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"Approved"}),(0,x.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:s.filter(e=>"approved"===e.status).length})]})]})}),(0,x.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)("div",{className:"flex-shrink-0",children:(0,x.jsx)(o.z8N,{className:"h-8 w-8 text-blue-600"})}),(0,x.jsxs)("div",{className:"ml-4",children:[(0,x.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"Total Value"}),(0,x.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:["\u20b9",s.reduce((e,t)=>e+(parseFloat(t.totalAmount)||0),0).toLocaleString()]})]})]})})]}),(0,x.jsx)("div",{className:"md:hidden space-y-3",children:0===W.length?(0,x.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 text-center text-gray-500",children:"No purchase orders"}):W.map(e=>{var t,s,r;return(0,x.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 "+(L.includes(e.id)?"ring-2 ring-indigo-400":""),children:[(0,x.jsxs)("div",{className:"flex items-start justify-between",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"text-xs text-gray-500",children:"PO Number"}),(0,x.jsx)("div",{className:"font-semibold text-gray-900",children:e.poNumber||"-"})]}),(0,x.jsxs)("div",{className:"text-right",children:[(0,x.jsx)("div",{className:"text-xs text-gray-500",children:"Date"}),(0,x.jsx)("div",{className:"font-medium",children:(null===(t=e.createdAt)||void 0===t||null===(s=t.toDate)||void 0===s||null===(r=s.call(t))||void 0===r?void 0:r.toLocaleDateString())||"-"})]})]}),(0,x.jsxs)("div",{className:"mt-2 grid grid-cols-2 gap-3 text-sm",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"text-gray-500",children:"Vendor"}),(0,x.jsx)("div",{className:"font-medium",children:q(e.vendorId)})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"text-gray-500",children:"Amount"}),(0,x.jsxs)("div",{className:"font-semibold",children:["\u20b9",parseFloat(e.finalAmount||e.totalAmount||0).toLocaleString()]})]})]}),(0,x.jsxs)("div",{className:"mt-2 flex items-center flex-wrap gap-2",children:[(0,x.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Q(e.priority)}`,children:e.priority||"medium"}),(0,x.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Z(e.status)}`,children:e.status||"pending"}),e.expectedDeliveryDate&&(0,x.jsxs)("span",{className:"inline-flex px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded-full",children:["Due: ",new Date(e.expectedDeliveryDate).toLocaleDateString()]}),(0,x.jsx)("span",{className:"inline-flex px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded-full",children:(Array.isArray(e.operations)?e.operations:e.operation?[e.operation]:[]).join(", ")||"\u2014"})]}),(0,x.jsxs)("div",{className:"mt-3 flex items-center justify-between",children:[(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)("input",{type:"checkbox",checked:L.includes(e.id),onChange:t=>X(e.id,t.target.checked),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 mr-2","aria-label":`Select PO ${e.poNumber}`}),(0,x.jsx)("span",{className:"text-xs text-gray-500",children:"Select"})]}),(0,x.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,x.jsx)("button",{onClick:()=>U(e),className:"p-2 text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-100","aria-label":"Preview / Print",title:"Preview / Print",children:(0,x.jsx)(o.Vap,{size:16})}),(0,x.jsx)("button",{onClick:()=>K(e.id,"approved"),className:"p-2 text-green-600 hover:text-green-800 rounded-lg hover:bg-green-50","aria-label":"Approve PO",title:"Approve",children:(0,x.jsx)(o.A3x,{size:16})}),(0,x.jsx)("button",{onClick:()=>K(e.id,"rejected"),className:"p-2 text-red-600 hover:text-red-800 rounded-lg hover:bg-red-50","aria-label":"Reject PO",title:"Reject",children:(0,x.jsx)(o.q_G,{size:16})}),(0,x.jsx)("button",{onClick:()=>B(e.id),className:"p-2 text-red-600 hover:text-red-800 rounded-lg hover:bg-red-50","aria-label":"Delete PO",title:"Delete",children:(0,x.jsx)(o.IXo,{size:16})})]})]})]},e.id)})}),(0,x.jsxs)("div",{className:"hidden md:block bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[(0,x.jsx)("div",{className:"overflow-x-auto",children:(0,x.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,x.jsx)("thead",{className:"bg-gray-50",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,x.jsx)("input",{type:"checkbox",checked:L.length===W.length&&W.length>0,onChange:e=>{return t=e.target.checked,void z(t?W.map(e=>e.id):[]);var t},className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"})}),(0,x.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PO Details"}),(0,x.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendor & Operation"}),(0,x.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount & Priority"}),(0,x.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status & Dates"}),(0,x.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,x.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:W.map(e=>{var t,s,r;return(0,x.jsxs)("tr",{className:"hover:bg-gray-50 "+(L.includes(e.id)?"bg-indigo-50":""),children:[(0,x.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,x.jsx)("input",{type:"checkbox",checked:L.includes(e.id),onChange:t=>X(e.id,t.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"})}),(0,x.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:["PO #",e.poNumber]}),(0,x.jsx)("div",{className:"text-sm text-gray-500",children:e.description}),(0,x.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:null===(t=e.createdAt)||void 0===t||null===(s=t.toDate)||void 0===s||null===(r=s.call(t))||void 0===r?void 0:r.toLocaleDateString()})]})}),(0,x.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"text-sm font-medium text-gray-900",children:q(e.vendorId)}),(0,x.jsx)("div",{className:"text-sm text-gray-500",children:(Array.isArray(e.operations)?e.operations:e.operation?[e.operation]:[]).map(e=>e).join(", ")})]})}),(0,x.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:["\u20b9",parseFloat(e.finalAmount||e.totalAmount||0).toLocaleString()]}),(0,x.jsx)("div",{className:"flex items-center mt-1",children:(0,x.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Q(e.priority)}`,children:e.priority})})]})}),(0,x.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,x.jsxs)("div",{children:[(0,x.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Z(e.status)}`,children:e.status}),e.expectedDeliveryDate&&(0,x.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Due: ",new Date(e.expectedDeliveryDate).toLocaleDateString()]})]})}),(0,x.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,x.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,x.jsx)("button",{onClick:()=>U(e),className:"text-gray-600 hover:text-gray-900",title:"Preview / Print",children:(0,x.jsx)(o.Vap,{size:16})}),(0,x.jsx)("button",{onClick:()=>K(e.id,"approved"),className:"text-green-600 hover:text-green-900",title:"Approve",children:(0,x.jsx)(o.A3x,{size:16})}),(0,x.jsx)("button",{onClick:()=>K(e.id,"rejected"),className:"text-red-600 hover:text-red-900",title:"Reject",children:(0,x.jsx)(o.q_G,{size:16})}),(0,x.jsx)("button",{onClick:()=>B(e.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:(0,x.jsx)(o.IXo,{size:16})})]})})]},e.id)})})]})}),0===W.length&&(0,x.jsxs)("div",{className:"text-center py-12",children:[(0,x.jsx)(o.jH2,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,x.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No purchase orders"}),(0,x.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new purchase order."}),(0,x.jsx)("div",{className:"mt-6",children:(0,x.jsxs)(a.N_,{to:"/admin/create-po",className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[(0,x.jsx)(o.GGD,{className:"mr-2",size:16}),"Create PO"]})})]})]}),$&&H&&(0,x.jsx)(c.A,{poData:H,vendor:u.find(e=>e.id===H.vendorId),vendorId:H.vendorId,onClose:()=>_(!1),autoPrint:!1})]})}}}]);
//# sourceMappingURL=660.215c45b5.chunk.js.map