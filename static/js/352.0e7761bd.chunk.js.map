{"version":3,"file":"static/js/352.0e7761bd.chunk.js","mappings":"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","sources":["services/deliveryChallanService.js","components/Admin/DeliveryChallanList.jsx"],"sourcesContent":["import { collection, addDoc, getDocs, getDoc, updateDoc, deleteDoc, doc, serverTimestamp, query, orderBy, writeBatch } from 'firebase/firestore';\r\nimport { db } from '../firebase';\r\n\r\nconst DC_COLLECTION = 'deliveryChallans';\r\nconst DC_ACTIVITY_COLLECTION = 'dcActivity';\r\n\r\nexport function normalizeChallanForSave(raw) {\r\n\tconst items = Array.isArray(raw.items) ? raw.items : [];\r\n\tconst safeItems = items.map((it) => {\r\n\t\tconst quantity = Number(it.quantity) || 0;\r\n\t\tconst price = Number(it.price) || 0;\r\n\t\treturn {\r\n\t\t\tdescription: String(it.description || '').trim(),\r\n\t\t\thsnCode: String(it.hsnCode || ''),\r\n\t\t\tquantity,\r\n\t\t\tunit: String(it.unit || 'Nos'),\r\n\t\t\tprice,\r\n\t\t\tamount: Number((quantity * price).toFixed(2)),\r\n\t\t\titemId: it.itemId || null,\r\n\t\t};\r\n\t});\r\n\r\n\tconst totalAmount = safeItems.reduce((sum, it) => sum + (Number(it.amount) || 0), 0);\r\n\tconst totalQuantity = safeItems.reduce((sum, it) => sum + (Number(it.quantity) || 0), 0);\r\n\r\n\treturn {\r\n\t\tchallanNumber: String(raw.challanNumber || '').trim(),\r\n\t\tdate: raw.date || new Date().toISOString().split('T')[0],\r\n\t\tpoId: raw.poId ? String(raw.poId) : null,\r\n\t\tpoNumber: raw.poNumber ? String(raw.poNumber) : (raw.reference ? String(raw.reference) : ''),\r\n\t\tvendorId: String(raw.vendorId || '').trim(),\r\n\t\tvendorName: String(raw.vendorName || ''),\r\n\t\tvendorAddress: String(raw.vendorAddress || ''),\r\n\t\treference: String(raw.reference || ''),\r\n\t\tvehicleNo: String(raw.vehicleNo || ''),\r\n\t\tdriverName: String(raw.driverName || ''),\r\n\t\tremarks: String(raw.remarks || ''),\r\n\t\titems: safeItems,\r\n\t\ttotalAmount: Number(totalAmount.toFixed(2)),\r\n\t\ttotalQuantity,\r\n\t\tamountInWords: String(raw.amountInWords || ''),\r\n\t};\r\n}\r\n\r\nexport function mapChallanFromDoc(docSnap) {\r\n\treturn { id: docSnap.id, ...docSnap.data() };\r\n}\r\n\r\nasync function logActivity(dcId, action, details) {\r\n\ttry {\r\n\t\tawait addDoc(collection(db, DC_ACTIVITY_COLLECTION), { dcId, action, details: details || {}, timestamp: serverTimestamp() });\r\n\t} catch (_) {}\r\n}\r\n\r\nexport async function getChallansOrdered() {\r\n\tconst q = query(collection(db, DC_COLLECTION), orderBy('createdAt', 'desc'));\r\n\tconst snap = await getDocs(q);\r\n\treturn snap.docs.map(mapChallanFromDoc);\r\n}\r\n\r\nexport async function getChallanById(id) {\r\n\tconst snap = await getDoc(doc(db, DC_COLLECTION, id));\r\n\tif (!snap.exists()) return null;\r\n\treturn mapChallanFromDoc(snap);\r\n}\r\n\r\nexport async function createChallan(raw) {\r\n\tconst data = normalizeChallanForSave(raw);\r\n\tconst now = serverTimestamp();\r\n\tconst ref = await addDoc(collection(db, DC_COLLECTION), { ...data, createdAt: now, updatedAt: now });\r\n\tawait logActivity(ref.id, 'create', { vendorId: data.vendorId, totalAmount: data.totalAmount });\r\n\treturn { id: ref.id, ...data };\r\n}\r\n\r\nexport async function updateChallan(id, raw) {\r\n\tconst data = normalizeChallanForSave(raw);\r\n\tawait updateDoc(doc(db, DC_COLLECTION, id), { ...data, updatedAt: serverTimestamp() });\r\n\tawait logActivity(id, 'update');\r\n}\r\n\r\nexport async function deleteChallan(id) {\r\n\tawait deleteDoc(doc(db, DC_COLLECTION, id));\r\n\tawait logActivity(id, 'delete');\r\n}\r\n\r\nexport async function bulkDeleteChallans(ids) {\r\n\tconst batch = writeBatch(db);\r\n\tids.forEach((id) => batch.delete(doc(db, DC_COLLECTION, id)));\r\n\tawait batch.commit();\r\n\tfor (const id of ids) logActivity(id, 'bulk_delete');\r\n}\r\n","import { useEffect, useMemo, useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { collection, getDocs, query, orderBy } from 'firebase/firestore';\r\nimport { db } from '../../firebase';\r\nimport { deleteChallan, bulkDeleteChallans } from '../../services/deliveryChallanService';\r\nimport { useNotification } from './NotificationSystem';\r\nimport { \r\n  FiPlus, FiSearch, FiEye, FiEdit2, FiTrash2, FiRefreshCw, FiPrinter, FiDownload,\r\n  FiGrid, FiList, FiFilter, FiChevronDown, FiChevronUp, FiFileText\r\n} from 'react-icons/fi';\r\n\r\nexport default function DeliveryChallanList() {\r\n  const { showSuccess, showError } = useNotification();\r\n  const navigate = useNavigate();\r\n\r\n  // Data\r\n  const [loading, setLoading] = useState(true);\r\n  const [refreshing, setRefreshing] = useState(false);\r\n  const [vendors, setVendors] = useState([]);\r\n  const [challans, setChallans] = useState([]);\r\n\r\n  // UI State\r\n  const [search, setSearch] = useState('');\r\n  const [filters, setFilters] = useState({\r\n    vendor: 'all',\r\n    dateRange: 'all', // all, today, week, month\r\n  });\r\n  const [viewMode, setViewMode] = useState('table'); // table | cards\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const [sortConfig, setSortConfig] = useState({ key: 'date', direction: 'desc' });\r\n  const [selectedItems, setSelectedItems] = useState([]);\r\n  const [expandedCards, setExpandedCards] = useState({});\r\n  const [showFilters, setShowFilters] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchAll();\r\n    const onResize = () => setIsMobile(window.innerWidth < 768);\r\n    onResize();\r\n    window.addEventListener('resize', onResize);\r\n    return () => window.removeEventListener('resize', onResize);\r\n  }, []);\r\n\r\n  const fetchAll = async (isRefresh = false) => {\r\n    try {\r\n      if (isRefresh) setRefreshing(true); else setLoading(true);\r\n      const [vSnap, cSnap] = await Promise.all([\r\n        getDocs(collection(db, 'vendors')),\r\n        getDocs(query(collection(db, 'deliveryChallans'), orderBy('createdAt', 'desc')))\r\n      ]);\r\n      const vList = vSnap.docs.map(d => ({ id: d.id, ...d.data() }));\r\n      const cList = cSnap.docs.map(d => ({ id: d.id, ...d.data() }));\r\n      setVendors(vList);\r\n      setChallans(cList);\r\n    } catch (error) {\r\n      console.error('Error loading challans', error);\r\n      showError('Failed to load delivery challans');\r\n    } finally {\r\n      setLoading(false);\r\n      setRefreshing(false);\r\n    }\r\n  };\r\n\r\n  const getVendorName = (vendorId) => {\r\n    return vendors.find(v => v.id === vendorId)?.name || vendors.find(v => v.id === vendorId)?.companyName || '';\r\n  };\r\n\r\n  // Filtering\r\n  const filtered = useMemo(() => {\r\n    const now = new Date();\r\n    const startOfToday = new Date(now.getFullYear(), now.getMonth(), now.getDate());\r\n    const startOfWeek = new Date(startOfToday); startOfWeek.setDate(startOfWeek.getDate() - startOfWeek.getDay());\r\n    const startOfMonth = new Date(now.getFullYear(), now.getMonth(), 1);\r\n\r\n    return challans.filter(c => {\r\n      const searchText = `${c.challanNumber || ''} ${c.vendorName || getVendorName(c.vendorId) || ''} ${c.reference || ''}`.toLowerCase();\r\n      if (search && !searchText.includes(search.toLowerCase())) return false;\r\n\r\n      if (filters.vendor !== 'all' && c.vendorId !== filters.vendor) return false;\r\n\r\n      if (filters.dateRange !== 'all') {\r\n        const cDate = c.date ? new Date(c.date) : null;\r\n        if (!cDate) return false;\r\n        if (filters.dateRange === 'today' && cDate < startOfToday) return false;\r\n        if (filters.dateRange === 'week' && cDate < startOfWeek) return false;\r\n        if (filters.dateRange === 'month' && cDate < startOfMonth) return false;\r\n      }\r\n\r\n      return true;\r\n    });\r\n  }, [challans, search, filters, vendors]);\r\n\r\n  // Sorting\r\n  const sorted = useMemo(() => {\r\n    const data = [...filtered];\r\n    data.sort((a, b) => {\r\n      const dir = sortConfig.direction === 'asc' ? 1 : -1;\r\n      const key = sortConfig.key;\r\n      const av = (a[key] || '').toString();\r\n      const bv = (b[key] || '').toString();\r\n      if (key === 'date') {\r\n        return (new Date(av) - new Date(bv)) * dir;\r\n      }\r\n      return av.localeCompare(bv) * dir;\r\n    });\r\n    return data;\r\n  }, [filtered, sortConfig]);\r\n\r\n  const toggleSort = (key) => {\r\n    setSortConfig(prev => {\r\n      if (prev.key === key) {\r\n        return { key, direction: prev.direction === 'asc' ? 'desc' : 'asc' };\r\n      }\r\n      return { key, direction: 'asc' };\r\n    });\r\n  };\r\n\r\n  // Selection\r\n  const toggleItemSelection = (id) => {\r\n    setSelectedItems(prev => prev.includes(id) ? prev.filter(x => x !== id) : [...prev, id]);\r\n  };\r\n  const selectAll = () => setSelectedItems(sorted.map(i => i.id));\r\n  const clearSelection = () => setSelectedItems([]);\r\n\r\n  // Bulk Actions\r\n  const bulkDelete = async () => {\r\n    try {\r\n      await bulkDeleteChallans(selectedItems);\r\n      setChallans(prev => prev.filter(c => !selectedItems.includes(c.id)));\r\n      clearSelection();\r\n      showSuccess('Selected challans deleted');\r\n    } catch (e) {\r\n      console.error(e);\r\n      showError('Bulk delete failed');\r\n    }\r\n  };\r\n\r\n  const bulkPrint = () => {\r\n    sorted.filter(c => selectedItems.includes(c.id)).forEach(c => {\r\n      const url = `/admin/challan-details/${c.id}?print=1`;\r\n      window.open(url, '_blank');\r\n    });\r\n  };\r\n\r\n  const bulkDownload = () => {\r\n    sorted.filter(c => selectedItems.includes(c.id)).forEach(c => {\r\n      const url = `/admin/challan-details/${c.id}?download=1`;\r\n      window.open(url, '_blank');\r\n    });\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      await deleteChallan(id);\r\n      setChallans(prev => prev.filter(c => c.id !== id));\r\n      showSuccess('Challan deleted');\r\n    } catch (error) {\r\n      console.error('Delete failed', error);\r\n      showError('Failed to delete challan');\r\n    }\r\n  };\r\n\r\n  const toggleCardExpansion = (id) => {\r\n    setExpandedCards(prev => ({ ...prev, [id]: !prev[id] }));\r\n  };\r\n\r\n  // Render\r\n  return (\r\n    <div className=\"p-4\">\r\n      {/* Header */}\r\n      <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200 mb-4\">\r\n        <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\r\n          <div className=\"flex items-center space-x-3\">\r\n            <div className=\"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center\">\r\n              <FiFileText className=\"text-white\" size={20} />\r\n            </div>\r\n            <div>\r\n              <h1 className=\"text-2xl font-bold text-gray-900\">Delivery Challans</h1>\r\n              <p className=\"text-gray-600\">Manage and print delivery challans</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <button onClick={() => fetchAll(true)} className=\"px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded flex items-center\">\r\n              <FiRefreshCw className=\"mr-2\" /> {refreshing ? 'Refreshing...' : 'Refresh'}\r\n            </button>\r\n            <button onClick={() => setViewMode(viewMode === 'table' ? 'cards' : 'table')} className=\"px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded flex items-center\">\r\n              {viewMode === 'table' ? (<><FiGrid className=\"mr-2\" /> Cards</>) : (<><FiList className=\"mr-2\" /> Table</>)}\r\n            </button>\r\n            <Link to=\"/admin/create-challan\" className=\"px-3 py-2 bg-indigo-600 text-white rounded flex items-center\">\r\n              <FiPlus className=\"mr-2\" /> Create\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <div className=\"border rounded mb-4\">\r\n        <button onClick={() => setShowFilters(!showFilters)} className=\"w-full flex items-center justify-between px-3 py-2 bg-gray-50\">\r\n          <div className=\"flex items-center text-gray-700\"><FiFilter className=\"mr-2\" /> Filters</div>\r\n          {showFilters ? <FiChevronUp /> : <FiChevronDown />}\r\n        </button>\r\n        {showFilters && (\r\n          <div className=\"p-3 grid grid-cols-1 md:grid-cols-4 gap-3\">\r\n            <div className=\"relative md:col-span-2\">\r\n              <FiSearch className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" />\r\n              <input\r\n                value={search}\r\n                onChange={e => setSearch(e.target.value)}\r\n                placeholder=\"Search by challan no, vendor, reference\"\r\n                className=\"pl-10 pr-3 py-2 border rounded w-full\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-xs text-gray-500 mb-1\">Vendor</label>\r\n              <select value={filters.vendor} onChange={e => setFilters(f => ({ ...f, vendor: e.target.value }))} className=\"w-full border rounded px-3 py-2\">\r\n                <option value=\"all\">All vendors</option>\r\n                {vendors.map(v => (\r\n                  <option key={v.id} value={v.id}>{v.name || v.companyName || v.displayName || v.id}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-xs text-gray-500 mb-1\">Date range</label>\r\n              <select value={filters.dateRange} onChange={e => setFilters(f => ({ ...f, dateRange: e.target.value }))} className=\"w-full border rounded px-3 py-2\">\r\n                <option value=\"all\">All</option>\r\n                <option value=\"today\">Today</option>\r\n                <option value=\"week\">This week</option>\r\n                <option value=\"month\">This month</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Bulk actions */}\r\n      {selectedItems.length > 0 && (\r\n        <div className=\"flex items-center justify-between bg-indigo-50 border border-indigo-200 rounded p-2 mb-3\">\r\n          <div className=\"text-sm\">{selectedItems.length} selected</div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <button onClick={bulkPrint} className=\"px-3 py-1.5 bg-gray-100 hover:bg-gray-200 rounded flex items-center\"><FiPrinter className=\"mr-2\" /> Print</button>\r\n            <button onClick={bulkDownload} className=\"px-3 py-1.5 bg-gray-100 hover:bg-gray-200 rounded flex items-center\"><FiDownload className=\"mr-2\" /> Download</button>\r\n            <button onClick={bulkDelete} className=\"px-3 py-1.5 bg-red-50 hover:bg-red-100 text-red-600 rounded flex items-center\"><FiTrash2 className=\"mr-2\" /> Delete</button>\r\n            <button onClick={clearSelection} className=\"px-3 py-1.5 border rounded\">Clear</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Content */}\r\n      {loading ? (\r\n        <div className=\"py-12 text-center text-gray-500\">Loading...</div>\r\n      ) : viewMode === 'cards' || isMobile ? (\r\n        <CardView\r\n          data={sorted}\r\n          selectedItems={selectedItems}\r\n          expandedCards={expandedCards}\r\n          onToggleSelection={toggleItemSelection}\r\n          onToggleExpansion={toggleCardExpansion}\r\n          onView={(id) => navigate(`/admin/challan-details/${id}`)}\r\n          onEdit={(id) => navigate(`/admin/edit-challan/${id}`)}\r\n          onDelete={handleDelete}\r\n          onPrint={(id) => navigate(`/admin/challan-details/${id}?print=1`)}\r\n          onDownload={(id) => navigate(`/admin/challan-details/${id}?download=1`)}\r\n        />\r\n      ) : (\r\n        <TableView\r\n          data={sorted}\r\n          selectedItems={selectedItems}\r\n          onToggleSelection={toggleItemSelection}\r\n          onSelectAll={() => setSelectedItems(sorted.map(i => i.id))}\r\n          onClearAll={clearSelection}\r\n          onSort={toggleSort}\r\n          sortConfig={sortConfig}\r\n          onView={(id) => navigate(`/admin/challan-details/${id}`)}\r\n          onEdit={(id) => navigate(`/admin/edit-challan/${id}`)}\r\n          onDelete={handleDelete}\r\n          onPrint={(id) => navigate(`/admin/challan-details/${id}?print=1`)}\r\n          onDownload={(id) => navigate(`/admin/challan-details/${id}?download=1`)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction TableView({ data, selectedItems, onToggleSelection, onSelectAll, onClearAll, onSort, sortConfig, onView, onEdit, onDelete, onPrint, onDownload }) {\r\n  return (\r\n    <div className=\"overflow-x-auto border rounded\">\r\n      <table className=\"min-w-full text-sm\">\r\n        <thead className=\"bg-gray-50\">\r\n          <tr>\r\n            <th className=\"p-3 w-10\">\r\n              <input type=\"checkbox\" checked={selectedItems.length === data.length && data.length > 0} onChange={e => e.target.checked ? onSelectAll() : onClearAll()} />\r\n            </th>\r\n            <th className=\"text-left p-3 cursor-pointer\" onClick={() => onSort('challanNumber')}>Challan No {sortConfig.key === 'challanNumber' ? (sortConfig.direction === 'asc' ? '▲' : '▼') : ''}</th>\r\n            <th className=\"text-left p-3 cursor-pointer\" onClick={() => onSort('date')}>Date {sortConfig.key === 'date' ? (sortConfig.direction === 'asc' ? '▲' : '▼') : ''}</th>\r\n            <th className=\"text-left p-3\">Vendor</th>\r\n            <th className=\"text-left p-3\">Reference</th>\r\n            <th className=\"text-left p-3\">Items</th>\r\n            <th className=\"text-right p-3\">Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {data.map(c => (\r\n            <tr key={c.id} className=\"border-t hover:bg-gray-50\">\r\n              <td className=\"p-3\"><input type=\"checkbox\" checked={selectedItems.includes(c.id)} onChange={() => onToggleSelection(c.id)} /></td>\r\n              <td className=\"p-3 font-medium\">{c.challanNumber || '-'}</td>\r\n              <td className=\"p-3\">{c.date || '-'}</td>\r\n              <td className=\"p-3\">{c.vendorName || '-'}</td>\r\n              <td className=\"p-3\">{c.reference || '-'}</td>\r\n              <td className=\"p-3\">{(c.items || []).length}</td>\r\n              <td className=\"p-3 text-right\">\r\n                <div className=\"flex justify-end gap-2\">\r\n                  <button onClick={() => onView(c.id)} className=\"p-2 hover:bg-gray-100 rounded\" title=\"View\"><FiEye /></button>\r\n                  <button onClick={() => onEdit(c.id)} className=\"p-2 hover:bg-gray-100 rounded\" title=\"Edit\"><FiEdit2 /></button>\r\n                  <button onClick={() => onDelete(c.id)} className=\"p-2 hover:bg-gray-100 rounded\" title=\"Delete\"><FiTrash2 /></button>\r\n                  <button onClick={() => onPrint(c.id)} className=\"p-2 hover:bg-gray-100 rounded\" title=\"Print\"><FiPrinter /></button>\r\n                  <button onClick={() => onDownload(c.id)} className=\"p-2 hover:bg-gray-100 rounded\" title=\"Download\"><FiDownload /></button>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n          {data.length === 0 && (\r\n            <tr>\r\n              <td className=\"p-6 text-center text-gray-500\" colSpan={7}>No delivery challans found</td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction CardView({ data, selectedItems, expandedCards, onToggleSelection, onToggleExpansion, onView, onEdit, onDelete, onPrint, onDownload }) {\r\n  return (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\">\r\n      {data.map(c => (\r\n        <div key={c.id} className={`border rounded p-3 ${selectedItems.includes(c.id) ? 'ring-2 ring-indigo-400' : ''}`}>\r\n          <div className=\"flex items-start justify-between\">\r\n            <div>\r\n              <div className=\"text-xs text-gray-500\">Challan No</div>\r\n              <div className=\"font-medium\">{c.challanNumber || '-'}</div>\r\n            </div>\r\n            <div className=\"text-right\">\r\n              <div className=\"text-xs text-gray-500\">Date</div>\r\n              <div className=\"font-medium\">{c.date || '-'}</div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"mt-2 grid grid-cols-2 gap-3 text-sm\">\r\n            <div>\r\n              <div className=\"text-gray-500\">Vendor</div>\r\n              <div className=\"font-medium\">{c.vendorName || '-'}</div>\r\n            </div>\r\n            <div>\r\n              <div className=\"text-gray-500\">Reference</div>\r\n              <div className=\"font-medium\">{c.reference || '-'}</div>\r\n            </div>\r\n          </div>\r\n\r\n          {expandedCards[c.id] && (\r\n            <div className=\"mt-3 text-sm\">\r\n              <div className=\"text-gray-600 font-medium mb-1\">Items ({(c.items || []).length})</div>\r\n              <ul className=\"list-disc pl-4 space-y-1\">\r\n                {(c.items || []).map((it, i) => (\r\n                  <li key={i} className=\"text-gray-700\">{it.description} — {it.quantity} {it.unit}</li>\r\n                ))}\r\n              </ul>\r\n              {c.remarks && (\r\n                <div className=\"mt-2\">\r\n                  <div className=\"text-gray-500\">Remarks</div>\r\n                  <div className=\"whitespace-pre-wrap\">{c.remarks}</div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"mt-3 flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <input type=\"checkbox\" checked={selectedItems.includes(c.id)} onChange={() => onToggleSelection(c.id)} />\r\n              <button onClick={() => onToggleExpansion(c.id)} className=\"text-indigo-700 text-sm\">\r\n                {expandedCards[c.id] ? 'Show less' : 'Show details'}\r\n              </button>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <button onClick={() => onView(c.id)} className=\"p-2 hover:bg-gray-100 rounded\" title=\"View\"><FiEye /></button>\r\n              <button onClick={() => onEdit(c.id)} className=\"p-2 hover:bg-gray-100 rounded\" title=\"Edit\"><FiEdit2 /></button>\r\n              <button onClick={() => onDelete(c.id)} className=\"p-2 hover:bg-gray-100 rounded\" title=\"Delete\"><FiTrash2 /></button>\r\n              <button onClick={() => onPrint(c.id)} className=\"p-2 hover:bg-gray-100 rounded\" title=\"Print\"><FiPrinter /></button>\r\n              <button onClick={() => onDownload(c.id)} className=\"p-2 hover:bg-gray-100 rounded\" title=\"Download\"><FiDownload /></button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["DC_COLLECTION","DC_ACTIVITY_COLLECTION","normalizeChallanForSave","raw","safeItems","Array","isArray","items","map","it","quantity","Number","price","description","String","trim","hsnCode","unit","amount","toFixed","itemId","totalAmount","reduce","sum","totalQuantity","challanNumber","date","Date","toISOString","split","poId","poNumber","reference","vendorId","vendorName","vendorAddress","vehicleNo","driverName","remarks","amountInWords","mapChallanFromDoc","docSnap","id","data","async","logActivity","dcId","action","details","addDoc","collection","db","timestamp","serverTimestamp","_","getChallanById","snap","getDoc","doc","exists","createChallan","now","ref","createdAt","updatedAt","updateChallan","updateDoc","deleteChallan","deleteDoc","bulkDeleteChallans","ids","batch","writeBatch","forEach","delete","commit","DeliveryChallanList","showSuccess","showError","useNotification","navigate","useNavigate","loading","setLoading","useState","refreshing","setRefreshing","vendors","setVendors","challans","setChallans","search","setSearch","filters","setFilters","vendor","dateRange","viewMode","setViewMode","isMobile","setIsMobile","sortConfig","setSortConfig","key","direction","selectedItems","setSelectedItems","expandedCards","setExpandedCards","showFilters","setShowFilters","useEffect","fetchAll","onResize","window","innerWidth","addEventListener","removeEventListener","isRefresh","arguments","length","undefined","vSnap","cSnap","Promise","all","getDocs","query","orderBy","vList","docs","d","cList","error","console","filtered","useMemo","startOfToday","getFullYear","getMonth","getDate","startOfWeek","setDate","getDay","startOfMonth","filter","c","searchText","_vendors$find","_vendors$find2","find","v","name","companyName","getVendorName","toLowerCase","includes","cDate","sorted","sort","a","b","dir","av","toString","bv","localeCompare","toggleItemSelection","prev","x","clearSelection","handleDelete","_jsxs","className","children","_jsx","FiFileText","size","onClick","FiRefreshCw","_Fragment","FiGrid","FiList","Link","to","FiPlus","FiFilter","FiChevronUp","FiChevronDown","FiSearch","value","onChange","e","target","placeholder","f","displayName","bulkPrint","url","open","FiPrinter","bulkDownload","FiDownload","FiTrash2","CardView","onToggleSelection","onToggleExpansion","onView","onEdit","onDelete","onPrint","onDownload","TableView","onSelectAll","i","onClearAll","onSort","_ref","type","checked","title","FiEye","FiEdit2","colSpan","_ref2"],"sourceRoot":""}