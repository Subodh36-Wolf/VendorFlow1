"use strict";(self.webpackChunkvendor_management_system=self.webpackChunkvendor_management_system||[]).push([[273],{3273:(e,s,a)=>{a.r(s),a.d(s,{default:()=>m});var r=a(5043),t=a(8729),n=a(3216),l=a(5475),o=a(5472),i=a(791),d=a(5772),c=a(579);function m(){const[e,s]=(0,r.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",adminCode:""}),[a,m]=(0,r.useState)(""),[x,u]=(0,r.useState)(!1),[g,p]=(0,r.useState)(!1),[h,f]=(0,r.useState)(!1),[w,b]=(0,r.useState)(0),{signup:y}=(0,t.A)(),N=(0,n.Zp)(),v=e=>{const{name:a,value:r}=e.target;s(e=>({...e,[a]:r})),"password"===a&&j(r)},j=e=>{let s=0;e.length>=8&&s++,/[A-Z]/.test(e)&&s++,/[a-z]/.test(e)&&s++,/[0-9]/.test(e)&&s++,/[^A-Za-z0-9]/.test(e)&&s++,b(s)},C=()=>{switch(w){case 0:case 1:return{text:"Very Weak",color:"text-red-600"};case 2:return{text:"Weak",color:"text-orange-600"};case 3:return{text:"Fair",color:"text-yellow-600"};case 4:return{text:"Good",color:"text-blue-600"};case 5:return{text:"Strong",color:"text-green-600"};default:return{text:"",color:""}}};return(0,c.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-50 to-blue-100 py-12 px-4 sm:px-6 lg:px-8",children:(0,c.jsxs)("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("div",{className:"mx-auto h-12 w-12 bg-indigo-100 rounded-full flex items-center justify-center",children:(0,c.jsx)(d.JXP,{className:"h-6 w-6 text-indigo-600"})}),(0,c.jsx)("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Create Vendor Manager Account"}),(0,c.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["Already have an account?"," ",(0,c.jsx)(l.N_,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Sign in here"})]})]}),a&&(0,c.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-md",children:(0,c.jsxs)("div",{className:"flex",children:[(0,c.jsx)("div",{className:"flex-shrink-0",children:(0,c.jsx)("svg",{className:"h-5 w-5 text-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,c.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,c.jsx)("div",{className:"ml-3",children:(0,c.jsx)("p",{className:"text-sm text-red-700",children:a})})]})}),(0,c.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async function(s){if(s.preventDefault(),e.firstName.trim()?e.lastName.trim()?e.email.trim()?e.password.length<8?(m("Password must be at least 8 characters long"),0):e.password!==e.confirmPassword?(m("Passwords do not match"),0):"VMS2024"===e.adminCode||(m("Invalid vendor manager registration code"),0):(m("Email is required"),0):(m("Last name is required"),0):(m("First name is required"),0)){try{m(""),u(!0);const s=(await y(e.email,e.password)).user;await(0,o.BN)((0,o.H9)(i.db,"vendor_managers",s.uid),{firstName:e.firstName,lastName:e.lastName,email:e.email,role:"vendor_manager",createdAt:new Date,isActive:!0,permissions:{dashboard:!0,vendors:!0,contracts:!0,payments:!0,reports:!0,onboarding:!0}}),N("/admin/dashboard")}catch(a){console.error("Registration error:",a),"auth/email-already-in-use"===a.code?m("An account with this email already exists"):"auth/weak-password"===a.code?m("Password is too weak"):m("Failed to create account. Please try again.")}u(!1)}},children:[(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,c.jsx)(d.JXP,{className:"h-5 w-5 text-gray-400"})}),(0,c.jsx)("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:e.firstName,onChange:v,className:"pl-10 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"First name"})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),(0,c.jsx)("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:e.lastName,onChange:v,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Last name"})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,c.jsx)(d.pHD,{className:"h-5 w-5 text-gray-400"})}),(0,c.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:v,className:"pl-10 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"admin@example.com"})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,c.jsx)(d.F5$,{className:"h-5 w-5 text-gray-400"})}),(0,c.jsx)("input",{id:"password",name:"password",type:g?"text":"password",autoComplete:"new-password",required:!0,value:e.password,onChange:v,className:"pl-10 pr-10 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Password"}),(0,c.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>p(!g),children:g?(0,c.jsx)(d._NO,{className:"h-5 w-5 text-gray-400"}):(0,c.jsx)(d.Vap,{className:"h-5 w-5 text-gray-400"})})]}),e.password&&(0,c.jsxs)("div",{className:"mt-2",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,c.jsx)("span",{className:"text-xs text-gray-500",children:"Password strength:"}),(0,c.jsx)("span",{className:`text-xs font-medium ${C().color}`,children:C().text})]}),(0,c.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,c.jsx)("div",{className:`h-2 rounded-full transition-all duration-300 ${(()=>{switch(w){case 0:case 1:return"bg-red-500";case 2:return"bg-orange-500";case 3:return"bg-yellow-500";case 4:return"bg-blue-500";case 5:return"bg-green-500";default:return"bg-gray-300"}})()}`,style:{width:w/5*100+"%"}})})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,c.jsx)(d.F5$,{className:"h-5 w-5 text-gray-400"})}),(0,c.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:h?"text":"password",autoComplete:"new-password",required:!0,value:e.confirmPassword,onChange:v,className:"pl-10 pr-10 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Confirm password"}),(0,c.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>f(!h),children:h?(0,c.jsx)(d._NO,{className:"h-5 w-5 text-gray-400"}):(0,c.jsx)(d.Vap,{className:"h-5 w-5 text-gray-400"})})]}),e.confirmPassword&&e.password===e.confirmPassword&&(0,c.jsxs)("div",{className:"mt-1 flex items-center text-green-600",children:[(0,c.jsx)(d.YrT,{className:"h-4 w-4 mr-1"}),(0,c.jsx)("span",{className:"text-xs",children:"Passwords match"})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{htmlFor:"adminCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor Manager Registration Code"}),(0,c.jsx)("input",{id:"adminCode",name:"adminCode",type:"password",required:!0,value:e.adminCode,onChange:v,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Enter vendor manager code"}),(0,c.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Contact your system administrator for the vendor manager code"})]})]}),(0,c.jsx)("div",{children:(0,c.jsx)("button",{type:"submit",disabled:x,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 "+(x?"opacity-70 cursor-not-allowed":""),children:x?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,c.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,c.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Account..."]}):"Create Vendor Manager Account"})})]})]})})}}}]);
//# sourceMappingURL=273.cca650c4.chunk.js.map