"use strict";(self.webpackChunkvendor_management_system=self.webpackChunkvendor_management_system||[]).push([[320],{1320:(e,t,s)=>{s.r(t),s.d(t,{default:()=>n});var r=s(5043),i=s(5472),d=s(791),o=s(3505),a=s(5772),l=s(579);function n(){const{showSuccess:e,showError:t}=(0,o.hN)(),[s,n]=(0,r.useState)([]),[c,x]=(0,r.useState)(!0),[m,g]=(0,r.useState)(!1),[u,h]=(0,r.useState)(null),[b,p]=(0,r.useState)("all"),[f,y]=(0,r.useState)((new Date).toISOString().split("T")[0]),[j,v]=(0,r.useState)({title:"",description:"",priority:"medium",assignedTo:"",dueDate:(new Date).toISOString().split("T")[0],category:"general"});(0,r.useEffect)(()=>{N()},[f]);const N=async()=>{try{x(!0);const e=new Date(f);e.setHours(0,0,0,0);const t=new Date(f);t.setHours(23,59,59,999);const s=(0,i.P)((0,i.rJ)(d.db,"dailyTodos"),(0,i._M)("dueDate",">=",e),(0,i._M)("dueDate","<=",t),(0,i.My)("dueDate","asc")),r=await(0,i.GG)(s),o=[];r.forEach(e=>{o.push({id:e.id,...e.data()})}),n(o)}catch(e){console.error("Error fetching todos:",e),t("Failed to load todos")}finally{x(!1)}},w=()=>{v({title:"",description:"",priority:"medium",assignedTo:"",dueDate:f,category:"general"}),g(!1),h(null)},T=e=>{const{name:t,value:s}=e.target;v(e=>({...e,[t]:s}))},D=e=>{switch(e){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},k=e=>{switch(e){case"vendor":return"bg-blue-100 text-blue-800";case"po":return"bg-purple-100 text-purple-800";case"job":return"bg-indigo-100 text-indigo-800";default:return"bg-gray-100 text-gray-800"}},z=s.filter(e=>"completed"===b?e.completed:"pending"!==b||!e.completed),C={total:s.length,completed:s.filter(e=>e.completed).length,pending:s.filter(e=>!e.completed).length,high:s.filter(e=>"high"===e.priority&&!e.completed).length};return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center",children:(0,l.jsx)(a.Wm,{className:"text-white",size:20})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Daily Todo List"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Manage daily tasks and assignments"})]})]}),(0,l.jsxs)("div",{className:"flex space-x-3",children:[(0,l.jsxs)("button",{onClick:N,className:"inline-flex items-center px-4 py-3 bg-gradient-to-r from-gray-500 to-slate-600 text-white font-medium rounded-xl hover:from-gray-600 hover:to-slate-700 transition-all duration-200 shadow-sm hover:shadow-md",children:[(0,l.jsx)(a.jTZ,{className:"mr-2",size:16}),"Refresh"]}),(0,l.jsxs)("button",{onClick:()=>g(!0),className:"inline-flex items-center px-4 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-medium rounded-xl hover:from-indigo-600 hover:to-purple-700 transition-all duration-200 shadow-sm hover:shadow-md",children:[(0,l.jsx)(a.GGD,{className:"mr-2",size:16}),"Add Todo"]})]})]})}),(0,l.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,l.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-xl flex items-center justify-center",children:(0,l.jsx)(a.wIk,{className:"text-white",size:16})}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Date Selection & Overview"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[(0,l.jsxs)("div",{className:"lg:col-span-1",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Date"}),(0,l.jsx)("input",{type:"date",value:f,onChange:e=>y(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 hover:border-gray-400"})]}),(0,l.jsxs)("div",{className:"lg:col-span-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,l.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-xl border border-blue-200",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm font-medium text-blue-700",children:"Total Tasks"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-blue-900",children:C.total})]}),(0,l.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center",children:(0,l.jsx)(a.x_j,{className:"text-white",size:20})})]})}),(0,l.jsx)("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-6 rounded-xl border border-green-200",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm font-medium text-green-700",children:"Completed"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-green-900",children:C.completed})]}),(0,l.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center",children:(0,l.jsx)(a.A3x,{className:"text-white",size:20})})]})}),(0,l.jsx)("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 p-6 rounded-xl border border-yellow-200",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm font-medium text-yellow-700",children:"Pending"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-yellow-900",children:C.pending})]}),(0,l.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-xl flex items-center justify-center",children:(0,l.jsx)(a.Ohp,{className:"text-white",size:20})})]})}),(0,l.jsx)("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 p-6 rounded-xl border border-red-200",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm font-medium text-red-700",children:"High Priority"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-red-900",children:C.high})]}),(0,l.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-red-500 to-rose-600 rounded-xl flex items-center justify-center",children:(0,l.jsx)(a.QsL,{className:"text-white",size:20})})]})})]})]})]}),(0,l.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,l.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center",children:(0,l.jsx)(a.K7R,{className:"text-white",size:16})}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Filter Tasks"})]}),(0,l.jsx)("div",{className:"flex space-x-3",children:["all","pending","completed"].map(e=>(0,l.jsx)("button",{onClick:()=>p(e),className:"px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 "+(b===e?"bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-sm":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),(0,l.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,l.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-500 to-red-600 rounded-xl flex items-center justify-center",children:(0,l.jsx)(a.z1n,{className:"text-white",size:16})}),(0,l.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:["Tasks for ",new Date(f).toLocaleDateString()]})]}),c?(0,l.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-500"})}):z.length>0?(0,l.jsx)("div",{className:"space-y-3",children:z.map(s=>(0,l.jsx)("div",{className:"p-5 border rounded-xl transition-all duration-200 hover:shadow-md "+(s.completed?"bg-gradient-to-br from-gray-50 to-slate-50 border-gray-200":"bg-white border-gray-300 hover:border-indigo-300"),children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex items-start space-x-3 flex-1",children:[(0,l.jsx)("button",{onClick:()=>(async(s,r)=>{try{await(0,i.mZ)((0,i.H9)(d.db,"dailyTodos",s),{completed:!r,updatedAt:new Date}),n(e=>e.map(e=>e.id===s?{...e,completed:!r}:e)),e("Todo marked as "+(r?"pending":"completed"))}catch(o){console.error("Error updating todo:",o),t("Failed to update todo")}})(s.id,s.completed),className:"mt-1 p-2 rounded-xl transition-all duration-200 "+(s.completed?"bg-gradient-to-br from-green-500 to-emerald-600 text-white shadow-sm":"bg-gray-100 text-gray-400 hover:bg-gradient-to-br hover:from-green-500 hover:to-emerald-600 hover:text-white hover:shadow-sm"),children:(0,l.jsx)(a.YrT,{size:16})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h3",{className:"font-medium "+(s.completed?"text-gray-500 line-through":"text-gray-900"),children:s.title}),s.description&&(0,l.jsx)("p",{className:"text-sm mt-1 "+(s.completed?"text-gray-400":"text-gray-600"),children:s.description}),(0,l.jsxs)("div",{className:"flex items-center space-x-2 mt-3",children:[(0,l.jsxs)("span",{className:`inline-flex items-center px-3 py-1 rounded-xl text-xs font-medium ${D(s.priority)}`,children:[(0,l.jsx)(a.QsL,{className:"mr-1",size:10}),s.priority]}),(0,l.jsx)("span",{className:`inline-flex items-center px-3 py-1 rounded-xl text-xs font-medium ${k(s.category)}`,children:s.category}),s.assignedTo&&(0,l.jsxs)("span",{className:"inline-flex items-center px-3 py-1 bg-blue-50 text-blue-700 rounded-xl text-xs font-medium",children:[(0,l.jsx)(a.JXP,{className:"mr-1",size:10}),s.assignedTo]})]})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,l.jsx)("button",{onClick:()=>(e=>{var t,s,r;v({title:e.title,description:e.description||"",priority:e.priority,assignedTo:e.assignedTo||"",dueDate:(null===(t=e.dueDate)||void 0===t||null===(s=t.toDate)||void 0===s||null===(r=s.call(t))||void 0===r?void 0:r.toISOString().split("T")[0])||f,category:e.category||"general"}),h(e),g(!0)})(s),className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl transition-all duration-200",title:"Edit Todo",children:(0,l.jsx)(a.WXf,{size:16})}),(0,l.jsx)("button",{onClick:()=>(async s=>{if(window.confirm("Are you sure you want to delete this todo?"))try{await(0,i.kd)((0,i.H9)(d.db,"dailyTodos",s)),n(e=>e.filter(e=>e.id!==s)),e("Todo deleted successfully")}catch(r){console.error("Error deleting todo:",r),t("Failed to delete todo")}})(s.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all duration-200",title:"Delete Todo",children:(0,l.jsx)(a.IXo,{size:16})})]})]})},s.id))}):(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-200 to-gray-300 rounded-xl flex items-center justify-center mx-auto mb-4",children:(0,l.jsx)(a.wIk,{className:"text-gray-500",size:24})}),(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No todos for this date"}),(0,l.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Get started by creating a new todo for today."}),(0,l.jsxs)("button",{onClick:()=>g(!0),className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-medium rounded-xl hover:from-indigo-600 hover:to-purple-700 transition-all duration-200 shadow-sm hover:shadow-md",children:[(0,l.jsx)(a.GGD,{className:"mr-2",size:16}),"Add First Todo"]})]})]})}),(m||u)&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl p-6 w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center",children:(0,l.jsx)(a.GGD,{className:"text-white",size:20})}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:u?"Edit Todo":"Add New Todo"})]}),(0,l.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),j.title.trim())try{const t={...j,dueDate:new Date(j.dueDate),completed:!1,createdAt:new Date,updatedAt:new Date};u?(await(0,i.mZ)((0,i.H9)(d.db,"dailyTodos",u.id),{...t,createdAt:u.createdAt}),e("Todo updated successfully")):(await(0,i.gS)((0,i.rJ)(d.db,"dailyTodos"),t),e("Todo added successfully")),w(),N()}catch(r){console.error("Error saving todo:",r),t("Failed to save todo")}else t("Please enter a title")},className:"space-y-5",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),(0,l.jsx)("input",{type:"text",name:"title",value:j.title,onChange:T,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 hover:border-gray-400",placeholder:"Enter todo title...",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,l.jsx)("textarea",{name:"description",value:j.description,onChange:T,rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 hover:border-gray-400 resize-none",placeholder:"Enter todo description..."})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),(0,l.jsxs)("select",{name:"priority",value:j.priority,onChange:T,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 hover:border-gray-400 bg-white",children:[(0,l.jsx)("option",{value:"low",children:"\ud83d\udfe2 Low"}),(0,l.jsx)("option",{value:"medium",children:"\ud83d\udfe1 Medium"}),(0,l.jsx)("option",{value:"high",children:"\ud83d\udd34 High"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,l.jsxs)("select",{name:"category",value:j.category,onChange:T,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 hover:border-gray-400 bg-white",children:[(0,l.jsx)("option",{value:"general",children:"\ud83d\udccb General"}),(0,l.jsx)("option",{value:"work",children:"\ud83d\udcbc Work"}),(0,l.jsx)("option",{value:"personal",children:"\ud83d\udc64 Personal"}),(0,l.jsx)("option",{value:"urgent",children:"\u26a1 Urgent"})]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned To"}),(0,l.jsx)("input",{type:"text",name:"assignedTo",value:j.assignedTo,onChange:T,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 hover:border-gray-400",placeholder:"Assign to..."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date"}),(0,l.jsx)("input",{type:"date",name:"dueDate",value:j.dueDate,onChange:T,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 hover:border-gray-400"})]})]}),(0,l.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[(0,l.jsx)("button",{type:"button",onClick:()=>{g(!1),h(null),w()},className:"px-6 py-3 text-gray-700 bg-gray-100 font-medium rounded-xl hover:bg-gray-200 transition-all duration-200",children:"Cancel"}),(0,l.jsxs)("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-medium rounded-xl hover:from-indigo-600 hover:to-purple-700 transition-all duration-200 shadow-sm hover:shadow-md",children:[u?"Update":"Add"," Todo"]})]})]})]})})]})}}}]);
//# sourceMappingURL=320.0e9eba33.chunk.js.map