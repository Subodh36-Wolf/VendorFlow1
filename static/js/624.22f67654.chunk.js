"use strict";(self.webpackChunkvendor_management_system=self.webpackChunkvendor_management_system||[]).push([[624],{2624:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Z});var a=s(5043),r=s(5472),n=s(791),i=s(3216),l=s(5475),d=(s(8147),s(3505)),o=s(9786),c=s(5772),x=s(579);function m(e){let{collapsed:t,onToggle:s,mobileMenuOpen:r,onMobileClose:n}=e;const l=(0,i.zy)(),d=(0,i.Zp)(),[m,g]=(0,a.useState)({vendors:!1,operations:!1,management:!1,reports:!1}),j=e=>{g(t=>({...t,[e]:!t[e]}))},p=e=>l.pathname===e,v=e=>e.some(e=>l.pathname.startsWith(e));return(0,x.jsxs)("div",{className:`fixed inset-y-0 left-0 transform ${r?"translate-x-0":"-translate-x-full"} \n      md:relative md:translate-x-0 transition-transform duration-200 ease-in-out z-30 \n      ${t?"w-16":"w-64"} bg-gray-900 text-white shadow-lg`,children:[(0,x.jsx)("div",{className:"p-4 border-b border-gray-700",children:(0,x.jsxs)("div",{className:"flex items-center justify-between",children:[t?(0,x.jsx)("h2",{className:"text-xl font-bold text-white mx-auto",children:"VM"}):(0,x.jsx)("h2",{className:"text-xl font-bold text-white",children:"VMT Admin"}),(0,x.jsx)("button",{onClick:s,className:"p-1 rounded hover:bg-gray-700 hidden md:block",children:t?(0,x.jsx)(c.ND1,{size:20}):(0,x.jsx)(c.yGN,{size:20})}),(0,x.jsx)("button",{onClick:n,className:"p-1 rounded hover:bg-gray-700 md:hidden",children:(0,x.jsx)(c.yGN,{size:20})})]})}),(0,x.jsxs)("nav",{className:"flex-1 overflow-y-auto pb-24",children:[(0,x.jsx)("div",{className:"px-2 py-2",children:(0,x.jsx)(u,{to:"/admin/dashboard",icon:(0,x.jsx)(c.QPV,{size:20}),text:"Dashboard",active:p("/admin/dashboard"),collapsed:t})}),(0,x.jsxs)(h,{title:"Vendor Management",icon:(0,x.jsx)(c.cfS,{size:16}),collapsed:t,expanded:m.vendors,onToggle:()=>j("vendors"),active:v(["/admin/vendors","/admin/add-vendor","/admin/vendor-performance"]),children:[(0,x.jsx)(u,{to:"/admin/vendors",icon:(0,x.jsx)(c.cfS,{size:18}),text:"All Vendors",active:p("/admin/vendors"),collapsed:t,isChild:!0}),(0,x.jsx)(u,{to:"/admin/add-vendor",icon:(0,x.jsx)(c.GGD,{size:18}),text:"Add Vendor",active:p("/admin/add-vendor"),collapsed:t,isChild:!0}),(0,x.jsx)(u,{to:"/admin/vendor-performance",icon:(0,x.jsx)(c.ARf,{size:18}),text:"Performance",active:p("/admin/vendor-performance"),collapsed:t,isChild:!0})]}),(0,x.jsxs)(h,{title:"Operations Management",icon:(0,x.jsx)(c.ydS,{size:16}),collapsed:t,expanded:m.operations,onToggle:()=>j("operations"),active:v(["/admin/purchase-orders","/admin/create-po","/admin/delivery-challans","/admin/create-challan","/admin/items"]),children:[(0,x.jsx)(u,{to:"/admin/purchase-orders",icon:(0,x.jsx)(c.jH2,{size:18}),text:"All POs",active:p("/admin/purchase-orders"),collapsed:t,isChild:!0}),(0,x.jsx)(u,{to:"/admin/create-po",icon:(0,x.jsx)(c.z8N,{size:18}),text:"Create PO",active:p("/admin/create-po"),collapsed:t,isChild:!0}),(0,x.jsx)(u,{to:"/admin/delivery-challans",icon:(0,x.jsx)(c.ydS,{size:18}),text:"Delivery Challans",active:p("/admin/delivery-challans"),collapsed:t,isChild:!0}),(0,x.jsx)(u,{to:"/admin/create-challan",icon:(0,x.jsx)(c.GGD,{size:18}),text:"Create Challan",active:p("/admin/create-challan"),collapsed:t,isChild:!0}),(0,x.jsx)(u,{to:"/admin/items",icon:(0,x.jsx)(c.ydS,{size:18}),text:"Items",active:p("/admin/items"),collapsed:t,isChild:!0})]}),(0,x.jsxs)(h,{title:"Management Tools",icon:(0,x.jsx)(c.VSk,{size:16}),collapsed:t,expanded:m.management,onToggle:()=>j("management"),active:v(["/admin/status-manager","/admin/daily-todos","/admin/reports"]),children:[(0,x.jsx)(u,{to:"/admin/status-manager",icon:(0,x.jsx)(c.A3x,{size:18}),text:"Status Manager",active:p("/admin/status-manager"),collapsed:t,isChild:!0}),(0,x.jsx)(u,{to:"/admin/daily-todos",icon:(0,x.jsx)(c.wIk,{size:18}),text:"Daily Todos",active:p("/admin/daily-todos"),collapsed:t,isChild:!0}),(0,x.jsx)(u,{to:"/admin/reports",icon:(0,x.jsx)(c.vQY,{size:18}),text:"Reports",active:p("/admin/reports"),collapsed:t,isChild:!0})]}),(0,x.jsxs)(h,{title:"Reports & Analytics",icon:(0,x.jsx)(c.vQY,{size:16}),collapsed:t,expanded:m.reports,onToggle:()=>j("reports"),active:v(["/admin/analytics","/admin/customers"]),children:[(0,x.jsx)(u,{to:"/admin/analytics",icon:(0,x.jsx)(c.ARf,{size:18}),text:"Analytics",active:p("/admin/analytics"),collapsed:t,isChild:!0}),(0,x.jsx)(u,{to:"/admin/customers",icon:(0,x.jsx)(c.JXP,{size:18}),text:"Customers",active:p("/admin/customers"),collapsed:t,isChild:!0})]}),t&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"border-t border-indigo-600 mt-4 pt-4"}),(0,x.jsx)(u,{to:"/admin/add-vendor",icon:(0,x.jsx)(c.GGD,{size:20}),text:"Add Vendor",active:p("/admin/add-vendor"),collapsed:t,tooltip:"Add Vendor"}),(0,x.jsx)(u,{to:"/admin/assign-job",icon:(0,x.jsx)(c.ydS,{size:20}),text:"Assign Job",active:p("/admin/assign-job"),collapsed:t,tooltip:"Assign Job"}),(0,x.jsx)(u,{to:"/admin/create-po",icon:(0,x.jsx)(c.jH2,{size:20}),text:"Create PO",active:p("/admin/create-po"),collapsed:t,tooltip:"Create PO"})]})]}),(0,x.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-3 border-t border-gray-700 bg-gray-800",children:(0,x.jsxs)("button",{onClick:async()=>{try{const e=(0,o.xI)();await(0,o.CI)(e),d("/admin/login")}catch(e){console.error("Error signing out:",e)}},className:"flex items-center p-2 rounded transition-colors w-full hover:bg-gray-700",title:t?"Logout":void 0,children:[(0,x.jsx)("span",{className:""+(t?"mx-auto":"mr-3"),children:(0,x.jsx)(c.QeK,{size:20})}),!t&&(0,x.jsx)("span",{className:"font-medium",children:"Logout"})]})})]})}function h(e){let{title:t,icon:s,children:a,collapsed:r,expanded:n,onToggle:i,active:l}=e;return r?null:(0,x.jsxs)("div",{className:"mt-2",children:[(0,x.jsxs)("button",{onClick:i,className:"flex items-center justify-between w-full px-3 py-2 text-sm font-medium transition-colors\n          "+(l?"text-white bg-gray-700":"text-gray-300 hover:text-white hover:bg-gray-800"),children:[(0,x.jsxs)("div",{className:"flex items-center",children:[s,(0,x.jsx)("span",{className:"ml-2",children:t})]}),n?(0,x.jsx)(c.fK4,{size:14}):(0,x.jsx)(c.fOo,{size:14})]}),n&&(0,x.jsx)("div",{className:"mt-1 pb-2",children:a})]})}function u(e){let{to:t,icon:s,text:a,active:r,collapsed:n,isChild:i=!1,tooltip:d}=e;const o=`flex items-center transition-colors relative group\n    ${i?"ml-6 py-2 px-3":"p-3 mx-2 my-1 rounded"}\n    ${r?"bg-indigo-600 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`;return(0,x.jsxs)(l.N_,{to:t,className:o,title:n?d||a:void 0,children:[(0,x.jsx)("span",{className:(n?"mx-auto":"mr-3")+" flex-shrink-0",children:s}),!n&&(0,x.jsx)("span",{className:(i?"text-sm":"font-medium")+" truncate",children:a}),n&&(d||a)&&(0,x.jsx)("div",{className:"absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50",children:d||a})]})}var g=s(108),j=s(5748),p=s(7734),v=s(2185),b=s(760),y=s(379),f=s(95),N=s(8791),w=s(6992),C=s(6102),S=s(7869),z=s(2291),D=s(6163),A=s(877),k=s(5963);const q=(0,a.lazy)(()=>s.e(183).then(s.bind(s,8183))),R=(0,a.lazy)(()=>s.e(849).then(s.bind(s,9849))),E=(0,a.lazy)(()=>s.e(1).then(s.bind(s,8001))),V=(0,a.lazy)(()=>s.e(207).then(s.bind(s,4207))),P=(0,a.lazy)(()=>s.e(563).then(s.bind(s,3563))),T=(0,a.lazy)(()=>s.e(519).then(s.bind(s,7519))),G=(0,a.lazy)(()=>s.e(542).then(s.bind(s,542))),F=(0,a.lazy)(()=>s.e(929).then(s.bind(s,9929))),L=(0,a.lazy)(()=>s.e(660).then(s.bind(s,9660))),M=(0,a.lazy)(()=>Promise.all([s.e(389),s.e(434)]).then(s.bind(s,8434))),$=(0,a.lazy)(()=>s.e(797).then(s.bind(s,4797))),O=(0,a.lazy)(()=>s.e(452).then(s.bind(s,8452))),I=(0,a.lazy)(()=>s.e(196).then(s.bind(s,7196))),J=(0,a.lazy)(()=>s.e(320).then(s.bind(s,1320))),B=(0,a.lazy)(()=>s.e(990).then(s.bind(s,9990))),K=(0,a.lazy)(()=>s.e(352).then(s.bind(s,7352))),H=(0,a.lazy)(()=>s.e(318).then(s.bind(s,2318))),Q=(0,a.lazy)(()=>s.e(664).then(s.bind(s,8664))),U=(0,a.lazy)(()=>s.e(38).then(s.bind(s,8038))),W=(0,a.lazy)(()=>s.e(404).then(s.bind(s,1404)));function Z(){return(0,x.jsx)(d.ph,{children:(0,x.jsx)(a.Suspense,{fallback:(0,x.jsx)("div",{className:"p-6",children:"Loading..."}),children:(0,x.jsxs)(i.BV,{children:[(0,x.jsx)(i.qh,{path:"items",element:(0,x.jsx)(ae,{title:"Items",activeNav:"purchase-orders",children:(0,x.jsx)(U,{})})}),(0,x.jsx)(i.qh,{path:"items/new",element:(0,x.jsx)(ae,{title:"Add Item",activeNav:"purchase-orders",children:(0,x.jsx)(W,{})})}),(0,x.jsx)(i.qh,{path:"items/:id/edit",element:(0,x.jsx)(ae,{title:"Edit Item",activeNav:"purchase-orders",children:(0,x.jsx)(W,{})})}),(0,x.jsx)(i.qh,{path:"vendors",element:(0,x.jsx)(ae,{title:"Vendors",activeNav:"vendors",children:(0,x.jsx)(E,{})})}),(0,x.jsx)(i.qh,{path:"add-vendor",element:(0,x.jsx)(ae,{title:"Add Vendor",activeNav:"vendors",children:(0,x.jsx)(V,{})})}),(0,x.jsx)(i.qh,{path:"edit-vendor/:id",element:(0,x.jsx)(ae,{title:"Edit Vendor",activeNav:"vendors",children:(0,x.jsx)(V,{})})}),(0,x.jsx)(i.qh,{path:"vendor-bulk-operations",element:(0,x.jsx)(ae,{title:"Bulk Operations",activeNav:"vendor-bulk-operations",children:(0,x.jsx)(P,{})})}),(0,x.jsx)(i.qh,{path:"job-assignments",element:(0,x.jsx)(ae,{title:"Job Assignments",activeNav:"job-assignments",children:(0,x.jsx)(R,{})})}),(0,x.jsx)(i.qh,{path:"assign-job",element:(0,x.jsx)(ae,{title:"Assign Job",activeNav:"job-assignments",children:(0,x.jsx)(q,{})})}),(0,x.jsx)(i.qh,{path:"purchase-orders",element:(0,x.jsx)(ae,{title:"Purchase Orders",activeNav:"purchase-orders",children:(0,x.jsx)(L,{})})}),(0,x.jsx)(i.qh,{path:"create-po",element:(0,x.jsx)(ae,{title:"Create Purchase Order",activeNav:"purchase-orders",children:(0,x.jsx)(M,{})})}),(0,x.jsx)(i.qh,{path:"edit-po/:id",element:(0,x.jsx)(ae,{title:"Edit Purchase Order",activeNav:"purchase-orders",children:(0,x.jsx)(M,{})})}),(0,x.jsx)(i.qh,{path:"vendor-preview/:id",element:(0,x.jsx)(ae,{title:"Vendor Details",activeNav:"vendors",children:(0,x.jsx)($,{})})}),(0,x.jsx)(i.qh,{path:"po-details/:id",element:(0,x.jsx)(ae,{title:"PO Details",activeNav:"purchase-orders",children:(0,x.jsx)(O,{})})}),(0,x.jsx)(i.qh,{path:"status-manager",element:(0,x.jsx)(ae,{title:"Status Manager",activeNav:"status-manager",children:(0,x.jsx)(I,{})})}),(0,x.jsx)(i.qh,{path:"daily-todos",element:(0,x.jsx)(ae,{title:"Daily Todos",activeNav:"daily-todos",children:(0,x.jsx)(J,{})})}),(0,x.jsx)(i.qh,{path:"reports",element:(0,x.jsx)(ae,{title:"Reports",activeNav:"reports",children:(0,x.jsx)(B,{})})}),(0,x.jsx)(i.qh,{path:"dashboard",element:(0,x.jsx)(_,{})}),(0,x.jsx)(i.qh,{path:"contracts",element:(0,x.jsx)(re,{})}),(0,x.jsx)(i.qh,{path:"vendor-bulk-operations",element:(0,x.jsx)(P,{})}),(0,x.jsx)(i.qh,{path:"vendor-performance",element:(0,x.jsx)(ae,{title:"Vendor Performance",activeNav:"vendors",children:(0,x.jsx)(G,{})})}),(0,x.jsx)(i.qh,{path:"vendor-performance/:id",element:(0,x.jsx)(T,{})}),(0,x.jsx)(i.qh,{path:"vendor-todo",element:(0,x.jsx)(F,{})}),(0,x.jsx)(i.qh,{path:"analytics",element:(0,x.jsx)(se,{})}),(0,x.jsx)(i.qh,{path:"delivery-challans",element:(0,x.jsx)(ae,{title:"Delivery Challans",activeNav:"purchase-orders",children:(0,x.jsx)(K,{})})}),(0,x.jsx)(i.qh,{path:"create-challan",element:(0,x.jsx)(ae,{title:"Create Delivery Challan",activeNav:"purchase-orders",children:(0,x.jsx)(H,{})})}),(0,x.jsx)(i.qh,{path:"edit-challan/:id",element:(0,x.jsx)(ae,{title:"Edit Delivery Challan",activeNav:"purchase-orders",children:(0,x.jsx)(H,{})})}),(0,x.jsx)(i.qh,{path:"challan-details/:id",element:(0,x.jsx)(ae,{title:"Challan Details",activeNav:"purchase-orders",children:(0,x.jsx)(Q,{})})}),(0,x.jsx)(i.qh,{path:"*",element:(0,x.jsx)(_,{})})]})})})}function _(){const{showSuccess:e,showError:t,showInfo:s}=(0,d.hN)(),[i,o]=(0,a.useState)({totalVendors:0,activeVendors:0,pendingVendors:0,totalContracts:0,activeContracts:0,totalSpend:0}),[m,h]=(0,a.useState)(!0),[u,g]=(0,a.useState)(null),[j,p]=(0,a.useState)([]),[v,b]=(0,a.useState)(!1),[y,f]=(0,a.useState)(null),N=async function(){let s=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{s?b(!0):h(!0),g(null);const[t,a]=await Promise.all([(0,r.GG)((0,r.rJ)(n.db,"vendors")),(0,r.GG)((0,r.P)((0,r.rJ)(n.db,"contracts"),(0,r.My)("createdAt","desc")))]),i=[];let l=0,d=0,c=0,x=0;const m={},u={};t.forEach(e=>{const t={id:e.id,...e.data()};i.push(t),"active"===t.status&&l++,"pending"===t.status&&d++;const s=t.category||"Unknown";m[s]=(m[s]||0)+1}),a.forEach(e=>{const t={id:e.id,...e.data()};if("active"===t.status&&x++,t.value&&!isNaN(parseFloat(t.value))&&(c+=parseFloat(t.value)),t.createdAt){const e=(t.createdAt.toDate?t.createdAt.toDate():new Date(t.createdAt)).toLocaleDateString("en-US",{year:"numeric",month:"short"}),s=parseFloat(t.value)||0;u[e]=(u[e]||0)+s}});const j=i.filter(e=>e.createdAt).sort((e,t)=>{var s,a;const r=null!==(s=e.createdAt)&&void 0!==s&&s.toDate?e.createdAt.toDate():new Date(e.createdAt);return(null!==(a=t.createdAt)&&void 0!==a&&a.toDate?t.createdAt.toDate():new Date(t.createdAt))-r}).slice(0,5);p(j),o({totalVendors:t.size,activeVendors:l,pendingVendors:d,totalContracts:a.size,activeContracts:x,totalSpend:c,vendorDistribution:m,monthlySpend:u}),f(new Date),s&&e("Dashboard data refreshed successfully")}catch(u){console.error("Error fetching dashboard stats:",u);const s=u.message||"Failed to load dashboard data";g(s),t(`Dashboard Error: ${s}`)}finally{h(!1),b(!1)}};(0,a.useEffect)(()=>{N();const e=setInterval(()=>N(!0),3e5);return()=>clearInterval(e)},[]);const w=()=>{N(!0)};return(0,x.jsx)(ae,{title:"Dashboard",activeNav:"dashboard",children:(0,x.jsxs)("div",{className:"p-6",children:[(0,x.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,x.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Dashboard Overview"}),(0,x.jsxs)("div",{className:"flex items-center space-x-4",children:[y&&(0,x.jsxs)("span",{className:"text-sm text-gray-500",children:["Last updated: ",y.toLocaleTimeString()]}),(0,x.jsxs)("button",{onClick:w,disabled:v,className:"flex items-center px-3 py-2 bg-indigo-100 text-indigo-700 rounded-lg hover:bg-indigo-200 disabled:opacity-50 transition-colors",children:[(0,x.jsx)(c.jTZ,{className:"mr-2 "+(v?"animate-spin":"")}),v?"Refreshing...":"Refresh"]})]})]}),u&&(0,x.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)(c.y3G,{className:"text-red-600 mr-3"}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error loading dashboard data"}),(0,x.jsx)("p",{className:"text-sm text-red-700 mt-1",children:u})]}),(0,x.jsx)("button",{onClick:w,className:"ml-auto text-red-600 hover:text-red-800",children:(0,x.jsx)(c.jTZ,{className:"h-5 w-5"})})]})}),m?(0,x.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,x.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6 mb-8",children:[(0,x.jsx)(te,{title:"Total Vendors",value:i.totalVendors,icon:(0,x.jsx)(c.cfS,{className:"text-indigo-600"}),color:"indigo",change:"+3 this week"}),(0,x.jsx)(te,{title:"Active Vendors",value:i.activeVendors,icon:(0,x.jsx)(c.A3x,{className:"text-green-600"}),color:"green",change:"+12% from last month"}),(0,x.jsx)(te,{title:"Pending Vendors",value:i.pendingVendors,icon:(0,x.jsx)(c.Ohp,{className:"text-yellow-600"}),color:"yellow",change:"Need review"}),(0,x.jsx)(te,{title:"Total Contracts",value:i.totalContracts,icon:(0,x.jsx)(c.jH2,{className:"text-blue-600"}),color:"blue",change:"+5 this month"}),(0,x.jsx)(te,{title:"Active Contracts",value:i.activeContracts,icon:(0,x.jsx)(c.QuH,{className:"text-purple-600"}),color:"purple",change:"Currently running"}),(0,x.jsx)(te,{title:"Total Spend",value:`\u20b9${i.totalSpend.toLocaleString()}`,icon:(0,x.jsx)(c.lZI,{className:"text-red-600"}),color:"red",change:"+8% from last month"})]}),(0,x.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[(0,x.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,x.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,x.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Monthly Spend Overview"}),(0,x.jsxs)("select",{className:"text-sm border border-gray-300 rounded-md px-3 py-1",children:[(0,x.jsx)("option",{children:"Last 6 months"}),(0,x.jsx)("option",{children:"Last 12 months"}),(0,x.jsx)("option",{children:"This year"})]})]}),(0,x.jsx)("div",{className:"h-64",children:(0,x.jsx)(ne,{data:i.monthlySpend})})]}),(0,x.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,x.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Vendor Categories"}),(0,x.jsx)("div",{className:"h-64",children:(0,x.jsx)(ie,{data:i.vendorDistribution})})]})]}),(0,x.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,x.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,x.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Recent Vendors"}),(0,x.jsx)(l.N_,{to:"/admin/vendors",className:"text-sm text-indigo-600 hover:text-indigo-800",children:"View all"})]}),j.length>0?(0,x.jsx)("div",{className:"overflow-hidden",children:(0,x.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,x.jsx)("thead",{className:"bg-gray-50",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendor Name"}),(0,x.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,x.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,x.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Added"})]})}),(0,x.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(e=>{var t;return(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name||"Unknown Vendor"}),(0,x.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:e.category||"N/A"}),(0,x.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,x.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full \n                              "+("active"===e.status?"bg-green-100 text-green-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.status})}),(0,x.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:null===(t=e.createdAt)||void 0===t?void 0:t.toDate().toLocaleDateString()})]},e.id)})})]})}):(0,x.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,x.jsx)(c.S8s,{className:"mx-auto h-12 w-12 mb-4"}),(0,x.jsx)("p",{children:"No recent vendors found"})]})]})]})]})})}function X(e){let{data:t}=e;return t&&0!==t.length?(0,x.jsx)(g.u,{width:"100%",height:"100%",children:(0,x.jsxs)(j.b,{data:t,children:[(0,x.jsx)(p.d,{strokeDasharray:"3 3"}),(0,x.jsx)(v.W,{dataKey:"date"}),(0,x.jsx)(b.h,{}),(0,x.jsx)(y.m,{}),(0,x.jsx)(f.s,{}),(0,x.jsx)(N.N,{type:"monotone",dataKey:"requests",stroke:"#4F46E5",strokeWidth:2}),(0,x.jsx)(N.N,{type:"monotone",dataKey:"completed",stroke:"#10B981",strokeWidth:2})]})}):(0,x.jsx)("div",{className:"h-full flex items-center justify-center bg-gray-50 rounded-lg",children:(0,x.jsxs)("div",{className:"text-center text-gray-500",children:[(0,x.jsx)(c.vQY,{className:"mx-auto h-12 w-12 mb-2"}),(0,x.jsx)("p",{children:"No trend data available"})]})})}function Y(e){let{data:t}=e;const s=[{name:"Completed",value:t.completedRequests||0,color:"#10B981"},{name:"Pending",value:t.pendingRequests||0,color:"#F59E0B"},{name:"In Progress",value:t.inProgressRequests||0,color:"#06B6D4"}].filter(e=>e.value>0);return 0===s.length?(0,x.jsx)("div",{className:"h-full flex items-center justify-center bg-gray-50 rounded-lg",children:(0,x.jsxs)("div",{className:"text-center text-gray-500",children:[(0,x.jsx)(c.eXT,{className:"mx-auto h-12 w-12 mb-2"}),(0,x.jsx)("p",{children:"No status data available"})]})}):(0,x.jsx)(g.u,{width:"100%",height:"100%",children:(0,x.jsxs)(w.r,{children:[(0,x.jsx)(C.F,{data:s,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:s}=e;return`${t} ${(100*s).toFixed(0)}%`},outerRadius:80,fill:"#8884d8",dataKey:"value",children:s.map((e,t)=>(0,x.jsx)(S.f,{fill:e.color},`cell-${t}`))}),(0,x.jsx)(y.m,{})]})})}function ee(e){let{data:t}=e;return t&&0!==t.length?(0,x.jsx)(g.u,{width:"100%",height:"100%",children:(0,x.jsxs)(z.E,{data:t.slice(0,8),margin:{top:20,right:30,left:20,bottom:5},children:[(0,x.jsx)(p.d,{strokeDasharray:"3 3"}),(0,x.jsx)(v.W,{dataKey:"name",angle:-45,textAnchor:"end",height:100}),(0,x.jsx)(b.h,{}),(0,x.jsx)(y.m,{}),(0,x.jsx)(f.s,{}),(0,x.jsx)(D.y,{dataKey:"totalRequests",fill:"#4F46E5",name:"Total Requests"}),(0,x.jsx)(D.y,{dataKey:"completedRequests",fill:"#10B981",name:"Completed"})]})}):(0,x.jsx)("div",{className:"h-full flex items-center justify-center bg-gray-50 rounded-lg",children:(0,x.jsxs)("div",{className:"text-center text-gray-500",children:[(0,x.jsx)(c.vQY,{className:"mx-auto h-12 w-12 mb-2"}),(0,x.jsx)("p",{children:"No service performance data available"})]})})}function te(e){let{title:t,value:s,icon:a,color:r,change:n}=e;return(0,x.jsxs)("div",{className:`rounded-lg border p-6 ${{indigo:"bg-indigo-50 border-indigo-100",blue:"bg-blue-50 border-blue-100",yellow:"bg-yellow-50 border-yellow-100",green:"bg-green-50 border-green-100",purple:"bg-purple-50 border-purple-100"}[r]}`,children:[(0,x.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,x.jsx)("div",{className:"p-3 rounded-full bg-white",children:a}),(0,x.jsx)("span",{className:"text-xs font-medium "+(n.includes("+")?"text-green-600":"text-gray-600"),children:n})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:"text-sm font-medium text-gray-600",children:t}),(0,x.jsx)("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:s})]})]})}function se(){const{showSuccess:e,showError:t}=(0,d.hN)(),[s,i]=(0,a.useState)(null),[l,o]=(0,a.useState)(!0),[m,h]=(0,a.useState)(null),[u,g]=(0,a.useState)(null),[j,p]=(0,a.useState)("7d"),v=async()=>{try{o(!0),h(null);const t=new Date,s=new Date,a="7d"===j?7:"30d"===j?30:90;s.setDate(t.getDate()-a);const[l,d,c]=await Promise.all([(0,r.GG)((0,r.rJ)(n.db,"services")),(0,r.GG)((0,r.P)((0,r.rJ)(n.db,"requests"),(0,r._M)("createdAt",">=",s),(0,r.My)("createdAt","desc"))),(0,r.GG)((0,r.rJ)(n.db,"users"))]),x=[];l.forEach(e=>x.push({id:e.id,...e.data()}));const m=[];d.forEach(e=>m.push({id:e.id,...e.data()}));const u=[];c.forEach(e=>u.push({id:e.id,...e.data()}));const p=m.length,v=m.filter(e=>"completed"===e.status).length,b=m.filter(e=>"pending"===e.status).length,y=m.filter(e=>"in-progress"===e.status).length,f=m.filter(e=>"completed"===e.status&&e.price).reduce((e,t)=>e+(parseFloat(t.price)||0),0),N=x.map(e=>{const t=m.filter(t=>t.serviceId===e.id),s=t.filter(e=>"completed"===e.status);return{id:e.id,name:e.title||e.name,totalRequests:t.length,completedRequests:s.length,successRate:t.length>0?Math.round(s.length/t.length*100):0,revenue:s.reduce((e,t)=>e+(parseFloat(t.price)||0),0)}}),w=[];for(let e=a-1;e>=0;e--){const t=new Date;t.setDate(t.getDate()-e);const s=new Date(t.setHours(0,0,0,0)),a=new Date(t.setHours(23,59,59,999)),r=m.filter(e=>{var t;const r=null===(t=e.createdAt)||void 0===t?void 0:t.toDate();return r>=s&&r<=a});w.push({date:s.toLocaleDateString("en-US",{month:"short",day:"numeric"}),requests:r.length,completed:r.filter(e=>"completed"===e.status).length,revenue:r.filter(e=>"completed"===e.status).reduce((e,t)=>e+(parseFloat(t.price)||0),0)})}const C={overview:{totalRequests:p,completedRequests:v,pendingRequests:b,inProgressRequests:y,totalRevenue:f,totalServices:x.length,totalUsers:u.length,completionRate:p>0?Math.round(v/p*100):0},servicePerformance:N.sort((e,t)=>t.totalRequests-e.totalRequests),dailyTrends:w,topServices:N.sort((e,t)=>t.revenue-e.revenue).slice(0,5),recentActivity:m.sort((e,t)=>{var s,a;return(null===(s=t.createdAt)||void 0===s?void 0:s.toDate())-(null===(a=e.createdAt)||void 0===a?void 0:a.toDate())}).slice(0,10)};i(C),g(new Date),e("Analytics data updated successfully")}catch(m){console.error("Error fetching analytics data:",m),h(m.message),t("Failed to load analytics data")}finally{o(!1)}};(0,a.useEffect)(()=>{v()},[j]);const b=()=>{v()},y=e=>{if(!e)return"N/A";if("function"===typeof e.toDate)return e.toDate().toLocaleString();if(e instanceof Date)return e.toLocaleString();try{return new Date(e).toLocaleString()}catch(m){return console.error("Error formatting timestamp:",m),"N/A"}};return l&&!s?(0,x.jsx)(ae,{title:"Analytics",activeNav:"analytics",children:(0,x.jsx)("div",{className:"p-6",children:(0,x.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,x.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})})})}):m?(0,x.jsx)(ae,{title:"Analytics",activeNav:"analytics",children:(0,x.jsx)("div",{className:"p-6",children:(0,x.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-8 text-center",children:[(0,x.jsx)(c.y3G,{className:"mx-auto h-12 w-12 text-red-400 mb-4"}),(0,x.jsx)("h3",{className:"text-lg font-medium text-red-900 mb-2",children:"Error loading analytics"}),(0,x.jsx)("p",{className:"text-red-700 mb-4",children:m}),(0,x.jsx)("button",{onClick:b,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})})}):(0,x.jsx)(ae,{title:"Analytics",activeNav:"analytics",children:(0,x.jsxs)("div",{className:"p-6",children:[(0,x.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[(0,x.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4 sm:mb-0",children:"Analytics Dashboard"}),(0,x.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,x.jsxs)("select",{value:j,onChange:e=>p(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,x.jsx)("option",{value:"7d",children:"Last 7 days"}),(0,x.jsx)("option",{value:"30d",children:"Last 30 days"}),(0,x.jsx)("option",{value:"90d",children:"Last 90 days"})]}),u&&(0,x.jsxs)("span",{className:"text-sm text-gray-500",children:["Last updated: ",u.toLocaleTimeString()]}),(0,x.jsxs)("button",{onClick:b,disabled:l,className:"flex items-center px-3 py-2 bg-indigo-100 text-indigo-700 rounded-lg hover:bg-indigo-200 disabled:opacity-50",children:[(0,x.jsx)(c.jTZ,{className:"mr-2 "+(l?"animate-spin":"")}),"Refresh"]})]})]}),s&&(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,x.jsx)(te,{icon:c.cfS,title:"Total Users",value:s.overview.totalUsers,change:"+12% from last month",iconBg:"bg-blue-100",iconColor:"text-blue-600"}),(0,x.jsx)(te,{icon:c.jH2,title:"Total Requests",value:s.overview.totalRequests,change:"+8% from last month",iconBg:"bg-green-100",iconColor:"text-green-600"}),(0,x.jsx)(te,{icon:c.A3x,title:"Completion Rate",value:`${s.overview.completionRate}%`,change:"+5% from last month",iconBg:"bg-purple-100",iconColor:"text-purple-600"}),(0,x.jsx)(te,{icon:c.z8N,title:"Total Revenue",value:`$${s.overview.totalRevenue.toLocaleString()}`,change:"+15% from last month",iconBg:"bg-orange-100",iconColor:"text-orange-600"})]}),(0,x.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,x.jsxs)("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6",children:[(0,x.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Daily Trends"}),(0,x.jsx)("div",{className:"h-64",children:(0,x.jsx)(X,{data:(null===s||void 0===s?void 0:s.dailyTrends)||[]})})]}),(0,x.jsxs)("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6",children:[(0,x.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Request Status Distribution"}),(0,x.jsx)("div",{className:"h-64",children:(0,x.jsx)(Y,{data:(null===s||void 0===s?void 0:s.overview)||{}})})]})]}),(0,x.jsxs)("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6 mb-8",children:[(0,x.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Performance"}),(0,x.jsx)("div",{className:"h-80",children:(0,x.jsx)(ee,{data:(null===s||void 0===s?void 0:s.servicePerformance)||[]})})]}),(null===s||void 0===s?void 0:s.recentActivity)&&s.recentActivity.length>0&&(0,x.jsxs)("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6 mt-6",children:[(0,x.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Recent Activity"}),(0,x.jsx)("div",{className:"space-y-3",children:s.recentActivity.map((e,t)=>(0,x.jsxs)("div",{className:"flex items-center border-b pb-3 last:border-0 last:pb-0",children:[(0,x.jsx)("div",{className:"p-2 bg-gray-100 rounded-lg mr-3",children:(0,x.jsx)(c.jH2,{className:"h-4 w-4 text-gray-600"})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:"text-sm font-medium",children:e.serviceName||e.customerName||"New activity"}),(0,x.jsx)("p",{className:"text-xs text-gray-500",children:e.createdAt?y(e.createdAt):"Recent"})]})]},t))})]})]})})}function ae(e){let{children:t,title:s,activeNav:l="dashboard"}=e;const[d,h]=(0,a.useState)(!1),[u,g]=(0,a.useState)(!1),[j,p]=(0,a.useState)(!1),[v,b]=(0,a.useState)(!1),[y,f]=(0,a.useState)([]),[N,w]=(0,a.useState)(0),C=(0,i.Zp)();(0,a.useEffect)(()=>{(async()=>{try{const e=(0,r.P)((0,r.rJ)(n.db,"notifications"),(0,r.My)("createdAt","desc"),(0,r.AB)(10)),t=await(0,r.GG)(e),s=[];let a=0;t.forEach(e=>{const t={id:e.id,...e.data()};s.push(t),t.read||a++}),f(s),w(a)}catch(e){console.error("Error fetching notifications:",e)}})()},[]);const S=e=>{if(!e)return"Just now";const t=new Date,s=e.toDate?e.toDate():new Date(e),a=Math.floor((t-s)/6e4);return a<1?"Just now":a<60?`${a}m ago`:a<1440?`${Math.floor(a/60)}h ago`:`${Math.floor(a/1440)}d ago`};return(0,x.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,x.jsx)(m,{collapsed:u,onToggle:()=>g(!u),mobileMenuOpen:d,onMobileClose:()=>h(!1)}),d&&(0,x.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden",onClick:()=>h(!1)}),(0,x.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,x.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4",children:(0,x.jsxs)("div",{className:"flex items-center justify-between",children:[(0,x.jsx)("button",{onClick:()=>h(!0),className:"p-2 rounded-lg hover:bg-gray-100 md:hidden",children:(0,x.jsx)(c.ND1,{size:20})}),(0,x.jsx)("h1",{className:"text-2xl font-bold text-gray-900 capitalize",children:l.replace("-"," ")}),(0,x.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,x.jsx)("span",{className:"text-sm text-gray-600",children:"Admin Panel"}),(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsxs)("button",{onClick:()=>p(!j),className:"relative p-2 rounded-lg hover:bg-gray-100",children:[(0,x.jsx)(c.zd,{size:20}),N>0&&(0,x.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:N})]}),j&&(0,x.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[(0,x.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,x.jsxs)("div",{className:"flex justify-between items-center",children:[(0,x.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Notifications"}),(0,x.jsxs)("span",{className:"text-sm text-gray-500",children:[N," unread"]})]})}),(0,x.jsx)("div",{className:"max-h-96 overflow-y-auto",children:y.length>0?y.map(e=>(0,x.jsxs)("div",{className:"p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer "+(e.read?"":"bg-blue-50"),onClick:()=>(async e=>{try{await(0,r.mZ)((0,r.H9)(n.db,"notifications",e),{read:!0}),f(y.map(t=>t.id===e?{...t,read:!0}:t)),w(e=>Math.max(0,e-1))}catch(t){console.error("Error marking notification as read:",t)}})(e.id),children:[(0,x.jsxs)("div",{className:"flex justify-between items-start",children:[(0,x.jsxs)("div",{className:"flex-1",children:[(0,x.jsx)("p",{className:"text-sm font-medium text-gray-800",children:e.title}),(0,x.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.message})]}),!e.read&&(0,x.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full ml-2 mt-1"})]}),(0,x.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:S(e.createdAt)})]},e.id)):(0,x.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,x.jsx)(c.zd,{className:"mx-auto h-8 w-8 mb-2"}),(0,x.jsx)("p",{children:"No notifications yet"})]})})]})]}),(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsxs)("button",{onClick:()=>b(!v),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100",children:[(0,x.jsx)("div",{className:"w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700",children:(0,x.jsx)(c.JXP,{size:18})}),(0,x.jsx)("span",{className:"hidden md:inline text-sm font-medium",children:"Admin"}),(0,x.jsx)(c.fK4,{size:16,className:"text-gray-500"})]}),v&&(0,x.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:(0,x.jsxs)("div",{className:"p-2",children:[(0,x.jsxs)("div",{className:"px-3 py-2 border-b border-gray-100",children:[(0,x.jsx)("p",{className:"text-sm font-medium text-gray-800",children:"Admin User"}),(0,x.jsx)("p",{className:"text-xs text-gray-500",children:"admin@example.com"})]}),(0,x.jsxs)("button",{onClick:()=>{b(!1)},className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md flex items-center",children:[(0,x.jsx)(c.JXP,{className:"mr-2",size:16}),"Profile Settings"]}),(0,x.jsxs)("button",{onClick:()=>{b(!1)},className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md flex items-center",children:[(0,x.jsx)(c.VSk,{className:"mr-2",size:16}),"Preferences"]}),(0,x.jsx)("div",{className:"border-t border-gray-100 mt-1 pt-1",children:(0,x.jsxs)("button",{onClick:()=>{b(!1),(async()=>{try{const e=(0,o.xI)();await(0,o.CI)(e),C("/admin/login")}catch(e){console.error("Error signing out:",e)}})()},className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-md flex items-center",children:[(0,x.jsx)(c.QeK,{className:"mr-2",size:16}),"Sign Out"]})})]})})]})]})]})}),(0,x.jsx)("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6 bg-gray-50",children:t})]})]})}function re(){const[e,t]=(0,a.useState)([]),[s,i]=(0,a.useState)(!0),{showSuccess:l,showError:o}=(0,d.hN)();(0,a.useEffect)(()=>{m()},[]);const m=async()=>{try{i(!0);const e=(await(0,r.GG)((0,r.rJ)(n.db,"contracts"))).docs.map(e=>({id:e.id,...e.data()}));t(e)}catch(e){console.error("Error fetching contracts:",e),o("Failed to load contracts")}finally{i(!1)}};return(0,x.jsx)(ae,{children:(0,x.jsxs)("div",{className:"space-y-6",children:[(0,x.jsxs)("div",{className:"flex justify-between items-center",children:[(0,x.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Contract Management"}),(0,x.jsxs)("button",{className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 flex items-center",children:[(0,x.jsx)(c.GGD,{className:"mr-2"}),"New Contract"]})]}),(0,x.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:s?(0,x.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,x.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):(0,x.jsx)("div",{className:"overflow-x-auto",children:(0,x.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,x.jsx)("thead",{className:"bg-gray-50",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contract ID"}),(0,x.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendor"}),(0,x.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),(0,x.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,x.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,x.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>{var t;return(0,x.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,x.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.contractId}),(0,x.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.vendorName}),(0,x.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["\u20b9",null===(t=e.value)||void 0===t?void 0:t.toLocaleString()]}),(0,x.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,x.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full \n                          "+("active"===e.status?"bg-green-100 text-green-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.status})}),(0,x.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,x.jsxs)("div",{className:"flex space-x-2",children:[(0,x.jsx)("button",{className:"text-indigo-600 hover:text-indigo-900",children:(0,x.jsx)(c.Vap,{})}),(0,x.jsx)("button",{className:"text-blue-600 hover:text-blue-900",children:(0,x.jsx)(c.WXf,{})})]})})]},e.id)})})]})})})]})})}function ne(e){let{data:t}=e;const s=Object.entries(t||{}).map(e=>{let[t,s]=e;return{month:t,amount:s}});return(0,x.jsx)(g.u,{width:"100%",height:"100%",children:(0,x.jsxs)(A.Q,{data:s,children:[(0,x.jsx)(p.d,{strokeDasharray:"3 3"}),(0,x.jsx)(v.W,{dataKey:"month"}),(0,x.jsx)(b.h,{}),(0,x.jsx)(y.m,{formatter:e=>[`\u20b9${e.toLocaleString()}`,"Spend"]}),(0,x.jsx)(k.Gk,{type:"monotone",dataKey:"amount",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.3})]})})}function ie(e){let{data:t}=e;const s=Object.entries(t||{}).map(e=>{let[t,s]=e;return{name:t,value:s}}),a=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"];return(0,x.jsx)(g.u,{width:"100%",height:"100%",children:(0,x.jsxs)(w.r,{children:[(0,x.jsx)(C.F,{data:s,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:s}=e;return`${t} ${(100*s).toFixed(0)}%`},outerRadius:80,fill:"#8884d8",dataKey:"value",children:s.map((e,t)=>(0,x.jsx)(S.f,{fill:a[t%a.length]},`cell-${t}`))}),(0,x.jsx)(y.m,{})]})})}},3505:(e,t,s)=>{s.d(t,{hN:()=>l,ph:()=>d});var a=s(5043),r=s(5772),n=s(579);const i=(0,a.createContext)(),l=()=>{const e=(0,a.useContext)(i);if(!e)throw new Error("useNotification must be used within a NotificationProvider");return e};function d(e){let{children:t}=e;const[s,r]=(0,a.useState)([]),l=e=>{const t=Date.now()+Math.random(),s={id:t,type:"info",duration:5e3,...e};return r(e=>[...e,s]),s.duration>0&&setTimeout(()=>{d(t)},s.duration),t},d=e=>{r(t=>t.filter(t=>t.id!==e))},c={notifications:s,addNotification:l,removeNotification:d,clearAllNotifications:()=>{r([])},showSuccess:function(e){return l({type:"success",message:e,...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}})},showError:function(e){return l({type:"error",message:e,duration:8e3,...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}})},showWarning:function(e){return l({type:"warning",message:e,...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}})},showInfo:function(e){return l({type:"info",message:e,...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}})}};return(0,n.jsxs)(i.Provider,{value:c,children:[t,(0,n.jsx)(o,{})]})}function o(){const{notifications:e,removeNotification:t}=l();return(0,n.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm w-full",children:e.map(e=>(0,n.jsx)(c,{notification:e,onClose:()=>t(e.id)},e.id))})}function c(e){let{notification:t,onClose:s}=e;const[i,l]=(0,a.useState)(!1),[d,o]=(0,a.useState)(!1);(0,a.useEffect)(()=>{setTimeout(()=>l(!0),10)},[]);return(0,n.jsx)("div",{className:`transform transition-all duration-300 ease-in-out ${i&&!d?"translate-x-0 opacity-100":"translate-x-full opacity-0"} ${{success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",info:"bg-blue-50 border-blue-200 text-blue-800"}[t.type]} border rounded-lg shadow-lg p-4 max-w-sm w-full`,children:(0,n.jsxs)("div",{className:"flex items-start",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(()=>{const e={className:"h-5 w-5 flex-shrink-0"};switch(t.type){case"success":return(0,n.jsx)(r.A3x,{...e,className:"h-5 w-5 flex-shrink-0 text-green-600"});case"error":return(0,n.jsx)(r.y3G,{...e,className:"h-5 w-5 flex-shrink-0 text-red-600"});case"warning":return(0,n.jsx)(r.eHT,{...e,className:"h-5 w-5 flex-shrink-0 text-yellow-600"});default:return(0,n.jsx)(r.S8s,{...e,className:"h-5 w-5 flex-shrink-0 text-blue-600"})}})()}),(0,n.jsxs)("div",{className:"ml-3 flex-1",children:[t.title&&(0,n.jsx)("h4",{className:"text-sm font-medium mb-1",children:t.title}),(0,n.jsx)("p",{className:"text-sm",children:t.message}),t.actions&&(0,n.jsx)("div",{className:"mt-3 flex space-x-2",children:t.actions.map((e,t)=>(0,n.jsx)("button",{onClick:e.onClick,className:"text-xs font-medium px-2 py-1 rounded "+(e.primary?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"),children:e.label},t))})]}),(0,n.jsx)("div",{className:"ml-4 flex-shrink-0",children:(0,n.jsx)("button",{onClick:()=>{o(!0),setTimeout(s,300)},className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:(0,n.jsx)(r.yGN,{className:"h-4 w-4"})})})]})})}}}]);
//# sourceMappingURL=624.22f67654.chunk.js.map